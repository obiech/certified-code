{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport { isNumber, isString } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { renderTag } from '../util/graphic';\nimport Theme from '../util/theme';\nimport { getValueByPercent } from '../util/util';\nvar LineAnnotation = /** @class */function (_super) {\n  __extends(LineAnnotation, _super);\n  function LineAnnotation() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @protected\n   * 默认的配置项\n   * @returns {object} 默认的配置项\n   */\n  LineAnnotation.prototype.getDefaultCfg = function () {\n    var cfg = _super.prototype.getDefaultCfg.call(this);\n    return __assign(__assign({}, cfg), {\n      name: 'annotation',\n      type: 'line',\n      locationType: 'region',\n      start: null,\n      end: null,\n      style: {},\n      text: null,\n      defaultCfg: {\n        style: {\n          fill: Theme.textColor,\n          fontSize: 12,\n          textAlign: 'center',\n          textBaseline: 'bottom',\n          fontFamily: Theme.fontFamily\n        },\n        text: {\n          position: 'center',\n          autoRotate: true,\n          content: null,\n          offsetX: 0,\n          offsetY: 0,\n          style: {\n            stroke: Theme.lineColor,\n            lineWidth: 1\n          }\n        }\n      }\n    });\n  };\n  LineAnnotation.prototype.renderInner = function (group) {\n    this.renderLine(group);\n    if (this.get('text')) {\n      this.renderLabel(group);\n    }\n  };\n  // 绘制线\n  LineAnnotation.prototype.renderLine = function (group) {\n    var start = this.get('start');\n    var end = this.get('end');\n    var style = this.get('style');\n    this.addShape(group, {\n      type: 'line',\n      id: this.getElementId('line'),\n      name: 'annotation-line',\n      attrs: __assign({\n        x1: start.x,\n        y1: start.y,\n        x2: end.x,\n        y2: end.y\n      }, style)\n    });\n  };\n  // 获取 label 的位置\n  LineAnnotation.prototype.getLabelPoint = function (start, end, position) {\n    var percent;\n    if (position === 'start') {\n      percent = 0;\n    } else if (position === 'center') {\n      percent = 0.5;\n    } else if (isString(position) && position.indexOf('%') !== -1) {\n      percent = parseInt(position, 10) / 100;\n    } else if (isNumber(position)) {\n      percent = position;\n    } else {\n      percent = 1;\n    }\n    if (percent > 1 || percent < 0) {\n      percent = 1;\n    }\n    return {\n      x: getValueByPercent(start.x, end.x, percent),\n      y: getValueByPercent(start.y, end.y, percent)\n    };\n  };\n  // 绘制 label\n  LineAnnotation.prototype.renderLabel = function (group) {\n    var text = this.get('text');\n    var start = this.get('start');\n    var end = this.get('end');\n    var position = text.position,\n      content = text.content,\n      style = text.style,\n      offsetX = text.offsetX,\n      offsetY = text.offsetY,\n      autoRotate = text.autoRotate,\n      maxLength = text.maxLength,\n      autoEllipsis = text.autoEllipsis,\n      ellipsisPosition = text.ellipsisPosition,\n      background = text.background,\n      _a = text.isVertical,\n      isVertical = _a === void 0 ? false : _a;\n    var point = this.getLabelPoint(start, end, position);\n    var x = point.x + offsetX;\n    var y = point.y + offsetY;\n    var cfg = {\n      id: this.getElementId('line-text'),\n      name: 'annotation-line-text',\n      x: x,\n      y: y,\n      content: content,\n      style: style,\n      maxLength: maxLength,\n      autoEllipsis: autoEllipsis,\n      ellipsisPosition: ellipsisPosition,\n      background: background,\n      isVertical: isVertical\n    };\n    // 如果自动旋转\n    if (autoRotate) {\n      var vector = [end.x - start.x, end.y - start.y];\n      cfg.rotate = Math.atan2(vector[1], vector[0]);\n    }\n    renderTag(group, cfg);\n  };\n  return LineAnnotation;\n}(GroupComponent);\nexport default LineAnnotation;","map":{"version":3,"names":["__assign","__extends","isNumber","isString","GroupComponent","renderTag","Theme","getValueByPercent","LineAnnotation","_super","apply","arguments","prototype","getDefaultCfg","cfg","call","name","type","locationType","start","end","style","text","defaultCfg","fill","textColor","fontSize","textAlign","textBaseline","fontFamily","position","autoRotate","content","offsetX","offsetY","stroke","lineColor","lineWidth","renderInner","group","renderLine","get","renderLabel","addShape","id","getElementId","attrs","x1","x","y1","y","x2","y2","getLabelPoint","percent","indexOf","parseInt","maxLength","autoEllipsis","ellipsisPosition","background","_a","isVertical","point","vector","rotate","Math","atan2"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/node_modules/@antv/component/esm/annotation/line.js"],"sourcesContent":["import { __assign, __extends } from \"tslib\";\nimport { isNumber, isString } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { renderTag } from '../util/graphic';\nimport Theme from '../util/theme';\nimport { getValueByPercent } from '../util/util';\nvar LineAnnotation = /** @class */ (function (_super) {\n    __extends(LineAnnotation, _super);\n    function LineAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @protected\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    LineAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'line', locationType: 'region', start: null, end: null, style: {}, text: null, defaultCfg: {\n                style: {\n                    fill: Theme.textColor,\n                    fontSize: 12,\n                    textAlign: 'center',\n                    textBaseline: 'bottom',\n                    fontFamily: Theme.fontFamily,\n                },\n                text: {\n                    position: 'center',\n                    autoRotate: true,\n                    content: null,\n                    offsetX: 0,\n                    offsetY: 0,\n                    style: {\n                        stroke: Theme.lineColor,\n                        lineWidth: 1,\n                    },\n                },\n            } });\n    };\n    LineAnnotation.prototype.renderInner = function (group) {\n        this.renderLine(group);\n        if (this.get('text')) {\n            this.renderLabel(group);\n        }\n    };\n    // 绘制线\n    LineAnnotation.prototype.renderLine = function (group) {\n        var start = this.get('start');\n        var end = this.get('end');\n        var style = this.get('style');\n        this.addShape(group, {\n            type: 'line',\n            id: this.getElementId('line'),\n            name: 'annotation-line',\n            attrs: __assign({ x1: start.x, y1: start.y, x2: end.x, y2: end.y }, style),\n        });\n    };\n    // 获取 label 的位置\n    LineAnnotation.prototype.getLabelPoint = function (start, end, position) {\n        var percent;\n        if (position === 'start') {\n            percent = 0;\n        }\n        else if (position === 'center') {\n            percent = 0.5;\n        }\n        else if (isString(position) && position.indexOf('%') !== -1) {\n            percent = parseInt(position, 10) / 100;\n        }\n        else if (isNumber(position)) {\n            percent = position;\n        }\n        else {\n            percent = 1;\n        }\n        if (percent > 1 || percent < 0) {\n            percent = 1;\n        }\n        return {\n            x: getValueByPercent(start.x, end.x, percent),\n            y: getValueByPercent(start.y, end.y, percent),\n        };\n    };\n    // 绘制 label\n    LineAnnotation.prototype.renderLabel = function (group) {\n        var text = this.get('text');\n        var start = this.get('start');\n        var end = this.get('end');\n        var position = text.position, content = text.content, style = text.style, offsetX = text.offsetX, offsetY = text.offsetY, autoRotate = text.autoRotate, maxLength = text.maxLength, autoEllipsis = text.autoEllipsis, ellipsisPosition = text.ellipsisPosition, background = text.background, _a = text.isVertical, isVertical = _a === void 0 ? false : _a;\n        var point = this.getLabelPoint(start, end, position);\n        var x = point.x + offsetX;\n        var y = point.y + offsetY;\n        var cfg = {\n            id: this.getElementId('line-text'),\n            name: 'annotation-line-text',\n            x: x,\n            y: y,\n            content: content,\n            style: style,\n            maxLength: maxLength,\n            autoEllipsis: autoEllipsis,\n            ellipsisPosition: ellipsisPosition,\n            background: background,\n            isVertical: isVertical,\n        };\n        // 如果自动旋转\n        if (autoRotate) {\n            var vector = [end.x - start.x, end.y - start.y];\n            cfg.rotate = Math.atan2(vector[1], vector[0]);\n        }\n        renderTag(group, cfg);\n    };\n    return LineAnnotation;\n}(GroupComponent));\nexport default LineAnnotation;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}