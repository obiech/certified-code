{"ast":null,"code":"import { BBox } from '../../../util/bbox';\nimport { isContrastColorWhite } from '../../../util/color';\nexport function adjustColor(items, labels, shapes) {\n  if (shapes.length === 0) {\n    return;\n  }\n  var element = shapes[0].get('element');\n  var theme = element.geometry.theme;\n  var _a = theme.labels || {},\n    fillColorLight = _a.fillColorLight,\n    fillColorDark = _a.fillColorDark;\n  shapes.forEach(function (shape, index) {\n    var label = labels[index];\n    var textShape = label.find(function (el) {\n      return el.get('type') === 'text';\n    });\n    var shapeBBox = BBox.fromObject(shape.getBBox());\n    var textBBox = BBox.fromObject(textShape.getCanvasBBox());\n    var overflow = !shapeBBox.contains(textBBox);\n    var bgColor = shape.attr('fill');\n    var fillWhite = isContrastColorWhite(bgColor);\n    if (!overflow) {\n      if (fillWhite) {\n        if (fillColorLight) {\n          textShape.attr('fill', fillColorLight);\n        }\n      } else {\n        if (fillColorDark) {\n          textShape.attr('fill', fillColorDark);\n        }\n      }\n    } else {\n      // 出现溢出直接应用 overflowLabel 样式\n      textShape.attr(theme.overflowLabels.style);\n    }\n  });\n}","map":{"version":3,"names":["BBox","isContrastColorWhite","adjustColor","items","labels","shapes","length","element","get","theme","geometry","_a","fillColorLight","fillColorDark","forEach","shape","index","label","textShape","find","el","shapeBBox","fromObject","getBBox","textBBox","getCanvasBBox","overflow","contains","bgColor","attr","fillWhite","overflowLabels","style"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/node_modules/@antv/g2/esm/geometry/label/layout/adjust-color.js"],"sourcesContent":["import { BBox } from '../../../util/bbox';\nimport { isContrastColorWhite } from '../../../util/color';\nexport function adjustColor(items, labels, shapes) {\n    if (shapes.length === 0) {\n        return;\n    }\n    var element = shapes[0].get('element');\n    var theme = element.geometry.theme;\n    var _a = theme.labels || {}, fillColorLight = _a.fillColorLight, fillColorDark = _a.fillColorDark;\n    shapes.forEach(function (shape, index) {\n        var label = labels[index];\n        var textShape = label.find(function (el) { return el.get('type') === 'text'; });\n        var shapeBBox = BBox.fromObject(shape.getBBox());\n        var textBBox = BBox.fromObject(textShape.getCanvasBBox());\n        var overflow = !shapeBBox.contains(textBBox);\n        var bgColor = shape.attr('fill');\n        var fillWhite = isContrastColorWhite(bgColor);\n        if (!overflow) {\n            if (fillWhite) {\n                if (fillColorLight) {\n                    textShape.attr('fill', fillColorLight);\n                }\n            }\n            else {\n                if (fillColorDark) {\n                    textShape.attr('fill', fillColorDark);\n                }\n            }\n        }\n        else {\n            // 出现溢出直接应用 overflowLabel 样式\n            textShape.attr(theme.overflowLabels.style);\n        }\n    });\n}\n"],"mappings":"AAAA,SAASA,IAAI,QAAQ,oBAAoB;AACzC,SAASC,oBAAoB,QAAQ,qBAAqB;AAC1D,OAAO,SAASC,WAAWA,CAACC,KAAK,EAAEC,MAAM,EAAEC,MAAM,EAAE;EAC/C,IAAIA,MAAM,CAACC,MAAM,KAAK,CAAC,EAAE;IACrB;EACJ;EACA,IAAIC,OAAO,GAAGF,MAAM,CAAC,CAAC,CAAC,CAACG,GAAG,CAAC,SAAS,CAAC;EACtC,IAAIC,KAAK,GAAGF,OAAO,CAACG,QAAQ,CAACD,KAAK;EAClC,IAAIE,EAAE,GAAGF,KAAK,CAACL,MAAM,IAAI,CAAC,CAAC;IAAEQ,cAAc,GAAGD,EAAE,CAACC,cAAc;IAAEC,aAAa,GAAGF,EAAE,CAACE,aAAa;EACjGR,MAAM,CAACS,OAAO,CAAC,UAAUC,KAAK,EAAEC,KAAK,EAAE;IACnC,IAAIC,KAAK,GAAGb,MAAM,CAACY,KAAK,CAAC;IACzB,IAAIE,SAAS,GAAGD,KAAK,CAACE,IAAI,CAAC,UAAUC,EAAE,EAAE;MAAE,OAAOA,EAAE,CAACZ,GAAG,CAAC,MAAM,CAAC,KAAK,MAAM;IAAE,CAAC,CAAC;IAC/E,IAAIa,SAAS,GAAGrB,IAAI,CAACsB,UAAU,CAACP,KAAK,CAACQ,OAAO,CAAC,CAAC,CAAC;IAChD,IAAIC,QAAQ,GAAGxB,IAAI,CAACsB,UAAU,CAACJ,SAAS,CAACO,aAAa,CAAC,CAAC,CAAC;IACzD,IAAIC,QAAQ,GAAG,CAACL,SAAS,CAACM,QAAQ,CAACH,QAAQ,CAAC;IAC5C,IAAII,OAAO,GAAGb,KAAK,CAACc,IAAI,CAAC,MAAM,CAAC;IAChC,IAAIC,SAAS,GAAG7B,oBAAoB,CAAC2B,OAAO,CAAC;IAC7C,IAAI,CAACF,QAAQ,EAAE;MACX,IAAII,SAAS,EAAE;QACX,IAAIlB,cAAc,EAAE;UAChBM,SAAS,CAACW,IAAI,CAAC,MAAM,EAAEjB,cAAc,CAAC;QAC1C;MACJ,CAAC,MACI;QACD,IAAIC,aAAa,EAAE;UACfK,SAAS,CAACW,IAAI,CAAC,MAAM,EAAEhB,aAAa,CAAC;QACzC;MACJ;IACJ,CAAC,MACI;MACD;MACAK,SAAS,CAACW,IAAI,CAACpB,KAAK,CAACsB,cAAc,CAACC,KAAK,CAAC;IAC9C;EACJ,CAAC,CAAC;AACN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}