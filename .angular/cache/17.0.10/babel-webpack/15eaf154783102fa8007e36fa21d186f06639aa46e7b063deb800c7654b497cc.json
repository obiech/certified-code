{"ast":null,"code":"import { __assign, __extends, __values } from \"tslib\";\nimport ColorUtil from '@antv/color-util';\nimport { get, isNumber } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport Geometry from './base';\n/**\n * 用于绘制热力图。\n */\nvar Heatmap = /** @class */function (_super) {\n  __extends(Heatmap, _super);\n  function Heatmap() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = 'heatmap';\n    _this.paletteCache = {};\n    return _this;\n  }\n  Heatmap.prototype.updateElements = function (mappingDataArray, isUpdate) {\n    if (isUpdate === void 0) {\n      isUpdate = false;\n    }\n    for (var i = 0; i < mappingDataArray.length; i++) {\n      var mappingData = mappingDataArray[i];\n      var range = this.prepareRange(mappingData);\n      var radius = this.prepareSize();\n      var blur_1 = get(this.styleOption, ['cfg', 'shadowBlur']);\n      if (!isNumber(blur_1)) {\n        blur_1 = radius / 2;\n      }\n      this.prepareGreyScaleBlurredCircle(radius, blur_1);\n      this.drawWithRange(mappingData, range, radius, blur_1);\n    }\n  };\n  /** 热力图暂时不支持 callback 回调（文档需要说明下） */\n  Heatmap.prototype.color = function (field, cfg) {\n    this.createAttrOption('color', field, typeof cfg !== 'function' ? cfg : '');\n    return this;\n  };\n  /**\n   * clear\n   */\n  Heatmap.prototype.clear = function () {\n    _super.prototype.clear.call(this);\n    this.clearShadowCanvasCtx();\n    this.paletteCache = {};\n  };\n  Heatmap.prototype.prepareRange = function (data) {\n    var colorAttr = this.getAttribute('color');\n    var colorField = colorAttr.getFields()[0];\n    var min = Infinity;\n    var max = -Infinity;\n    data.forEach(function (row) {\n      var value = row[FIELD_ORIGIN][colorField];\n      if (value > max) {\n        max = value;\n      }\n      if (value < min) {\n        min = value;\n      }\n    });\n    if (min === max) {\n      min = max - 1;\n    }\n    return [min, max];\n  };\n  Heatmap.prototype.prepareSize = function () {\n    var radius = this.getDefaultValue('size');\n    if (!isNumber(radius)) {\n      radius = this.getDefaultSize();\n    }\n    return radius;\n  };\n  Heatmap.prototype.prepareGreyScaleBlurredCircle = function (radius, blur) {\n    var grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    var r2 = radius + blur;\n    var ctx = grayScaleBlurredCanvas.getContext('2d');\n    grayScaleBlurredCanvas.width = grayScaleBlurredCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, grayScaleBlurredCanvas.width, grayScaleBlurredCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, radius, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  };\n  Heatmap.prototype.drawWithRange = function (data, range, radius, blur) {\n    var e_1, _a;\n    // canvas size\n    var _b = this.coordinate,\n      start = _b.start,\n      end = _b.end;\n    var width = this.coordinate.getWidth();\n    var height = this.coordinate.getHeight();\n    // value, range, etc\n    var colorAttr = this.getAttribute('color');\n    var valueField = colorAttr.getFields()[0];\n    // prepare shadow canvas context\n    this.clearShadowCanvasCtx();\n    var ctx = this.getShadowCanvasCtx();\n    // filter data\n    if (range) {\n      data = data.filter(function (row) {\n        return row[FIELD_ORIGIN][valueField] <= range[1] && row[FIELD_ORIGIN][valueField] >= range[0];\n      });\n    }\n    // step1. draw points with shadow\n    var scale = this.scales[valueField];\n    try {\n      for (var data_1 = __values(data), data_1_1 = data_1.next(); !data_1_1.done; data_1_1 = data_1.next()) {\n        var obj = data_1_1.value;\n        var _c = this.getDrawCfg(obj),\n          x = _c.x,\n          y = _c.y;\n        var alpha = scale.scale(obj[FIELD_ORIGIN][valueField]);\n        this.drawGrayScaleBlurredCircle(x - start.x, y - end.y, radius + blur, alpha, ctx);\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (data_1_1 && !data_1_1.done && (_a = data_1.return)) _a.call(data_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n    // step2. convert pixels\n    var colored = ctx.getImageData(0, 0, width, height);\n    this.clearShadowCanvasCtx();\n    this.colorize(colored);\n    ctx.putImageData(colored, 0, 0);\n    var imageShape = this.getImageShape();\n    imageShape.attr('x', start.x);\n    imageShape.attr('y', end.y);\n    imageShape.attr('width', width);\n    imageShape.attr('height', height);\n    imageShape.attr('img', ctx.canvas);\n    imageShape.set('origin', this.getShapeInfo(data)); // 存储绘图信息数据\n  };\n\n  Heatmap.prototype.getDefaultSize = function () {\n    var position = this.getAttribute('position');\n    var coordinate = this.coordinate;\n    return Math.min(coordinate.getWidth() / (position.scales[0].ticks.length * 4), coordinate.getHeight() / (position.scales[1].ticks.length * 4));\n  };\n  Heatmap.prototype.clearShadowCanvasCtx = function () {\n    var ctx = this.getShadowCanvasCtx();\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  };\n  Heatmap.prototype.getShadowCanvasCtx = function () {\n    var canvas = this.shadowCanvas;\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.shadowCanvas = canvas;\n    }\n    canvas.width = this.coordinate.getWidth();\n    canvas.height = this.coordinate.getHeight();\n    return canvas.getContext('2d');\n  };\n  Heatmap.prototype.getGrayScaleBlurredCanvas = function () {\n    if (!this.grayScaleBlurredCanvas) {\n      this.grayScaleBlurredCanvas = document.createElement('canvas');\n    }\n    return this.grayScaleBlurredCanvas;\n  };\n  Heatmap.prototype.drawGrayScaleBlurredCircle = function (x, y, r, alpha, ctx) {\n    var grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(grayScaleBlurredCanvas, x - r, y - r);\n  };\n  Heatmap.prototype.colorize = function (img) {\n    var colorAttr = this.getAttribute('color');\n    var pixels = img.data;\n    var paletteCache = this.paletteCache;\n    for (var i = 3; i < pixels.length; i += 4) {\n      var alpha = pixels[i]; // get gradient color from opacity value\n      if (isNumber(alpha)) {\n        var palette = paletteCache[alpha] ? paletteCache[alpha] : ColorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  };\n  Heatmap.prototype.getImageShape = function () {\n    var imageShape = this.imageShape;\n    if (imageShape) {\n      return imageShape;\n    }\n    var container = this.container;\n    imageShape = container.addShape({\n      type: 'image',\n      attrs: {}\n    });\n    this.imageShape = imageShape;\n    return imageShape;\n  };\n  Heatmap.prototype.getShapeInfo = function (mappingData) {\n    var shapeCfg = this.getDrawCfg(mappingData[0]);\n    var data = mappingData.map(function (obj) {\n      return obj[FIELD_ORIGIN];\n    });\n    return __assign(__assign({}, shapeCfg), {\n      mappingData: mappingData,\n      data: data\n    });\n  };\n  return Heatmap;\n}(Geometry);\nexport default Heatmap;","map":{"version":3,"names":["__assign","__extends","__values","ColorUtil","get","isNumber","FIELD_ORIGIN","Geometry","Heatmap","_super","_this","apply","arguments","type","paletteCache","prototype","updateElements","mappingDataArray","isUpdate","i","length","mappingData","range","prepareRange","radius","prepareSize","blur_1","styleOption","prepareGreyScaleBlurredCircle","drawWithRange","color","field","cfg","createAttrOption","clear","call","clearShadowCanvasCtx","data","colorAttr","getAttribute","colorField","getFields","min","Infinity","max","forEach","row","value","getDefaultValue","getDefaultSize","blur","grayScaleBlurredCanvas","getGrayScaleBlurredCanvas","r2","ctx","getContext","width","height","clearRect","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","beginPath","arc","Math","PI","closePath","fill","e_1","_a","_b","coordinate","start","end","getWidth","getHeight","valueField","getShadowCanvasCtx","filter","scale","scales","data_1","data_1_1","next","done","obj","_c","getDrawCfg","x","y","alpha","drawGrayScaleBlurredCircle","e_1_1","error","return","colored","getImageData","colorize","putImageData","imageShape","getImageShape","attr","canvas","set","getShapeInfo","position","ticks","shadowCanvas","document","createElement","r","globalAlpha","drawImage","img","pixels","palette","rgb2arr","gradient","container","addShape","attrs","shapeCfg","map"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/node_modules/@antv/g2/esm/geometry/heatmap.js"],"sourcesContent":["import { __assign, __extends, __values } from \"tslib\";\nimport ColorUtil from '@antv/color-util';\nimport { get, isNumber } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport Geometry from './base';\n/**\n * 用于绘制热力图。\n */\nvar Heatmap = /** @class */ (function (_super) {\n    __extends(Heatmap, _super);\n    function Heatmap() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'heatmap';\n        _this.paletteCache = {};\n        return _this;\n    }\n    Heatmap.prototype.updateElements = function (mappingDataArray, isUpdate) {\n        if (isUpdate === void 0) { isUpdate = false; }\n        for (var i = 0; i < mappingDataArray.length; i++) {\n            var mappingData = mappingDataArray[i];\n            var range = this.prepareRange(mappingData);\n            var radius = this.prepareSize();\n            var blur_1 = get(this.styleOption, ['cfg', 'shadowBlur']);\n            if (!isNumber(blur_1)) {\n                blur_1 = radius / 2;\n            }\n            this.prepareGreyScaleBlurredCircle(radius, blur_1);\n            this.drawWithRange(mappingData, range, radius, blur_1);\n        }\n    };\n    /** 热力图暂时不支持 callback 回调（文档需要说明下） */\n    Heatmap.prototype.color = function (field, cfg) {\n        this.createAttrOption('color', field, typeof cfg !== 'function' ? cfg : '');\n        return this;\n    };\n    /**\n     * clear\n     */\n    Heatmap.prototype.clear = function () {\n        _super.prototype.clear.call(this);\n        this.clearShadowCanvasCtx();\n        this.paletteCache = {};\n    };\n    Heatmap.prototype.prepareRange = function (data) {\n        var colorAttr = this.getAttribute('color');\n        var colorField = colorAttr.getFields()[0];\n        var min = Infinity;\n        var max = -Infinity;\n        data.forEach(function (row) {\n            var value = row[FIELD_ORIGIN][colorField];\n            if (value > max) {\n                max = value;\n            }\n            if (value < min) {\n                min = value;\n            }\n        });\n        if (min === max) {\n            min = max - 1;\n        }\n        return [min, max];\n    };\n    Heatmap.prototype.prepareSize = function () {\n        var radius = this.getDefaultValue('size');\n        if (!isNumber(radius)) {\n            radius = this.getDefaultSize();\n        }\n        return radius;\n    };\n    Heatmap.prototype.prepareGreyScaleBlurredCircle = function (radius, blur) {\n        var grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n        var r2 = radius + blur;\n        var ctx = grayScaleBlurredCanvas.getContext('2d');\n        grayScaleBlurredCanvas.width = grayScaleBlurredCanvas.height = r2 * 2;\n        ctx.clearRect(0, 0, grayScaleBlurredCanvas.width, grayScaleBlurredCanvas.height);\n        ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n        ctx.shadowBlur = blur;\n        ctx.shadowColor = 'black';\n        ctx.beginPath();\n        ctx.arc(-r2, -r2, radius, 0, Math.PI * 2, true);\n        ctx.closePath();\n        ctx.fill();\n    };\n    Heatmap.prototype.drawWithRange = function (data, range, radius, blur) {\n        var e_1, _a;\n        // canvas size\n        var _b = this.coordinate, start = _b.start, end = _b.end;\n        var width = this.coordinate.getWidth();\n        var height = this.coordinate.getHeight();\n        // value, range, etc\n        var colorAttr = this.getAttribute('color');\n        var valueField = colorAttr.getFields()[0];\n        // prepare shadow canvas context\n        this.clearShadowCanvasCtx();\n        var ctx = this.getShadowCanvasCtx();\n        // filter data\n        if (range) {\n            data = data.filter(function (row) {\n                return row[FIELD_ORIGIN][valueField] <= range[1] && row[FIELD_ORIGIN][valueField] >= range[0];\n            });\n        }\n        // step1. draw points with shadow\n        var scale = this.scales[valueField];\n        try {\n            for (var data_1 = __values(data), data_1_1 = data_1.next(); !data_1_1.done; data_1_1 = data_1.next()) {\n                var obj = data_1_1.value;\n                var _c = this.getDrawCfg(obj), x = _c.x, y = _c.y;\n                var alpha = scale.scale(obj[FIELD_ORIGIN][valueField]);\n                this.drawGrayScaleBlurredCircle(x - start.x, y - end.y, radius + blur, alpha, ctx);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (data_1_1 && !data_1_1.done && (_a = data_1.return)) _a.call(data_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        // step2. convert pixels\n        var colored = ctx.getImageData(0, 0, width, height);\n        this.clearShadowCanvasCtx();\n        this.colorize(colored);\n        ctx.putImageData(colored, 0, 0);\n        var imageShape = this.getImageShape();\n        imageShape.attr('x', start.x);\n        imageShape.attr('y', end.y);\n        imageShape.attr('width', width);\n        imageShape.attr('height', height);\n        imageShape.attr('img', ctx.canvas);\n        imageShape.set('origin', this.getShapeInfo(data)); // 存储绘图信息数据\n    };\n    Heatmap.prototype.getDefaultSize = function () {\n        var position = this.getAttribute('position');\n        var coordinate = this.coordinate;\n        return Math.min(coordinate.getWidth() / (position.scales[0].ticks.length * 4), coordinate.getHeight() / (position.scales[1].ticks.length * 4));\n    };\n    Heatmap.prototype.clearShadowCanvasCtx = function () {\n        var ctx = this.getShadowCanvasCtx();\n        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    };\n    Heatmap.prototype.getShadowCanvasCtx = function () {\n        var canvas = this.shadowCanvas;\n        if (!canvas) {\n            canvas = document.createElement('canvas');\n            this.shadowCanvas = canvas;\n        }\n        canvas.width = this.coordinate.getWidth();\n        canvas.height = this.coordinate.getHeight();\n        return canvas.getContext('2d');\n    };\n    Heatmap.prototype.getGrayScaleBlurredCanvas = function () {\n        if (!this.grayScaleBlurredCanvas) {\n            this.grayScaleBlurredCanvas = document.createElement('canvas');\n        }\n        return this.grayScaleBlurredCanvas;\n    };\n    Heatmap.prototype.drawGrayScaleBlurredCircle = function (x, y, r, alpha, ctx) {\n        var grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n        ctx.globalAlpha = alpha;\n        ctx.drawImage(grayScaleBlurredCanvas, x - r, y - r);\n    };\n    Heatmap.prototype.colorize = function (img) {\n        var colorAttr = this.getAttribute('color');\n        var pixels = img.data;\n        var paletteCache = this.paletteCache;\n        for (var i = 3; i < pixels.length; i += 4) {\n            var alpha = pixels[i]; // get gradient color from opacity value\n            if (isNumber(alpha)) {\n                var palette = paletteCache[alpha] ? paletteCache[alpha] : ColorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n                pixels[i - 3] = palette[0];\n                pixels[i - 2] = palette[1];\n                pixels[i - 1] = palette[2];\n                pixels[i] = alpha;\n            }\n        }\n    };\n    Heatmap.prototype.getImageShape = function () {\n        var imageShape = this.imageShape;\n        if (imageShape) {\n            return imageShape;\n        }\n        var container = this.container;\n        imageShape = container.addShape({\n            type: 'image',\n            attrs: {},\n        });\n        this.imageShape = imageShape;\n        return imageShape;\n    };\n    Heatmap.prototype.getShapeInfo = function (mappingData) {\n        var shapeCfg = this.getDrawCfg(mappingData[0]);\n        var data = mappingData.map(function (obj) {\n            return obj[FIELD_ORIGIN];\n        });\n        return __assign(__assign({}, shapeCfg), { mappingData: mappingData, data: data });\n    };\n    return Heatmap;\n}(Geometry));\nexport default Heatmap;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}