{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { parsePadding } from '../../../util/padding';\nimport Action from '../base';\nvar PADDING_RIGHT = 10;\nvar PADDING_TOP = 5;\n/**\n * Button action\n * @ignore\n */\nvar ButtonAction = /** @class */function (_super) {\n  __extends(ButtonAction, _super);\n  function ButtonAction() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.buttonGroup = null;\n    _this.buttonCfg = {\n      name: 'button',\n      text: 'button',\n      textStyle: {\n        x: 0,\n        y: 0,\n        fontSize: 12,\n        fill: '#333333',\n        cursor: 'pointer'\n      },\n      padding: [8, 10],\n      style: {\n        fill: '#f7f7f7',\n        stroke: '#cccccc',\n        cursor: 'pointer'\n      },\n      activeStyle: {\n        fill: '#e6e6e6'\n      }\n    };\n    return _this;\n  }\n  // mix 默认的配置和用户配置\n  ButtonAction.prototype.getButtonCfg = function () {\n    return deepMix(this.buttonCfg, this.cfg);\n  };\n  // 绘制 Button 和 文本\n  ButtonAction.prototype.drawButton = function () {\n    var config = this.getButtonCfg();\n    var group = this.context.view.foregroundGroup.addGroup({\n      name: config.name\n    });\n    // 添加文本\n    var textShape = group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: __assign({\n        text: config.text\n      }, config.textStyle)\n    });\n    var textBBox = textShape.getBBox();\n    var padding = parsePadding(config.padding);\n    // 添加背景按钮\n    var buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: __assign({\n        x: textBBox.x - padding[3],\n        y: textBBox.y - padding[0],\n        width: textBBox.width + padding[1] + padding[3],\n        height: textBBox.height + padding[0] + padding[2]\n      }, config.style)\n    });\n    buttonShape.toBack(); // 在后面\n    // active 效果内置\n    group.on('mouseenter', function () {\n      buttonShape.attr(config.activeStyle);\n    });\n    group.on('mouseleave', function () {\n      buttonShape.attr(config.style);\n    });\n    this.buttonGroup = group;\n  };\n  // 重置位置\n  ButtonAction.prototype.resetPosition = function () {\n    var view = this.context.view;\n    var coord = view.getCoordinate();\n    var point = coord.convert({\n      x: 1,\n      y: 1\n    }); // 后面直接改成左上角\n    var buttonGroup = this.buttonGroup;\n    var bbox = buttonGroup.getBBox();\n    var matrix = ext.transform(null, [['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP]]);\n    buttonGroup.setMatrix(matrix);\n  };\n  /**\n   * 显示\n   */\n  ButtonAction.prototype.show = function () {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  };\n  /**\n   * 隐藏\n   */\n  ButtonAction.prototype.hide = function () {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  };\n  /**\n   * 销毁\n   */\n  ButtonAction.prototype.destroy = function () {\n    var buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    _super.prototype.destroy.call(this);\n  };\n  return ButtonAction;\n}(Action);\nexport default ButtonAction;","map":{"version":3,"names":["__assign","__extends","ext","deepMix","parsePadding","Action","PADDING_RIGHT","PADDING_TOP","ButtonAction","_super","_this","apply","arguments","buttonGroup","buttonCfg","name","text","textStyle","x","y","fontSize","fill","cursor","padding","style","stroke","activeStyle","prototype","getButtonCfg","cfg","drawButton","config","group","context","view","foregroundGroup","addGroup","textShape","addShape","type","attrs","textBBox","getBBox","buttonShape","width","height","toBack","on","attr","resetPosition","coord","getCoordinate","point","convert","bbox","matrix","transform","setMatrix","show","hide","destroy","remove","call"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/node_modules/@antv/g2/esm/interaction/action/view/button.js"],"sourcesContent":["import { __assign, __extends } from \"tslib\";\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { parsePadding } from '../../../util/padding';\nimport Action from '../base';\nvar PADDING_RIGHT = 10;\nvar PADDING_TOP = 5;\n/**\n * Button action\n * @ignore\n */\nvar ButtonAction = /** @class */ (function (_super) {\n    __extends(ButtonAction, _super);\n    function ButtonAction() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buttonGroup = null;\n        _this.buttonCfg = {\n            name: 'button',\n            text: 'button',\n            textStyle: {\n                x: 0,\n                y: 0,\n                fontSize: 12,\n                fill: '#333333',\n                cursor: 'pointer',\n            },\n            padding: [8, 10],\n            style: {\n                fill: '#f7f7f7',\n                stroke: '#cccccc',\n                cursor: 'pointer',\n            },\n            activeStyle: {\n                fill: '#e6e6e6',\n            },\n        };\n        return _this;\n    }\n    // mix 默认的配置和用户配置\n    ButtonAction.prototype.getButtonCfg = function () {\n        return deepMix(this.buttonCfg, this.cfg);\n    };\n    // 绘制 Button 和 文本\n    ButtonAction.prototype.drawButton = function () {\n        var config = this.getButtonCfg();\n        var group = this.context.view.foregroundGroup.addGroup({\n            name: config.name,\n        });\n        // 添加文本\n        var textShape = group.addShape({\n            type: 'text',\n            name: 'button-text',\n            attrs: __assign({ text: config.text }, config.textStyle),\n        });\n        var textBBox = textShape.getBBox();\n        var padding = parsePadding(config.padding);\n        // 添加背景按钮\n        var buttonShape = group.addShape({\n            type: 'rect',\n            name: 'button-rect',\n            attrs: __assign({ x: textBBox.x - padding[3], y: textBBox.y - padding[0], width: textBBox.width + padding[1] + padding[3], height: textBBox.height + padding[0] + padding[2] }, config.style),\n        });\n        buttonShape.toBack(); // 在后面\n        // active 效果内置\n        group.on('mouseenter', function () {\n            buttonShape.attr(config.activeStyle);\n        });\n        group.on('mouseleave', function () {\n            buttonShape.attr(config.style);\n        });\n        this.buttonGroup = group;\n    };\n    // 重置位置\n    ButtonAction.prototype.resetPosition = function () {\n        var view = this.context.view;\n        var coord = view.getCoordinate();\n        var point = coord.convert({ x: 1, y: 1 }); // 后面直接改成左上角\n        var buttonGroup = this.buttonGroup;\n        var bbox = buttonGroup.getBBox();\n        var matrix = ext.transform(null, [\n            ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n        ]);\n        buttonGroup.setMatrix(matrix);\n    };\n    /**\n     * 显示\n     */\n    ButtonAction.prototype.show = function () {\n        if (!this.buttonGroup) {\n            this.drawButton();\n        }\n        this.resetPosition();\n        this.buttonGroup.show();\n    };\n    /**\n     * 隐藏\n     */\n    ButtonAction.prototype.hide = function () {\n        if (this.buttonGroup) {\n            this.buttonGroup.hide();\n        }\n    };\n    /**\n     * 销毁\n     */\n    ButtonAction.prototype.destroy = function () {\n        var buttonGroup = this.buttonGroup;\n        if (buttonGroup) {\n            buttonGroup.remove();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    return ButtonAction;\n}(Action));\nexport default ButtonAction;\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,GAAG,QAAQ,mBAAmB;AACvC,SAASC,OAAO,QAAQ,YAAY;AACpC,SAASC,YAAY,QAAQ,uBAAuB;AACpD,OAAOC,MAAM,MAAM,SAAS;AAC5B,IAAIC,aAAa,GAAG,EAAE;AACtB,IAAIC,WAAW,GAAG,CAAC;AACnB;AACA;AACA;AACA;AACA,IAAIC,YAAY,GAAG,aAAe,UAAUC,MAAM,EAAE;EAChDR,SAAS,CAACO,YAAY,EAAEC,MAAM,CAAC;EAC/B,SAASD,YAAYA,CAAA,EAAG;IACpB,IAAIE,KAAK,GAAGD,MAAM,KAAK,IAAI,IAAIA,MAAM,CAACE,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC,IAAI,IAAI;IACpEF,KAAK,CAACG,WAAW,GAAG,IAAI;IACxBH,KAAK,CAACI,SAAS,GAAG;MACdC,IAAI,EAAE,QAAQ;MACdC,IAAI,EAAE,QAAQ;MACdC,SAAS,EAAE;QACPC,CAAC,EAAE,CAAC;QACJC,CAAC,EAAE,CAAC;QACJC,QAAQ,EAAE,EAAE;QACZC,IAAI,EAAE,SAAS;QACfC,MAAM,EAAE;MACZ,CAAC;MACDC,OAAO,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;MAChBC,KAAK,EAAE;QACHH,IAAI,EAAE,SAAS;QACfI,MAAM,EAAE,SAAS;QACjBH,MAAM,EAAE;MACZ,CAAC;MACDI,WAAW,EAAE;QACTL,IAAI,EAAE;MACV;IACJ,CAAC;IACD,OAAOX,KAAK;EAChB;EACA;EACAF,YAAY,CAACmB,SAAS,CAACC,YAAY,GAAG,YAAY;IAC9C,OAAOzB,OAAO,CAAC,IAAI,CAACW,SAAS,EAAE,IAAI,CAACe,GAAG,CAAC;EAC5C,CAAC;EACD;EACArB,YAAY,CAACmB,SAAS,CAACG,UAAU,GAAG,YAAY;IAC5C,IAAIC,MAAM,GAAG,IAAI,CAACH,YAAY,CAAC,CAAC;IAChC,IAAII,KAAK,GAAG,IAAI,CAACC,OAAO,CAACC,IAAI,CAACC,eAAe,CAACC,QAAQ,CAAC;MACnDrB,IAAI,EAAEgB,MAAM,CAAChB;IACjB,CAAC,CAAC;IACF;IACA,IAAIsB,SAAS,GAAGL,KAAK,CAACM,QAAQ,CAAC;MAC3BC,IAAI,EAAE,MAAM;MACZxB,IAAI,EAAE,aAAa;MACnByB,KAAK,EAAExC,QAAQ,CAAC;QAAEgB,IAAI,EAAEe,MAAM,CAACf;MAAK,CAAC,EAAEe,MAAM,CAACd,SAAS;IAC3D,CAAC,CAAC;IACF,IAAIwB,QAAQ,GAAGJ,SAAS,CAACK,OAAO,CAAC,CAAC;IAClC,IAAInB,OAAO,GAAGnB,YAAY,CAAC2B,MAAM,CAACR,OAAO,CAAC;IAC1C;IACA,IAAIoB,WAAW,GAAGX,KAAK,CAACM,QAAQ,CAAC;MAC7BC,IAAI,EAAE,MAAM;MACZxB,IAAI,EAAE,aAAa;MACnByB,KAAK,EAAExC,QAAQ,CAAC;QAAEkB,CAAC,EAAEuB,QAAQ,CAACvB,CAAC,GAAGK,OAAO,CAAC,CAAC,CAAC;QAAEJ,CAAC,EAAEsB,QAAQ,CAACtB,CAAC,GAAGI,OAAO,CAAC,CAAC,CAAC;QAAEqB,KAAK,EAAEH,QAAQ,CAACG,KAAK,GAAGrB,OAAO,CAAC,CAAC,CAAC,GAAGA,OAAO,CAAC,CAAC,CAAC;QAAEsB,MAAM,EAAEJ,QAAQ,CAACI,MAAM,GAAGtB,OAAO,CAAC,CAAC,CAAC,GAAGA,OAAO,CAAC,CAAC;MAAE,CAAC,EAAEQ,MAAM,CAACP,KAAK;IAChM,CAAC,CAAC;IACFmB,WAAW,CAACG,MAAM,CAAC,CAAC,CAAC,CAAC;IACtB;IACAd,KAAK,CAACe,EAAE,CAAC,YAAY,EAAE,YAAY;MAC/BJ,WAAW,CAACK,IAAI,CAACjB,MAAM,CAACL,WAAW,CAAC;IACxC,CAAC,CAAC;IACFM,KAAK,CAACe,EAAE,CAAC,YAAY,EAAE,YAAY;MAC/BJ,WAAW,CAACK,IAAI,CAACjB,MAAM,CAACP,KAAK,CAAC;IAClC,CAAC,CAAC;IACF,IAAI,CAACX,WAAW,GAAGmB,KAAK;EAC5B,CAAC;EACD;EACAxB,YAAY,CAACmB,SAAS,CAACsB,aAAa,GAAG,YAAY;IAC/C,IAAIf,IAAI,GAAG,IAAI,CAACD,OAAO,CAACC,IAAI;IAC5B,IAAIgB,KAAK,GAAGhB,IAAI,CAACiB,aAAa,CAAC,CAAC;IAChC,IAAIC,KAAK,GAAGF,KAAK,CAACG,OAAO,CAAC;MAAEnC,CAAC,EAAE,CAAC;MAAEC,CAAC,EAAE;IAAE,CAAC,CAAC,CAAC,CAAC;IAC3C,IAAIN,WAAW,GAAG,IAAI,CAACA,WAAW;IAClC,IAAIyC,IAAI,GAAGzC,WAAW,CAAC6B,OAAO,CAAC,CAAC;IAChC,IAAIa,MAAM,GAAGrD,GAAG,CAACsD,SAAS,CAAC,IAAI,EAAE,CAC7B,CAAC,GAAG,EAAEJ,KAAK,CAAClC,CAAC,GAAGoC,IAAI,CAACV,KAAK,GAAGtC,aAAa,EAAE8C,KAAK,CAACjC,CAAC,GAAGmC,IAAI,CAACT,MAAM,GAAGtC,WAAW,CAAC,CACnF,CAAC;IACFM,WAAW,CAAC4C,SAAS,CAACF,MAAM,CAAC;EACjC,CAAC;EACD;AACJ;AACA;EACI/C,YAAY,CAACmB,SAAS,CAAC+B,IAAI,GAAG,YAAY;IACtC,IAAI,CAAC,IAAI,CAAC7C,WAAW,EAAE;MACnB,IAAI,CAACiB,UAAU,CAAC,CAAC;IACrB;IACA,IAAI,CAACmB,aAAa,CAAC,CAAC;IACpB,IAAI,CAACpC,WAAW,CAAC6C,IAAI,CAAC,CAAC;EAC3B,CAAC;EACD;AACJ;AACA;EACIlD,YAAY,CAACmB,SAAS,CAACgC,IAAI,GAAG,YAAY;IACtC,IAAI,IAAI,CAAC9C,WAAW,EAAE;MAClB,IAAI,CAACA,WAAW,CAAC8C,IAAI,CAAC,CAAC;IAC3B;EACJ,CAAC;EACD;AACJ;AACA;EACInD,YAAY,CAACmB,SAAS,CAACiC,OAAO,GAAG,YAAY;IACzC,IAAI/C,WAAW,GAAG,IAAI,CAACA,WAAW;IAClC,IAAIA,WAAW,EAAE;MACbA,WAAW,CAACgD,MAAM,CAAC,CAAC;IACxB;IACApD,MAAM,CAACkB,SAAS,CAACiC,OAAO,CAACE,IAAI,CAAC,IAAI,CAAC;EACvC,CAAC;EACD,OAAOtD,YAAY;AACvB,CAAC,CAACH,MAAM,CAAE;AACV,eAAeG,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}