{"ast":null,"code":"import _asyncToGenerator from \"/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { GoogleMap, MapInfoWindow } from '@angular/google-maps';\nimport { camelCase } from 'camel-case';\nimport { TagColorService } from '@ridy/admin-panel/src/app/@services/tag-color/tag-color.service';\nimport { OverviewDriverPagingGQL } from '@ridy/admin-panel/generated/graphql';\nimport { firstValueFrom, map } from 'rxjs';\nimport { ActivatedRoute } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ridy/admin-panel/src/app/@services/tag-color/tag-color.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ridy/admin-panel/generated/graphql\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"ng-zorro-antd/table\";\nimport * as i7 from \"ng-zorro-antd/divider\";\nimport * as i8 from \"ng-zorro-antd/tag\";\nimport * as i9 from \"ng-zorro-antd/card\";\nimport * as i10 from \"@angular/google-maps\";\nimport * as i11 from \"ng-zorro-antd/switch\";\nimport * as i12 from \"../../../../@pipes/phone.pipe\";\nimport * as i13 from \"@ngx-translate/core\";\nfunction OverviewDriversMapComponent_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"phone\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\")(7, \"nz-tag\", 7);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"translate\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"td\")(11, \"a\", 8);\n    i0.ɵɵlistener(\"click\", function OverviewDriversMapComponent_tr_19_Template_a_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const data_r6 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.showDriverOnMap(data_r6.id));\n    });\n    i0.ɵɵtext(12, \"Show on Map\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"nz-divider\", 9);\n    i0.ɵɵelementStart(14, \"a\", 10);\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const data_r6 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", data_r6.firstName || \"\", \" \", data_r6.lastName || \"\", \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r6.mobileNumber !== null ? i0.ɵɵpipeBind1(5, 8, data_r6.mobileNumber) : \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"nzColor\", ctx_r1.tagColor.driver(data_r6.status))(\"nzBordered\", false);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 10, \"enum.driver.status.\" + ctx_r1.toCamelCase(data_r6.status)));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"routerLink\", \"/drivers/view/\" + data_r6.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(16, 12, \"profile.view\"));\n  }\n}\nfunction OverviewDriversMapComponent_ng_template_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"nz-switch\", 12);\n    i0.ɵɵlistener(\"ngModelChange\", function OverviewDriversMapComponent_ng_template_20_Template_nz_switch_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.autoZoom = $event);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 2, \"overview.autoZoom\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.autoZoom);\n  }\n}\nconst _c0 = () => ({\n  url: \"assets/marker_taxi.png\"\n});\nconst _c1 = () => ({\n  draggable: false\n});\nfunction OverviewDriversMapComponent_ng_template_22_google_map_0_map_marker_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"map-marker\", 16, 17);\n    i0.ɵɵlistener(\"mapClick\", function OverviewDriversMapComponent_ng_template_22_google_map_0_map_marker_1_Template_map_marker_mapClick_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const markerPosition_r14 = restoredCtx.$implicit;\n      const _r15 = i0.ɵɵreference(1);\n      const ctx_r16 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r16.openInfoWindow(_r15, markerPosition_r14.driverId));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const markerPosition_r14 = ctx.$implicit;\n    i0.ɵɵproperty(\"icon\", i0.ɵɵpureFunction0(3, _c0))(\"position\", markerPosition_r14.location)(\"options\", i0.ɵɵpureFunction0(4, _c1));\n  }\n}\nfunction OverviewDriversMapComponent_ng_template_22_google_map_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"google-map\", 14);\n    i0.ɵɵtemplate(1, OverviewDriversMapComponent_ng_template_22_google_map_0_map_marker_1_Template, 2, 5, \"map-marker\", 15);\n    i0.ɵɵelementStart(2, \"map-info-window\")(3, \"a\", 10);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const drivers_r12 = ctx.ngIf;\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", drivers_r12);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", \"/drivers/view/\" + ctx_r11.selectedDriverId);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 3, \"overview.viewDriver\"));\n  }\n}\nfunction OverviewDriversMapComponent_ng_template_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, OverviewDriversMapComponent_ng_template_22_google_map_0_Template, 6, 5, \"google-map\", 13);\n    i0.ɵɵpipe(1, \"async\");\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = i0.ɵɵpipeBind1(1, 1, ctx_r4.query)) == null ? null : tmp_0_0.data == null ? null : tmp_0_0.data.getDriversLocation);\n  }\n}\nexport class OverviewDriversMapComponent {\n  constructor(tagColor, route, overviewDriversPaging) {\n    this.tagColor = tagColor;\n    this.route = route;\n    this.overviewDriversPaging = overviewDriversPaging;\n    // Table properties\n    this.page = 1;\n    this.listOfData = [];\n    this.locations = [];\n    // Map properties\n    this.autoZoom = false;\n  }\n  ngOnInit() {\n    this.query = this.route.data.pipe(map(data => data.overview));\n  }\n  ngAfterViewInit() {\n    this.subscription = this.query?.subscribe(data => {\n      this.locations = data.data.getDriversLocation;\n      this.searchData();\n      this.centerMap();\n    });\n  }\n  centerMap() {\n    if (this.locations.length == 0) {\n      this.map.zoom = 1;\n      return;\n    }\n    if (this.locations.length == 1) {\n      this.map.panTo(this.locations[0].location);\n      return;\n    }\n    const latlngbounds = new google.maps.LatLngBounds();\n    for (const location of this.locations) {\n      latlngbounds.extend(location.location);\n    }\n    this.map.fitBounds(latlngbounds);\n  }\n  openInfoWindow(marker, driverId) {\n    this.selectedDriverId = driverId;\n    this.infoWindow.open(marker);\n  }\n  toCamelCase(value) {\n    return camelCase(value);\n  }\n  searchData() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.locations.length == 0) return;\n      const result = yield firstValueFrom(_this.overviewDriversPaging.fetch({\n        ids: _this.locations.slice((_this.page - 1) * 5, _this.page * 5 - 1).map(x => x.driverId.toString())\n      }));\n      _this.listOfData = result.data.drivers.nodes;\n    })();\n  }\n  showDriverOnMap(id) {\n    const location = this.locations.filter(x => x.driverId == parseInt(id))[0].location;\n    this.map.zoom = 20;\n    this.map.fitBounds(new google.maps.LatLngBounds(new google.maps.LatLng(location.lat - 0.001, location.lng - 0.001), new google.maps.LatLng(location.lat + 0.001, location.lng + 0.001)));\n  }\n  ngOnDestroy() {\n    this.subscription?.unsubscribe();\n  }\n  static {\n    this.ɵfac = function OverviewDriversMapComponent_Factory(t) {\n      return new (t || OverviewDriversMapComponent)(i0.ɵɵdirectiveInject(i1.TagColorService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.OverviewDriverPagingGQL));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: OverviewDriversMapComponent,\n      selectors: [[\"app-overview-drivers-map\"]],\n      viewQuery: function OverviewDriversMapComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(MapInfoWindow, 5);\n          i0.ɵɵviewQuery(GoogleMap, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.infoWindow = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.map = _t.first);\n        }\n      },\n      decls: 24,\n      vars: 23,\n      consts: [[3, \"nzTitle\", \"nzExtra\", \"nzCover\"], [\"nzBordered\", \"\", 3, \"nzFrontPagination\", \"nzData\", \"nzTotal\", \"nzPageIndex\", \"nzPageSize\", \"nzPageIndexChange\", \"nzPageSizeChange\"], [\"ajaxTable\", \"\"], [\"nzColumnKey\", \"status\"], [4, \"ngFor\", \"ngForOf\"], [\"extraTemplate\", \"\"], [\"mapTpl\", \"\"], [3, \"nzColor\", \"nzBordered\"], [3, \"click\"], [\"nzType\", \"vertical\"], [3, \"routerLink\"], [2, \"padding-right\", \"10px\"], [\"nzCheckedChildren\", \"1\", \"nzUnCheckedChildren\", \"0\", 3, \"ngModel\", \"ngModelChange\"], [\"height\", \"400px\", \"width\", \"100%\", 4, \"ngIf\"], [\"height\", \"400px\", \"width\", \"100%\"], [3, \"icon\", \"position\", \"options\", \"mapClick\", 4, \"ngFor\", \"ngForOf\"], [3, \"icon\", \"position\", \"options\", \"mapClick\"], [\"marker\", \"mapMarker\"]],\n      template: function OverviewDriversMapComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"nz-card\", 0);\n          i0.ɵɵpipe(1, \"translate\");\n          i0.ɵɵelementStart(2, \"nz-table\", 1, 2);\n          i0.ɵɵlistener(\"nzPageIndexChange\", function OverviewDriversMapComponent_Template_nz_table_nzPageIndexChange_2_listener($event) {\n            return ctx.page = $event;\n          })(\"nzPageIndexChange\", function OverviewDriversMapComponent_Template_nz_table_nzPageIndexChange_2_listener() {\n            return ctx.searchData();\n          })(\"nzPageSizeChange\", function OverviewDriversMapComponent_Template_nz_table_nzPageSizeChange_2_listener() {\n            return ctx.searchData();\n          });\n          i0.ɵɵelementStart(4, \"thead\")(5, \"tr\")(6, \"th\");\n          i0.ɵɵtext(7);\n          i0.ɵɵpipe(8, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"th\");\n          i0.ɵɵtext(10);\n          i0.ɵɵpipe(11, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"th\", 3);\n          i0.ɵɵtext(13);\n          i0.ɵɵpipe(14, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"th\");\n          i0.ɵɵtext(16);\n          i0.ɵɵpipe(17, \"translate\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(18, \"tbody\");\n          i0.ɵɵtemplate(19, OverviewDriversMapComponent_tr_19_Template, 17, 14, \"tr\", 4);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(20, OverviewDriversMapComponent_ng_template_20_Template, 4, 4, \"ng-template\", null, 5, i0.ɵɵtemplateRefExtractor)(22, OverviewDriversMapComponent_ng_template_22_Template, 2, 3, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n        }\n        if (rf & 2) {\n          const _r0 = i0.ɵɵreference(3);\n          const _r3 = i0.ɵɵreference(21);\n          const _r5 = i0.ɵɵreference(23);\n          i0.ɵɵproperty(\"nzTitle\", i0.ɵɵpipeBind1(1, 13, \"overview.driversOnline\"))(\"nzExtra\", _r3)(\"nzCover\", _r5);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"nzFrontPagination\", false)(\"nzData\", ctx.listOfData)(\"nzTotal\", ctx.locations.length)(\"nzPageIndex\", ctx.page)(\"nzPageSize\", 5);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(8, 15, \"profile.name\"), \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(11, 17, \"profile.mobileNumber\"), \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(14, 19, \"profile.status\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(17, 21, \"profile.actions\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", _r0.data);\n        }\n      },\n      dependencies: [i2.RouterLink, i4.NgForOf, i4.NgIf, i5.NgControlStatus, i5.NgModel, i6.NzTableComponent, i6.NzThAddOnComponent, i6.NzTableCellDirective, i6.NzThMeasureDirective, i6.NzTheadComponent, i6.NzTbodyComponent, i6.NzTrDirective, i7.NzDividerComponent, i8.NzTagComponent, i9.NzCardComponent, i10.GoogleMap, i10.MapInfoWindow, i10.MapMarker, i11.NzSwitchComponent, i4.AsyncPipe, i12.PhonePipe, i13.TranslatePipe],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["GoogleMap","MapInfoWindow","camelCase","TagColorService","OverviewDriverPagingGQL","firstValueFrom","map","ActivatedRoute","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","OverviewDriversMapComponent_tr_19_Template_a_click_11_listener","restoredCtx","ɵɵrestoreView","_r8","data_r6","$implicit","ctx_r7","ɵɵnextContext","ɵɵresetView","showDriverOnMap","id","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate2","firstName","lastName","ɵɵtextInterpolate","mobileNumber","ɵɵpipeBind1","ɵɵproperty","ctx_r1","tagColor","driver","status","toCamelCase","OverviewDriversMapComponent_ng_template_20_Template_nz_switch_ngModelChange_3_listener","$event","_r10","ctx_r9","autoZoom","ctx_r2","OverviewDriversMapComponent_ng_template_22_google_map_0_map_marker_1_Template_map_marker_mapClick_0_listener","_r17","markerPosition_r14","_r15","ɵɵreference","ctx_r16","openInfoWindow","driverId","ɵɵpureFunction0","_c0","location","_c1","ɵɵtemplate","OverviewDriversMapComponent_ng_template_22_google_map_0_map_marker_1_Template","drivers_r12","ctx_r11","selectedDriverId","OverviewDriversMapComponent_ng_template_22_google_map_0_Template","tmp_0_0","ctx_r4","query","data","getDriversLocation","OverviewDriversMapComponent","constructor","route","overviewDriversPaging","page","listOfData","locations","ngOnInit","pipe","overview","ngAfterViewInit","subscription","subscribe","searchData","centerMap","length","zoom","panTo","latlngbounds","google","maps","LatLngBounds","extend","fitBounds","marker","infoWindow","open","value","_this","_asyncToGenerator","result","fetch","ids","slice","x","toString","drivers","nodes","filter","parseInt","LatLng","lat","lng","ngOnDestroy","unsubscribe","ɵɵdirectiveInject","i1","i2","i3","selectors","viewQuery","OverviewDriversMapComponent_Query","rf","ctx","OverviewDriversMapComponent_Template_nz_table_nzPageIndexChange_2_listener","OverviewDriversMapComponent_Template_nz_table_nzPageSizeChange_2_listener","OverviewDriversMapComponent_tr_19_Template","OverviewDriversMapComponent_ng_template_20_Template","ɵɵtemplateRefExtractor","OverviewDriversMapComponent_ng_template_22_Template","_r3","_r5","ɵɵtextInterpolate1","_r0"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/apps/admin-panel/src/app/cms/home/overview/overview-drivers-map/overview-drivers-map.component.ts","/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/apps/admin-panel/src/app/cms/home/overview/overview-drivers-map/overview-drivers-map.component.html"],"sourcesContent":["import {\n  AfterViewInit,\n  Component,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n} from '@angular/core';\nimport { GoogleMap, MapInfoWindow, MapMarker } from '@angular/google-maps';\nimport { camelCase } from 'camel-case';\nimport { TagColorService } from '@ridy/admin-panel/src/app/@services/tag-color/tag-color.service';\nimport {\n  DriverLocationFragment,\n  DriverOverviewInfoFragment,\n  OverviewDriverPagingGQL,\n  OverviewQuery,\n} from '@ridy/admin-panel/generated/graphql';\nimport { firstValueFrom, map, Observable, Subscription } from 'rxjs';\nimport { ApolloQueryResult } from '@apollo/client/core';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-overview-drivers-map',\n  templateUrl: './overview-drivers-map.component.html',\n})\nexport class OverviewDriversMapComponent\n  implements OnInit, AfterViewInit, OnDestroy\n{\n  // Table properties\n  page = 1;\n  listOfData: DriverOverviewInfoFragment[] = [];\n  locations: DriverLocationFragment[] = [];\n\n  // Map properties\n  autoZoom = false;\n  query?: Observable<ApolloQueryResult<OverviewQuery>>;\n\n  subscription?: Subscription;\n\n  selectedDriverId!: number;\n  @ViewChild(MapInfoWindow, { static: false }) infoWindow!: MapInfoWindow;\n  @ViewChild(GoogleMap, { static: false }) map!: GoogleMap;\n\n  constructor(\n    public tagColor: TagColorService,\n    private route: ActivatedRoute,\n    private overviewDriversPaging: OverviewDriverPagingGQL\n  ) {}\n\n  ngOnInit(): void {\n    this.query = this.route.data.pipe(map((data) => data.overview));\n  }\n\n  ngAfterViewInit(): void {\n    this.subscription = this.query?.subscribe((data) => {\n      this.locations = data.data.getDriversLocation;\n      this.searchData();\n      this.centerMap();\n    });\n  }\n\n  centerMap() {\n    if (this.locations.length == 0) {\n      this.map.zoom = 1;\n      return;\n    }\n    if (this.locations.length == 1) {\n      this.map.panTo(this.locations[0].location);\n      return;\n    }\n    const latlngbounds = new google.maps.LatLngBounds();\n    for (const location of this.locations) {\n      latlngbounds.extend(location.location);\n    }\n    this.map.fitBounds(latlngbounds);\n  }\n\n  openInfoWindow(marker: MapMarker, driverId: number) {\n    this.selectedDriverId = driverId;\n    this.infoWindow.open(marker);\n  }\n\n  toCamelCase(value: string) {\n    return camelCase(value);\n  }\n\n  async searchData(): Promise<void> {\n    if (this.locations.length == 0) return;\n    const result = await firstValueFrom(\n      this.overviewDriversPaging.fetch({\n        ids: this.locations\n          .slice((this.page - 1) * 5, this.page * 5 - 1)\n          .map((x) => x.driverId.toString()),\n      })\n    );\n    this.listOfData = result.data.drivers.nodes;\n  }\n\n  showDriverOnMap(id: string) {\n    const location = this.locations.filter((x) => x.driverId == parseInt(id))[0]\n      .location;\n    this.map.zoom = 20;\n    this.map.fitBounds(\n      new google.maps.LatLngBounds(\n        new google.maps.LatLng(location.lat - 0.001, location.lng - 0.001),\n        new google.maps.LatLng(location.lat + 0.001, location.lng + 0.001)\n      )\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.subscription?.unsubscribe();\n  }\n}\n","<nz-card [nzTitle]=\"'overview.driversOnline' | translate\" [nzExtra]=\"extraTemplate\" [nzCover]=\"mapTpl\">\n  <nz-table #ajaxTable [nzFrontPagination]=\"false\" [nzData]=\"listOfData\" [nzTotal]=\"locations.length\"\n    [(nzPageIndex)]=\"page\" [nzPageSize]=\"5\" (nzPageIndexChange)=\"searchData()\" (nzPageSizeChange)=\"searchData()\"\n    nzBordered>\n    <thead>\n      <tr>\n        <th>\n          {{ 'profile.name' | translate }}\n        </th>\n        <th>\n          {{ 'profile.mobileNumber' | translate }}\n        </th>\n        <th nzColumnKey=\"status\">{{ 'profile.status' | translate }}</th>\n        <th>{{ 'profile.actions' | translate}}</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let data of ajaxTable.data\">\n        <td>{{ data.firstName || '' }} {{ data.lastName || '' }}</td>\n        <td>{{ (data.mobileNumber !== null) ? (data.mobileNumber | phone) : '' }}</td>\n        <td>\n          <nz-tag [nzColor]=\"tagColor.driver(data.status)\" [nzBordered]=\"false\">{{'enum.driver.status.' +\n            toCamelCase(data.status) |\n            translate }}</nz-tag>\n        </td>\n        <td>\n          <a (click)=\"showDriverOnMap(data.id)\">Show on Map</a>\n          <nz-divider nzType=\"vertical\"></nz-divider>\n          <a [routerLink]=\"'/drivers/view/' + data.id\">{{ 'profile.view' | translate }}</a>\n        </td>\n      </tr>\n    </tbody>\n  </nz-table>\n</nz-card>\n<ng-template #extraTemplate>\n  <span style=\"padding-right: 10px;\">{{'overview.autoZoom' | translate}}</span>\n  <nz-switch [(ngModel)]=\"autoZoom\" nzCheckedChildren=\"1\" nzUnCheckedChildren=\"0\"></nz-switch>\n</ng-template>\n<ng-template #mapTpl>\n  <google-map height=\"400px\" width=\"100%\" *ngIf=\"(query | async)?.data?.getDriversLocation as drivers\">\n    <map-marker #marker=\"mapMarker\" [icon]=\"{ url: 'assets/marker_taxi.png' }\" *ngFor=\"let markerPosition of drivers\"\n      [position]=\"markerPosition.location\" [options]=\"{ draggable: false }\"\n      (mapClick)=\"openInfoWindow(marker, markerPosition.driverId)\"></map-marker>\n    <map-info-window><a [routerLink]=\"'/drivers/view/' + selectedDriverId\">{{'overview.viewDriver' |\n        translate}}</a></map-info-window>\n  </google-map>\n</ng-template>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}