{"ast":null,"code":"import { setTransform, setClip } from './svg';\nimport { sortDom, moveTo } from './dom';\nexport function drawChildren(context, children) {\n  children.forEach(function (child) {\n    child.draw(context);\n  });\n}\n/**\n * 更新元素，包括 group 和 shape\n * @param {IElement} element       SVG 元素\n * @param {ChangeType} changeType  更新类型\n */\nexport function refreshElement(element, changeType) {\n  // 对于还没有挂载到画布下的元素，canvas 可能为空\n  var canvas = element.get('canvas');\n  // 只有挂载到画布下，才对元素进行实际渲染\n  if (canvas && canvas.get('autoDraw')) {\n    var context = canvas.get('context');\n    var parent_1 = element.getParent();\n    var parentChildren = parent_1 ? parent_1.getChildren() : [canvas];\n    var el = element.get('el');\n    if (changeType === 'remove') {\n      var isClipShape = element.get('isClipShape');\n      // 对于 clip，不仅需要将 clipShape 对于的 SVG 元素删除，还需要将上层的 clipPath 元素也删除\n      if (isClipShape) {\n        var clipPathEl = el && el.parentNode;\n        var defsEl = clipPathEl && clipPathEl.parentNode;\n        if (clipPathEl && defsEl) {\n          defsEl.removeChild(clipPathEl);\n        }\n      } else if (el && el.parentNode) {\n        el.parentNode.removeChild(el);\n      }\n    } else if (changeType === 'show') {\n      el.setAttribute('visibility', 'visible');\n    } else if (changeType === 'hide') {\n      el.setAttribute('visibility', 'hidden');\n    } else if (changeType === 'zIndex') {\n      moveTo(el, parentChildren.indexOf(element));\n    } else if (changeType === 'sort') {\n      var children_1 = element.get('children');\n      if (children_1 && children_1.length) {\n        sortDom(element, function (a, b) {\n          return children_1.indexOf(a) - children_1.indexOf(b) ? 1 : 0;\n        });\n      }\n    } else if (changeType === 'clear') {\n      // el maybe null for group\n      if (el) {\n        el.innerHTML = '';\n      }\n    } else if (changeType === 'matrix') {\n      setTransform(element);\n    } else if (changeType === 'clip') {\n      setClip(element, context);\n    } else if (changeType === 'attr') {\n      // 已在 afterAttrsChange 进行了处理，此处 do nothing\n    } else if (changeType === 'add') {\n      element.draw(context);\n    }\n  }\n}","map":{"version":3,"names":["setTransform","setClip","sortDom","moveTo","drawChildren","context","children","forEach","child","draw","refreshElement","element","changeType","canvas","get","parent_1","getParent","parentChildren","getChildren","el","isClipShape","clipPathEl","parentNode","defsEl","removeChild","setAttribute","indexOf","children_1","length","a","b","innerHTML"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/node_modules/@antv/g-svg/esm/util/draw.js"],"sourcesContent":["import { setTransform, setClip } from './svg';\nimport { sortDom, moveTo } from './dom';\nexport function drawChildren(context, children) {\n    children.forEach(function (child) {\n        child.draw(context);\n    });\n}\n/**\n * 更新元素，包括 group 和 shape\n * @param {IElement} element       SVG 元素\n * @param {ChangeType} changeType  更新类型\n */\nexport function refreshElement(element, changeType) {\n    // 对于还没有挂载到画布下的元素，canvas 可能为空\n    var canvas = element.get('canvas');\n    // 只有挂载到画布下，才对元素进行实际渲染\n    if (canvas && canvas.get('autoDraw')) {\n        var context = canvas.get('context');\n        var parent_1 = element.getParent();\n        var parentChildren = parent_1 ? parent_1.getChildren() : [canvas];\n        var el = element.get('el');\n        if (changeType === 'remove') {\n            var isClipShape = element.get('isClipShape');\n            // 对于 clip，不仅需要将 clipShape 对于的 SVG 元素删除，还需要将上层的 clipPath 元素也删除\n            if (isClipShape) {\n                var clipPathEl = el && el.parentNode;\n                var defsEl = clipPathEl && clipPathEl.parentNode;\n                if (clipPathEl && defsEl) {\n                    defsEl.removeChild(clipPathEl);\n                }\n            }\n            else if (el && el.parentNode) {\n                el.parentNode.removeChild(el);\n            }\n        }\n        else if (changeType === 'show') {\n            el.setAttribute('visibility', 'visible');\n        }\n        else if (changeType === 'hide') {\n            el.setAttribute('visibility', 'hidden');\n        }\n        else if (changeType === 'zIndex') {\n            moveTo(el, parentChildren.indexOf(element));\n        }\n        else if (changeType === 'sort') {\n            var children_1 = element.get('children');\n            if (children_1 && children_1.length) {\n                sortDom(element, function (a, b) {\n                    return children_1.indexOf(a) - children_1.indexOf(b) ? 1 : 0;\n                });\n            }\n        }\n        else if (changeType === 'clear') {\n            // el maybe null for group\n            if (el) {\n                el.innerHTML = '';\n            }\n        }\n        else if (changeType === 'matrix') {\n            setTransform(element);\n        }\n        else if (changeType === 'clip') {\n            setClip(element, context);\n        }\n        else if (changeType === 'attr') {\n            // 已在 afterAttrsChange 进行了处理，此处 do nothing\n        }\n        else if (changeType === 'add') {\n            element.draw(context);\n        }\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}