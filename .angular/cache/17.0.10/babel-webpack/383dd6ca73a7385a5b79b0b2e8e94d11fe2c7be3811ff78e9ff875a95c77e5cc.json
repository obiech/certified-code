{"ast":null,"code":"import { isArray } from '@antv/util';\nimport { getSplinePath } from './path';\nfunction isValueEmpty(value) {\n  if (value) {\n    return false;\n  }\n  return value === null || value === undefined || isNaN(value);\n}\nfunction isYNil(point) {\n  if (isArray(point)) {\n    // 特殊处理 area 的关键点数据，其关键点结构为 [{x: 0, y: 1}, {x: 0, y: 2}]\n    return isValueEmpty(point[1].y);\n  }\n  var value = point.y;\n  return isArray(value) ? isValueEmpty(value[0]) : isValueEmpty(value);\n}\n/**\n * @ignore\n * 分割数据，用于处理在一组点数据中，y 对应的数值存在 null/undefined/NaN 的情况\n * 应用于折线图、区域图以及路径图\n *\n * ```typescript\n * // return [[{x: 1, y: 2}, {x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], true);\n * // return [[{x: 1, y: 2}], [{x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], false);\n * // return [[[{ x: 1, y: 10 }, { x: 2, y: 2 }], [{ x: 9, y: 34 }, { x: 1, y: 1 }]]]\n * getPathPoints([\n *   [{ x: 1, y: 10 }, { x: 2, y: 2 }],\n *   [{ x: 4, y: 2 }, { x: 8, y: NaN }],\n *   [{ x: 9, y: 34 }, { x: 1, y: 1 }],\n * ], true);\n * ```\n *\n * @param points 要进行处理点集合\n * @param connectNulls 是否连接空值数据\n * @param showSinglePoint 是否展示孤立点\n * @returns 返回处理后的点集合\n */\nexport function getPathPoints(points, connectNulls, showSinglePoint) {\n  if (connectNulls === void 0) {\n    connectNulls = false;\n  }\n  if (showSinglePoint === void 0) {\n    showSinglePoint = true;\n  }\n  if (!points.length || points.length === 1 && !showSinglePoint) {\n    // 空或者只有一个点并配置不展示时\n    return [];\n  }\n  if (connectNulls) {\n    // 即 y 值为空的场景\n    var filtered = [];\n    for (var i = 0, len = points.length; i < len; i++) {\n      var point = points[i];\n      if (!isYNil(point)) {\n        filtered.push(point);\n      }\n    }\n    return [filtered];\n  }\n  var result = [];\n  var tmp = [];\n  for (var i = 0, len = points.length; i < len; i++) {\n    var point = points[i];\n    if (isYNil(point)) {\n      if (tmp.length) {\n        if (!(tmp.length === 1 && !showSinglePoint)) {\n          // 如果前段数据只有一个字段并且不需要展示时则不加入\n          result.push(tmp);\n        }\n        tmp = [];\n      }\n    } else {\n      tmp.push(point);\n    }\n  }\n  if (tmp.length) {\n    result.push(tmp);\n  }\n  return result;\n}\n/**\n * 获取小提琴图的边界 path\n * @param points\n * @returns\n */\nexport function getViolinPath(points) {\n  var path = [];\n  for (var i = 0; i < points.length; i++) {\n    var point = points[i];\n    if (point) {\n      var action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n  var first = points[0];\n  if (first) {\n    path.push(['L', first.x, first.y]);\n    path.push(['z']);\n  }\n  return path;\n}\n/**\n * 获取小提琴图 平滑的边界 path\n * @param points\n * @returns\n */\nexport function getSmoothViolinPath(points) {\n  var half = points.length / 2;\n  var leftPoints = [];\n  var rightPoints = [];\n  for (var i = 0; i < points.length; i++) {\n    if (i < half) {\n      leftPoints.push(points[i]);\n    } else {\n      rightPoints.push(points[i]);\n    }\n  }\n  var leftPath = getSplinePath(leftPoints, false);\n  var rightPath = getSplinePath(rightPoints, false);\n  if (rightPoints.length) {\n    leftPath.push(['L', rightPoints[0].x, rightPoints[0].y]);\n  }\n  rightPath.shift();\n  var path = leftPath.concat(rightPath);\n  if (leftPoints.length) {\n    path.push(['L', leftPoints[0].x, leftPoints[0].y]);\n  }\n  path.push(['z']);\n  return path;\n}","map":{"version":3,"names":["isArray","getSplinePath","isValueEmpty","value","undefined","isNaN","isYNil","point","y","getPathPoints","points","connectNulls","showSinglePoint","length","filtered","i","len","push","result","tmp","getViolinPath","path","action","x","first","getSmoothViolinPath","half","leftPoints","rightPoints","leftPath","rightPath","shift","concat"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/node_modules/@antv/g2/esm/geometry/shape/util/get-path-points.js"],"sourcesContent":["import { isArray } from '@antv/util';\nimport { getSplinePath } from './path';\nfunction isValueEmpty(value) {\n    if (value) {\n        return false;\n    }\n    return value === null || value === undefined || isNaN(value);\n}\nfunction isYNil(point) {\n    if (isArray(point)) {\n        // 特殊处理 area 的关键点数据，其关键点结构为 [{x: 0, y: 1}, {x: 0, y: 2}]\n        return isValueEmpty(point[1].y);\n    }\n    var value = point.y;\n    return isArray(value) ? isValueEmpty(value[0]) : isValueEmpty(value);\n}\n/**\n * @ignore\n * 分割数据，用于处理在一组点数据中，y 对应的数值存在 null/undefined/NaN 的情况\n * 应用于折线图、区域图以及路径图\n *\n * ```typescript\n * // return [[{x: 1, y: 2}, {x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], true);\n * // return [[{x: 1, y: 2}], [{x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], false);\n * // return [[[{ x: 1, y: 10 }, { x: 2, y: 2 }], [{ x: 9, y: 34 }, { x: 1, y: 1 }]]]\n * getPathPoints([\n *   [{ x: 1, y: 10 }, { x: 2, y: 2 }],\n *   [{ x: 4, y: 2 }, { x: 8, y: NaN }],\n *   [{ x: 9, y: 34 }, { x: 1, y: 1 }],\n * ], true);\n * ```\n *\n * @param points 要进行处理点集合\n * @param connectNulls 是否连接空值数据\n * @param showSinglePoint 是否展示孤立点\n * @returns 返回处理后的点集合\n */\nexport function getPathPoints(points, connectNulls, showSinglePoint) {\n    if (connectNulls === void 0) { connectNulls = false; }\n    if (showSinglePoint === void 0) { showSinglePoint = true; }\n    if (!points.length || (points.length === 1 && !showSinglePoint)) {\n        // 空或者只有一个点并配置不展示时\n        return [];\n    }\n    if (connectNulls) {\n        // 即 y 值为空的场景\n        var filtered = [];\n        for (var i = 0, len = points.length; i < len; i++) {\n            var point = points[i];\n            if (!isYNil(point)) {\n                filtered.push(point);\n            }\n        }\n        return [filtered];\n    }\n    var result = [];\n    var tmp = [];\n    for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n        if (isYNil(point)) {\n            if (tmp.length) {\n                if (!(tmp.length === 1 && !showSinglePoint)) {\n                    // 如果前段数据只有一个字段并且不需要展示时则不加入\n                    result.push(tmp);\n                }\n                tmp = [];\n            }\n        }\n        else {\n            tmp.push(point);\n        }\n    }\n    if (tmp.length) {\n        result.push(tmp);\n    }\n    return result;\n}\n/**\n * 获取小提琴图的边界 path\n * @param points\n * @returns\n */\nexport function getViolinPath(points) {\n    var path = [];\n    for (var i = 0; i < points.length; i++) {\n        var point = points[i];\n        if (point) {\n            var action = i === 0 ? 'M' : 'L';\n            path.push([action, point.x, point.y]);\n        }\n    }\n    var first = points[0];\n    if (first) {\n        path.push(['L', first.x, first.y]);\n        path.push(['z']);\n    }\n    return path;\n}\n/**\n * 获取小提琴图 平滑的边界 path\n * @param points\n * @returns\n */\nexport function getSmoothViolinPath(points) {\n    var half = points.length / 2;\n    var leftPoints = [];\n    var rightPoints = [];\n    for (var i = 0; i < points.length; i++) {\n        if (i < half) {\n            leftPoints.push(points[i]);\n        }\n        else {\n            rightPoints.push(points[i]);\n        }\n    }\n    var leftPath = getSplinePath(leftPoints, false);\n    var rightPath = getSplinePath(rightPoints, false);\n    if (rightPoints.length) {\n        leftPath.push(['L', rightPoints[0].x, rightPoints[0].y]);\n    }\n    rightPath.shift();\n    var path = leftPath.concat(rightPath);\n    if (leftPoints.length) {\n        path.push(['L', leftPoints[0].x, leftPoints[0].y]);\n    }\n    path.push(['z']);\n    return path;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}