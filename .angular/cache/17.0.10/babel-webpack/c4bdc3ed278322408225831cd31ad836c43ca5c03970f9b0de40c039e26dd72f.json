{"ast":null,"code":"import _asyncToGenerator from \"/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ActivatedRoute } from '@angular/router';\nimport { ExportGQL, ExportTable, ExportType } from '@ridy/admin-panel/generated/graphql';\nimport { environment } from '@ridy/admin-panel/src/environments/environment';\nimport { firstValueFrom, map } from 'rxjs';\nimport { TableService } from '../../../@services/table-service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../../@services/table-service\";\nimport * as i3 from \"@ridy/admin-panel/generated/graphql\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"ng-zorro-antd/table\";\nimport * as i7 from \"ng-zorro-antd/input\";\nimport * as i8 from \"ng-zorro-antd/menu\";\nimport * as i9 from \"ng-zorro-antd/dropdown\";\nimport * as i10 from \"ng-zorro-antd/button\";\nimport * as i11 from \"ng-zorro-antd/core/transition-patch\";\nimport * as i12 from \"ng-zorro-antd/core/wave\";\nimport * as i13 from \"ng-zorro-antd/icon\";\nimport * as i14 from \"ng-zorro-antd/page-header\";\nimport * as i15 from \"ng-zorro-antd/tooltip\";\nimport * as i16 from \"@ngx-translate/core\";\nimport * as i17 from \"ngx-timeago\";\nfunction AdminTransactionsComponent_nz_page_header_content_12_nz_table_1_tr_20_a_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r10 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"routerLink\", \"/management/users/view/\" + data_r10.operatorId);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 2, \"table.viewOperator\"));\n  }\n}\nfunction AdminTransactionsComponent_nz_page_header_content_12_nz_table_1_tr_20_a_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r10 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"routerLink\", \"/requests/view/\" + data_r10.requestId);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 2, \"table.viewRequest\"));\n  }\n}\nfunction AdminTransactionsComponent_nz_page_header_content_12_nz_table_1_tr_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 22);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"timeago\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"translate\");\n    i0.ɵɵpipe(8, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtemplate(15, AdminTransactionsComponent_nz_page_header_content_12_nz_table_1_tr_20_a_15_Template, 3, 4, \"a\", 23)(16, AdminTransactionsComponent_nz_page_header_content_12_nz_table_1_tr_20_a_16_Template, 3, 4, \"a\", 23);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const data_r10 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"nz-tooltip\", i0.ɵɵpipeBind2(2, 7, data_r10.createdAt, \"short\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 10, data_r10.createdAt));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(data_r10.action === \"Deduct\" ? i0.ɵɵpipeBind1(7, 12, \"enum.transactionType.\" + data_r10.deductType) : i0.ɵɵpipeBind1(8, 14, \"enum.transactionType.\" + data_r10.rechargeType));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 16, data_r10.amount, data_r10.currency));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(data_r10.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", data_r10.operatorId !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", data_r10.requestId !== null);\n  }\n}\nfunction AdminTransactionsComponent_nz_page_header_content_12_nz_table_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"nz-table\", 18, 19);\n    i0.ɵɵlistener(\"nzQueryParams\", function AdminTransactionsComponent_nz_page_header_content_12_nz_table_1_Template_nz_table_nzQueryParams_0_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.tableService.onTableQueryParamsChange($event));\n    });\n    i0.ɵɵelementStart(2, \"thead\")(3, \"tr\")(4, \"th\", 20);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\", 21);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\");\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"translate\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"tbody\");\n    i0.ɵɵtemplate(20, AdminTransactionsComponent_nz_page_header_content_12_nz_table_1_tr_20_Template, 17, 19, \"tr\", 17);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const wallets_r7 = ctx.ngIf;\n    const _r8 = i0.ɵɵreference(1);\n    i0.ɵɵproperty(\"nzFrontPagination\", false)(\"nzData\", wallets_r7.nodes)(\"nzTotal\", wallets_r7.totalCount);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 9, \"profile.dateTime\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 11, \"profile.transactionType\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(12, 13, \"profile.amount\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(15, 15, \"profile.details\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(18, 17, \"profile.actions\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", _r8.data);\n  }\n}\nfunction AdminTransactionsComponent_nz_page_header_content_12_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const data_r17 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(3, 1, data_r17.balance, data_r17.currency));\n  }\n}\nfunction AdminTransactionsComponent_nz_page_header_content_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"nz-page-header-content\");\n    i0.ɵɵtemplate(1, AdminTransactionsComponent_nz_page_header_content_12_nz_table_1_Template, 21, 19, \"nz-table\", 14);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementStart(3, \"nz-table\", 15, 16)(5, \"thead\")(6, \"tr\")(7, \"th\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"translate\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"tbody\");\n    i0.ɵɵtemplate(11, AdminTransactionsComponent_nz_page_header_content_12_tr_11_Template, 4, 4, \"tr\", 17);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const data_r3 = ctx.ngIf;\n    const _r5 = i0.ɵɵreference(4);\n    const ctx_r1 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = i0.ɵɵpipeBind1(2, 4, ctx_r1.query)) == null ? null : tmp_0_0.data == null ? null : tmp_0_0.data.providerTransactions);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"nzData\", data_r3.providerWallets);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 6, \"profile.total\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", _r5.data);\n  }\n}\nexport class AdminTransactionsComponent {\n  constructor(route, tableService, exportGql) {\n    this.route = route;\n    this.tableService = tableService;\n    this.exportGql = exportGql;\n    this.amountRange = [-1, -1];\n  }\n  ngOnInit() {\n    this.query = this.route.data.pipe(map(data => data.providerWallet));\n    this.currencies = this.query.pipe(map(data => this.distinctCurrency(data.data.regions.nodes).map(currency => ({\n      text: currency,\n      value: currency\n    }))));\n  }\n  exportTo(type) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const result = yield firstValueFrom(_this.exportGql.fetch({\n        input: {\n          table: ExportTable.ProviderWallet,\n          type: ExportType.Csv\n        }\n      }));\n      _this.tableService.downloadURI(environment.root + result.data.export.url, `export-${new Date().getTime()}.csv`);\n    })();\n  }\n  distinctCurrency(array) {\n    return array.map(item => item.currency).filter((v, i, a) => a.indexOf(v) === i);\n  }\n  static {\n    this.ɵfac = function AdminTransactionsComponent_Factory(t) {\n      return new (t || AdminTransactionsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.TableService), i0.ɵɵdirectiveInject(i3.ExportGQL));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AdminTransactionsComponent,\n      selectors: [[\"app-admin-transactions\"]],\n      decls: 28,\n      vars: 22,\n      consts: [[\"nzBackIcon\", \"\", \"nzTitle\", \"Provider Wallet\", \"nzSubtitle\", \"List of system provider (you) income of services.\", 3, \"nzGhost\"], [\"nz-button\", \"\", \"nz-dropdown\", \"\", 3, \"nzDropdownMenu\"], [\"nz-icon\", \"\", \"nzType\", \"export\"], [\"nz-icon\", \"\", \"nzType\", \"down\"], [\"menuExport\", \"nzDropdownMenu\"], [\"nz-menu\", \"\"], [\"nz-menu-item\", \"\", 3, \"click\"], [4, \"ngIf\"], [\"filteramount\", \"nzDropdownMenu\"], [1, \"ant-table-filter-dropdown\"], [1, \"search-box\"], [\"nz-input\", \"\", \"type\", \"number\", 3, \"placeholder\", \"ngModel\", \"ngModelChange\"], [\"nz-button\", \"\", \"nzSize\", \"small\", \"nzType\", \"primary\", 1, \"search-button\", 3, \"click\"], [\"nz-button\", \"\", \"nzSize\", \"small\", 3, \"click\"], [\"nzShowSizeChanger\", \"\", \"nzBordered\", \"\", 3, \"nzFrontPagination\", \"nzData\", \"nzTotal\", \"nzQueryParams\", 4, \"ngIf\"], [\"nzBordered\", \"\", 1, \"mt-2\", 3, \"nzData\"], [\"summaryTable\", \"\"], [4, \"ngFor\", \"ngForOf\"], [\"nzShowSizeChanger\", \"\", \"nzBordered\", \"\", 3, \"nzFrontPagination\", \"nzData\", \"nzTotal\", \"nzQueryParams\"], [\"table\", \"\"], [\"nzShowSort\", \"\", \"nzColumnKey\", \"createdAt\"], [\"nzShowSort\", \"\", \"nzColumnKey\", \"action\"], [3, \"nz-tooltip\"], [3, \"routerLink\", 4, \"ngIf\"], [3, \"routerLink\"]],\n      template: function AdminTransactionsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"nz-page-header\", 0)(1, \"nz-page-header-extra\")(2, \"button\", 1);\n          i0.ɵɵelement(3, \"i\", 2);\n          i0.ɵɵtext(4);\n          i0.ɵɵpipe(5, \"translate\");\n          i0.ɵɵelement(6, \"i\", 3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"nz-dropdown-menu\", null, 4)(9, \"ul\", 5)(10, \"li\", 6);\n          i0.ɵɵlistener(\"click\", function AdminTransactionsComponent_Template_li_click_10_listener() {\n            return ctx.exportTo(\"csv\");\n          });\n          i0.ɵɵtext(11, \"CSV\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵtemplate(12, AdminTransactionsComponent_nz_page_header_content_12_Template, 12, 8, \"nz-page-header-content\", 7);\n          i0.ɵɵpipe(13, \"async\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"nz-dropdown-menu\", null, 8)(16, \"div\", 9)(17, \"div\", 10)(18, \"input\", 11);\n          i0.ɵɵlistener(\"ngModelChange\", function AdminTransactionsComponent_Template_input_ngModelChange_18_listener($event) {\n            return ctx.amountRange[0] = $event;\n          });\n          i0.ɵɵpipe(19, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"input\", 11);\n          i0.ɵɵlistener(\"ngModelChange\", function AdminTransactionsComponent_Template_input_ngModelChange_20_listener($event) {\n            return ctx.amountRange[1] = $event;\n          });\n          i0.ɵɵpipe(21, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"button\", 12);\n          i0.ɵɵlistener(\"click\", function AdminTransactionsComponent_Template_button_click_22_listener() {\n            return ctx.tableService.filterRange(\"balance\", ctx.amountRange);\n          });\n          i0.ɵɵtext(23);\n          i0.ɵɵpipe(24, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"button\", 13);\n          i0.ɵɵlistener(\"click\", function AdminTransactionsComponent_Template_button_click_25_listener() {\n            return ctx.tableService.filterRange(\"balance\", undefined);\n          });\n          i0.ɵɵtext(26);\n          i0.ɵɵpipe(27, \"translate\");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          const _r0 = i0.ɵɵreference(8);\n          let tmp_3_0;\n          i0.ɵɵproperty(\"nzGhost\", false);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"nzDropdownMenu\", _r0);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 10, \"profile.export\"), \" \");\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngIf\", (tmp_3_0 = i0.ɵɵpipeBind1(13, 12, ctx.query)) == null ? null : tmp_3_0.data);\n          i0.ɵɵadvance(6);\n          i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(19, 14, \"table.min\"));\n          i0.ɵɵproperty(\"ngModel\", ctx.amountRange[0]);\n          i0.ɵɵadvance(2);\n          i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(21, 16, \"table.max\"));\n          i0.ɵɵproperty(\"ngModel\", ctx.amountRange[1]);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(24, 18, \"profile.search\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(27, 20, \"profile.reset\"));\n        }\n      },\n      dependencies: [i1.RouterLink, i4.NgForOf, i4.NgIf, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.NgControlStatus, i5.NgModel, i6.NzTableComponent, i6.NzThAddOnComponent, i6.NzTableCellDirective, i6.NzThMeasureDirective, i6.NzTheadComponent, i6.NzTbodyComponent, i6.NzTrDirective, i7.NzInputDirective, i8.NzMenuDirective, i8.NzMenuItemComponent, i9.NzDropDownDirective, i9.NzDropdownMenuComponent, i9.NzDropdownButtonDirective, i10.NzButtonComponent, i11.ɵNzTransitionPatchDirective, i12.NzWaveDirective, i13.NzIconDirective, i14.NzPageHeaderComponent, i14.NzPageHeaderContentDirective, i14.NzPageHeaderExtraDirective, i15.NzTooltipDirective, i4.AsyncPipe, i4.CurrencyPipe, i4.DatePipe, i16.TranslatePipe, i17.TimeagoPipe],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["ActivatedRoute","ExportGQL","ExportTable","ExportType","environment","firstValueFrom","map","TableService","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","data_r10","operatorId","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind1","requestId","ɵɵtemplate","AdminTransactionsComponent_nz_page_header_content_12_nz_table_1_tr_20_a_15_Template","AdminTransactionsComponent_nz_page_header_content_12_nz_table_1_tr_20_a_16_Template","ɵɵpipeBind2","createdAt","action","deductType","rechargeType","amount","currency","description","ɵɵlistener","AdminTransactionsComponent_nz_page_header_content_12_nz_table_1_Template_nz_table_nzQueryParams_0_listener","$event","ɵɵrestoreView","_r16","ctx_r15","ɵɵnextContext","ɵɵresetView","tableService","onTableQueryParamsChange","AdminTransactionsComponent_nz_page_header_content_12_nz_table_1_tr_20_Template","wallets_r7","nodes","totalCount","_r8","data","data_r17","balance","AdminTransactionsComponent_nz_page_header_content_12_nz_table_1_Template","AdminTransactionsComponent_nz_page_header_content_12_tr_11_Template","tmp_0_0","ctx_r1","query","providerTransactions","data_r3","providerWallets","_r5","AdminTransactionsComponent","constructor","route","exportGql","amountRange","ngOnInit","pipe","providerWallet","currencies","distinctCurrency","regions","text","value","exportTo","type","_this","_asyncToGenerator","result","fetch","input","table","ProviderWallet","Csv","downloadURI","root","export","url","Date","getTime","array","item","filter","v","i","a","indexOf","ɵɵdirectiveInject","i1","i2","i3","selectors","decls","vars","consts","template","AdminTransactionsComponent_Template","rf","ctx","ɵɵelement","AdminTransactionsComponent_Template_li_click_10_listener","AdminTransactionsComponent_nz_page_header_content_12_Template","AdminTransactionsComponent_Template_input_ngModelChange_18_listener","AdminTransactionsComponent_Template_input_ngModelChange_20_listener","AdminTransactionsComponent_Template_button_click_22_listener","filterRange","AdminTransactionsComponent_Template_button_click_25_listener","undefined","_r0","ɵɵtextInterpolate1","tmp_3_0","ɵɵpropertyInterpolate"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/apps/admin-panel/src/app/cms/financials/admin-transactions/admin-transactions.component.ts","/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/apps/admin-panel/src/app/cms/financials/admin-transactions/admin-transactions.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ApolloQueryResult } from '@apollo/client/core';\nimport { ExportGQL, ExportTable, ExportType, ProviderWalletsListQuery } from '@ridy/admin-panel/generated/graphql';\nimport { environment } from '@ridy/admin-panel/src/environments/environment';\nimport { NzTableFilterList } from 'ng-zorro-antd/table';\nimport { firstValueFrom, map, Observable } from 'rxjs';\n\nimport { TableService } from '../../../@services/table-service';\n\n@Component({\n  selector: 'app-admin-transactions',\n  templateUrl: './admin-transactions.component.html'\n})\nexport class AdminTransactionsComponent implements OnInit {\n  query?: Observable<ApolloQueryResult<ProviderWalletsListQuery>>;\n  amountRange: number[] = [-1,-1];\n  currencies?: Observable<NzTableFilterList>;\n\n  constructor(\n    private route: ActivatedRoute,\n    public tableService: TableService,\n    private exportGql: ExportGQL\n  ) { }\n\n  ngOnInit(): void {\n    this.query = this.route.data.pipe(map(data => data.providerWallet));\n    this.currencies = this.query.pipe(map(data => this.distinctCurrency(data.data.regions.nodes).map(currency => ({ text: currency, value: currency }))))\n  }\n  \n  async exportTo(type: string) {\n    const result = await firstValueFrom(this.exportGql.fetch({input: {table: ExportTable.ProviderWallet, type: ExportType.Csv}}));\n    this.tableService.downloadURI(environment.root + result.data.export.url, `export-${new Date().getTime()}.csv`);\n  }\n\n  distinctCurrency(array: {currency: string}[]): string[] {\n    return array.map(item => item.currency).filter((v, i, a) => a.indexOf(v) === i);\n  }\n}\n","  <nz-page-header [nzGhost]=\"false\" nzBackIcon nzTitle=\"Provider Wallet\" nzSubtitle=\"List of system provider (you) income of services.\">\n    <nz-page-header-extra>\n        <button nz-button nz-dropdown [nzDropdownMenu]=\"menuExport\">\n            <i nz-icon nzType=\"export\"></i>\n            {{ 'profile.export' | translate }}\n            <i nz-icon nzType=\"down\"></i>\n        </button>\n        <nz-dropdown-menu #menuExport=\"nzDropdownMenu\">\n            <ul nz-menu>\n                <li nz-menu-item (click)=\"exportTo('csv')\">CSV</li>\n            </ul>\n        </nz-dropdown-menu>\n    </nz-page-header-extra>\n    <nz-page-header-content *ngIf=\"(query | async)?.data as data\">\n        <nz-table #table nzShowSizeChanger [nzFrontPagination]=\"false\"\n            *ngIf=\"(query | async)?.data?.providerTransactions as wallets\" [nzData]=\"wallets.nodes\"\n            [nzTotal]=\"wallets.totalCount\" (nzQueryParams)=\"tableService.onTableQueryParamsChange($event)\"\n            nzBordered>\n            <thead>\n                <tr>\n                  <th nzShowSort nzColumnKey=\"createdAt\">{{ 'profile.dateTime' | translate }}</th>\n                  <th nzShowSort nzColumnKey=\"action\">{{ 'profile.transactionType' | translate }}</th>\n                  <th>{{ 'profile.amount' | translate }}</th>\n                  <th>{{ 'profile.details' | translate }}</th>\n                  <th>{{ 'profile.actions' | translate }}</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr *ngFor=\"let data of table.data\">\n                  <td [nz-tooltip]=\"data.createdAt | date:'short'\">{{ data.createdAt | timeago }}</td>\n                  <td>{{ data.action === 'Deduct' ? ('enum.transactionType.' + data.deductType | translate) : ('enum.transactionType.' + data.rechargeType | translate) }}</td>\n                  <td>{{ data.amount | currency: data.currency }}</td>\n                  <td>{{ data.description }}</td>\n                  <td>\n                    <a *ngIf=\"data.operatorId !== null\" [routerLink]=\"'/management/users/view/' + data.operatorId\">{{ 'table.viewOperator' | translate }}</a>\n                    <a *ngIf=\"data.requestId !== null\" [routerLink]=\"'/requests/view/' + data.requestId\">{{ 'table.viewRequest' | translate }}</a>\n                  </td>\n                </tr>\n            </tbody>\n        </nz-table>\n        <nz-table\n        #summaryTable\n        [nzData]=\"data.providerWallets\"\n        nzBordered\n        class=\"mt-2\">\n        <thead>\n          <tr>\n            <th>{{ 'profile.total' | translate }}</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr *ngFor=\"let data of summaryTable.data\">\n            <td>{{ data.balance | currency: data.currency }}</td>\n          </tr>\n        </tbody>\n      </nz-table>\n    </nz-page-header-content>\n</nz-page-header>\n\n<nz-dropdown-menu #filteramount=\"nzDropdownMenu\">\n    <div class=\"ant-table-filter-dropdown\">\n        <div class=\"search-box\">\n            <input nz-input type=\"number\" placeholder=\"{{ 'table.min' | translate }}\" [(ngModel)]=\"amountRange[0]\">\n            <input nz-input type=\"number\" placeholder=\"{{ 'table.max' | translate }}\" [(ngModel)]=\"amountRange[1]\">\n            <button nz-button nzSize=\"small\" nzType=\"primary\" (click)=\"tableService.filterRange('balance', amountRange)\"\n                class=\"search-button\">{{ 'profile.search' | translate }}</button>\n            <button nz-button nzSize=\"small\" (click)=\"tableService.filterRange('balance', undefined)\">{{ 'profile.reset' | translate }}</button>\n        </div>\n    </div>\n</nz-dropdown-menu>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}