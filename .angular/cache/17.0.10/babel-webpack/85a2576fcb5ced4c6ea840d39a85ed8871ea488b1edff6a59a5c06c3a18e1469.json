{"ast":null,"code":"// 检测各边是否超出\nexport function getOutSides(x, y, width, height, limitBox) {\n  var hits = {\n    left: x < limitBox.x,\n    right: x + width > limitBox.x + limitBox.width,\n    top: y < limitBox.y,\n    bottom: y + height > limitBox.y + limitBox.height\n  };\n  return hits;\n}\nexport function getPointByPosition(x, y, offset, width, height, position) {\n  var px = x;\n  var py = y;\n  switch (position) {\n    case 'left':\n      // left center\n      px = x - width - offset;\n      py = y - height / 2;\n      break;\n    case 'right':\n      px = x + offset;\n      py = y - height / 2;\n      break;\n    case 'top':\n      px = x - width / 2;\n      py = y - height - offset;\n      break;\n    case 'bottom':\n      // bottom\n      px = x - width / 2;\n      py = y + offset;\n      break;\n    default:\n      // auto, 在 top-right\n      px = x + offset;\n      py = y - height - offset;\n      break;\n  }\n  return {\n    x: px,\n    y: py\n  };\n}\nexport function getAlignPoint(x, y, offset, width, height, position, limitBox) {\n  var point = getPointByPosition(x, y, offset, width, height, position);\n  if (limitBox) {\n    var outSides = getOutSides(point.x, point.y, width, height, limitBox);\n    if (position === 'auto') {\n      // 如果是 auto，默认 tooltip 在右上角，仅需要判定右侧和上测冲突即可\n      if (outSides.right) {\n        point.x = Math.max(0, x - width - offset);\n      }\n      if (outSides.top) {\n        point.y = Math.max(0, y - height - offset);\n      }\n    } else if (position === 'top' || position === 'bottom') {\n      if (outSides.left) {\n        // 左侧躲避\n        point.x = limitBox.x;\n      }\n      if (outSides.right) {\n        // 右侧躲避\n        point.x = limitBox.x + limitBox.width - width;\n      }\n      if (position === 'top' && outSides.top) {\n        // 如果上面对齐检测上面，不检测下面\n        point.y = y + offset;\n      }\n      if (position === 'bottom' && outSides.bottom) {\n        point.y = y - height - offset;\n      }\n    } else {\n      // 检测左右位置\n      if (outSides.top) {\n        point.y = limitBox.y;\n      }\n      if (outSides.bottom) {\n        point.y = limitBox.y + limitBox.height - height;\n      }\n      if (position === 'left' && outSides.left) {\n        point.x = x + offset;\n      }\n      if (position === 'right' && outSides.right) {\n        point.x = x - width - offset;\n      }\n    }\n  }\n  return point;\n}","map":{"version":3,"names":["getOutSides","x","y","width","height","limitBox","hits","left","right","top","bottom","getPointByPosition","offset","position","px","py","getAlignPoint","point","outSides","Math","max"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/node_modules/@antv/component/esm/util/align.js"],"sourcesContent":["// 检测各边是否超出\nexport function getOutSides(x, y, width, height, limitBox) {\n    var hits = {\n        left: x < limitBox.x,\n        right: x + width > limitBox.x + limitBox.width,\n        top: y < limitBox.y,\n        bottom: y + height > limitBox.y + limitBox.height,\n    };\n    return hits;\n}\nexport function getPointByPosition(x, y, offset, width, height, position) {\n    var px = x;\n    var py = y;\n    switch (position) {\n        case 'left': // left center\n            px = x - width - offset;\n            py = y - height / 2;\n            break;\n        case 'right':\n            px = x + offset;\n            py = y - height / 2;\n            break;\n        case 'top':\n            px = x - width / 2;\n            py = y - height - offset;\n            break;\n        case 'bottom':\n            // bottom\n            px = x - width / 2;\n            py = y + offset;\n            break;\n        default:\n            // auto, 在 top-right\n            px = x + offset;\n            py = y - height - offset;\n            break;\n    }\n    return {\n        x: px,\n        y: py,\n    };\n}\nexport function getAlignPoint(x, y, offset, width, height, position, limitBox) {\n    var point = getPointByPosition(x, y, offset, width, height, position);\n    if (limitBox) {\n        var outSides = getOutSides(point.x, point.y, width, height, limitBox);\n        if (position === 'auto') {\n            // 如果是 auto，默认 tooltip 在右上角，仅需要判定右侧和上测冲突即可\n            if (outSides.right) {\n                point.x = Math.max(0, x - width - offset);\n            }\n            if (outSides.top) {\n                point.y = Math.max(0, y - height - offset);\n            }\n        }\n        else if (position === 'top' || position === 'bottom') {\n            if (outSides.left) {\n                // 左侧躲避\n                point.x = limitBox.x;\n            }\n            if (outSides.right) {\n                // 右侧躲避\n                point.x = limitBox.x + limitBox.width - width;\n            }\n            if (position === 'top' && outSides.top) {\n                // 如果上面对齐检测上面，不检测下面\n                point.y = y + offset;\n            }\n            if (position === 'bottom' && outSides.bottom) {\n                point.y = y - height - offset;\n            }\n        }\n        else {\n            // 检测左右位置\n            if (outSides.top) {\n                point.y = limitBox.y;\n            }\n            if (outSides.bottom) {\n                point.y = limitBox.y + limitBox.height - height;\n            }\n            if (position === 'left' && outSides.left) {\n                point.x = x + offset;\n            }\n            if (position === 'right' && outSides.right) {\n                point.x = x - width - offset;\n            }\n        }\n    }\n    return point;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}