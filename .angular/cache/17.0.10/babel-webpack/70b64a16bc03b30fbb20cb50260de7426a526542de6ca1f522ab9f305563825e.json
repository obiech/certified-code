{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { ext } from '@antv/matrix-util';\nimport { Action } from '..';\nimport { distance } from '../util';\nvar MIN_DISTANCE = 5;\n/**\n * @ignore\n * View 移动的 Action\n */\nvar Move = /** @class */function (_super) {\n  __extends(Move, _super);\n  function Move() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.starting = false;\n    _this.isMoving = false;\n    // private cacheRange = null;\n    _this.startPoint = null;\n    _this.startMatrix = null;\n    return _this;\n  }\n  /**\n   * 开始移动\n   */\n  Move.prototype.start = function () {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n    // 缓存开始时的矩阵，防止反复拖拽\n    this.startMatrix = this.context.view.middleGroup.getMatrix();\n  };\n  /**\n   * 移动\n   */\n  Move.prototype.move = function () {\n    if (!this.starting) {\n      return;\n    }\n    var startPoint = this.startPoint;\n    var currentPoint = this.context.getCurrentPoint();\n    var d = distance(startPoint, currentPoint);\n    if (d > MIN_DISTANCE && !this.isMoving) {\n      this.isMoving = true;\n    }\n    if (this.isMoving) {\n      var view = this.context.view;\n      var matrix = ext.transform(this.startMatrix, [['t', currentPoint.x - startPoint.x, currentPoint.y - startPoint.y]]);\n      view.backgroundGroup.setMatrix(matrix);\n      view.foregroundGroup.setMatrix(matrix);\n      view.middleGroup.setMatrix(matrix);\n    }\n  };\n  /**\n   * 结束移动\n   */\n  Move.prototype.end = function () {\n    if (this.isMoving) {\n      this.isMoving = false;\n    }\n    this.startMatrix = null;\n    this.starting = false;\n    this.startPoint = null;\n  };\n  /**\n   * 回滚\n   */\n  Move.prototype.reset = function () {\n    this.starting = false;\n    this.startPoint = null;\n    this.isMoving = false;\n    var view = this.context.view;\n    view.backgroundGroup.resetMatrix();\n    view.foregroundGroup.resetMatrix();\n    view.middleGroup.resetMatrix();\n    this.isMoving = false;\n  };\n  return Move;\n}(Action);\nexport default Move;","map":{"version":3,"names":["__extends","ext","Action","distance","MIN_DISTANCE","Move","_super","_this","apply","arguments","starting","isMoving","startPoint","startMatrix","prototype","start","context","getCurrentPoint","view","middleGroup","getMatrix","move","currentPoint","d","matrix","transform","x","y","backgroundGroup","setMatrix","foregroundGroup","end","reset","resetMatrix"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/node_modules/@antv/g2/esm/interaction/action/view/move.js"],"sourcesContent":["import { __extends } from \"tslib\";\nimport { ext } from '@antv/matrix-util';\nimport { Action } from '..';\nimport { distance } from '../util';\nvar MIN_DISTANCE = 5;\n/**\n * @ignore\n * View 移动的 Action\n */\nvar Move = /** @class */ (function (_super) {\n    __extends(Move, _super);\n    function Move() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.starting = false;\n        _this.isMoving = false;\n        // private cacheRange = null;\n        _this.startPoint = null;\n        _this.startMatrix = null;\n        return _this;\n    }\n    /**\n     * 开始移动\n     */\n    Move.prototype.start = function () {\n        this.starting = true;\n        this.startPoint = this.context.getCurrentPoint();\n        // 缓存开始时的矩阵，防止反复拖拽\n        this.startMatrix = this.context.view.middleGroup.getMatrix();\n    };\n    /**\n     * 移动\n     */\n    Move.prototype.move = function () {\n        if (!this.starting) {\n            return;\n        }\n        var startPoint = this.startPoint;\n        var currentPoint = this.context.getCurrentPoint();\n        var d = distance(startPoint, currentPoint);\n        if (d > MIN_DISTANCE && !this.isMoving) {\n            this.isMoving = true;\n        }\n        if (this.isMoving) {\n            var view = this.context.view;\n            var matrix = ext.transform(this.startMatrix, [\n                ['t', currentPoint.x - startPoint.x, currentPoint.y - startPoint.y],\n            ]);\n            view.backgroundGroup.setMatrix(matrix);\n            view.foregroundGroup.setMatrix(matrix);\n            view.middleGroup.setMatrix(matrix);\n        }\n    };\n    /**\n     * 结束移动\n     */\n    Move.prototype.end = function () {\n        if (this.isMoving) {\n            this.isMoving = false;\n        }\n        this.startMatrix = null;\n        this.starting = false;\n        this.startPoint = null;\n    };\n    /**\n     * 回滚\n     */\n    Move.prototype.reset = function () {\n        this.starting = false;\n        this.startPoint = null;\n        this.isMoving = false;\n        var view = this.context.view;\n        view.backgroundGroup.resetMatrix();\n        view.foregroundGroup.resetMatrix();\n        view.middleGroup.resetMatrix();\n        this.isMoving = false;\n    };\n    return Move;\n}(Action));\nexport default Move;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}