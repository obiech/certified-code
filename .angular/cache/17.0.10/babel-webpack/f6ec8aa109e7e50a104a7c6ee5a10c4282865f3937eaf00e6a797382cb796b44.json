{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport { createDom, modifyCSS } from '@antv/dom-util';\nimport { substitute, hasKey } from '@antv/util';\nimport { toPx, getTextPoint } from '../util/util';\nimport HtmlComponent from '../abstract/html-component';\nimport * as CssConst from './css-const';\nimport HtmlTheme from './html-theme';\nvar HtmlCrosshair = /** @class */function (_super) {\n  __extends(HtmlCrosshair, _super);\n  function HtmlCrosshair() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  HtmlCrosshair.prototype.getDefaultCfg = function () {\n    var cfg = _super.prototype.getDefaultCfg.call(this);\n    return __assign(__assign({}, cfg), {\n      name: 'crosshair',\n      type: 'html',\n      locationType: 'region',\n      start: {\n        x: 0,\n        y: 0\n      },\n      end: {\n        x: 0,\n        y: 0\n      },\n      capture: false,\n      text: null,\n      containerTpl: \"<div class=\\\"\" + CssConst.CONTAINER_CLASS + \"\\\"></div>\",\n      crosshairTpl: \"<div class=\\\"\" + CssConst.CROSSHAIR_LINE + \"\\\"></div>\",\n      textTpl: \"<span class=\\\"\" + CssConst.CROSSHAIR_TEXT + \"\\\">{content}</span>\",\n      domStyles: null,\n      containerClassName: CssConst.CONTAINER_CLASS,\n      defaultStyles: HtmlTheme,\n      defaultCfg: {\n        text: {\n          position: 'start',\n          content: null,\n          align: 'center',\n          offset: 10\n        }\n      }\n    });\n  };\n  HtmlCrosshair.prototype.render = function () {\n    this.resetText();\n    this.resetPosition();\n  };\n  // 绘制 crosshair\n  HtmlCrosshair.prototype.initCrossHair = function () {\n    var container = this.getContainer();\n    var crosshairTpl = this.get('crosshairTpl');\n    var crosshairEl = createDom(crosshairTpl);\n    container.appendChild(crosshairEl);\n    this.applyStyle(CssConst.CROSSHAIR_LINE, crosshairEl);\n    this.set('crosshairEl', crosshairEl);\n  };\n  // 获取文本的位置\n  HtmlCrosshair.prototype.getTextPoint = function () {\n    var _a = this.getLocation(),\n      start = _a.start,\n      end = _a.end;\n    var _b = this.get('text'),\n      position = _b.position,\n      offset = _b.offset;\n    return getTextPoint(start, end, position, offset);\n  };\n  // 设置 text\n  HtmlCrosshair.prototype.resetText = function () {\n    var text = this.get('text');\n    var textEl = this.get('textEl');\n    if (text) {\n      var content = text.content;\n      if (!textEl) {\n        var container = this.getContainer();\n        var textTpl = substitute(this.get('textTpl'), text);\n        textEl = createDom(textTpl);\n        container.appendChild(textEl);\n        this.applyStyle(CssConst.CROSSHAIR_TEXT, textEl);\n        this.set('textEl', textEl);\n      }\n      textEl.innerHTML = content;\n    } else if (textEl) {\n      textEl.remove();\n    }\n  };\n  // 是否垂直\n  HtmlCrosshair.prototype.isVertical = function (start, end) {\n    return start.x === end.x;\n  };\n  // 重新调整位置\n  HtmlCrosshair.prototype.resetPosition = function () {\n    var crosshairEl = this.get('crosshairEl');\n    if (!crosshairEl) {\n      this.initCrossHair();\n      crosshairEl = this.get('crosshairEl');\n    }\n    var start = this.get('start');\n    var end = this.get('end');\n    var minX = Math.min(start.x, end.x);\n    var minY = Math.min(start.y, end.y);\n    if (this.isVertical(start, end)) {\n      modifyCSS(crosshairEl, {\n        width: '1px',\n        height: toPx(Math.abs(end.y - start.y))\n      });\n    } else {\n      modifyCSS(crosshairEl, {\n        height: '1px',\n        width: toPx(Math.abs(end.x - start.x))\n      });\n    }\n    modifyCSS(crosshairEl, {\n      top: toPx(minY),\n      left: toPx(minX)\n    });\n    this.alignText();\n  };\n  HtmlCrosshair.prototype.alignText = function () {\n    // 重新设置 text 位置\n    var textEl = this.get('textEl');\n    if (textEl) {\n      var align = this.get('text').align;\n      var clientWidth = textEl.clientWidth;\n      var point = this.getTextPoint();\n      switch (align) {\n        case 'center':\n          point.x = point.x - clientWidth / 2;\n          break;\n        case 'right':\n          point.x = point.x - clientWidth;\n        case 'left':\n          break;\n      }\n      modifyCSS(textEl, {\n        top: toPx(point.y),\n        left: toPx(point.x)\n      });\n    }\n  };\n  HtmlCrosshair.prototype.updateInner = function (cfg) {\n    if (hasKey(cfg, 'text')) {\n      this.resetText();\n    }\n    _super.prototype.updateInner.call(this, cfg);\n  };\n  return HtmlCrosshair;\n}(HtmlComponent);\nexport default HtmlCrosshair;","map":{"version":3,"names":["__assign","__extends","createDom","modifyCSS","substitute","hasKey","toPx","getTextPoint","HtmlComponent","CssConst","HtmlTheme","HtmlCrosshair","_super","apply","arguments","prototype","getDefaultCfg","cfg","call","name","type","locationType","start","x","y","end","capture","text","containerTpl","CONTAINER_CLASS","crosshairTpl","CROSSHAIR_LINE","textTpl","CROSSHAIR_TEXT","domStyles","containerClassName","defaultStyles","defaultCfg","position","content","align","offset","render","resetText","resetPosition","initCrossHair","container","getContainer","get","crosshairEl","appendChild","applyStyle","set","_a","getLocation","_b","textEl","innerHTML","remove","isVertical","minX","Math","min","minY","width","height","abs","top","left","alignText","clientWidth","point","updateInner"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/node_modules/@antv/component/esm/crosshair/html.js"],"sourcesContent":["import { __assign, __extends } from \"tslib\";\nimport { createDom, modifyCSS } from '@antv/dom-util';\nimport { substitute, hasKey } from '@antv/util';\nimport { toPx, getTextPoint } from '../util/util';\nimport HtmlComponent from '../abstract/html-component';\nimport * as CssConst from './css-const';\nimport HtmlTheme from './html-theme';\nvar HtmlCrosshair = /** @class */ (function (_super) {\n    __extends(HtmlCrosshair, _super);\n    function HtmlCrosshair() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HtmlCrosshair.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'crosshair', type: 'html', locationType: 'region', start: { x: 0, y: 0 }, end: { x: 0, y: 0 }, capture: false, text: null, containerTpl: \"<div class=\\\"\" + CssConst.CONTAINER_CLASS + \"\\\"></div>\", crosshairTpl: \"<div class=\\\"\" + CssConst.CROSSHAIR_LINE + \"\\\"></div>\", textTpl: \"<span class=\\\"\" + CssConst.CROSSHAIR_TEXT + \"\\\">{content}</span>\", domStyles: null, containerClassName: CssConst.CONTAINER_CLASS, defaultStyles: HtmlTheme, defaultCfg: {\n                text: {\n                    position: 'start',\n                    content: null,\n                    align: 'center',\n                    offset: 10\n                }\n            } });\n    };\n    HtmlCrosshair.prototype.render = function () {\n        this.resetText();\n        this.resetPosition();\n    };\n    // 绘制 crosshair\n    HtmlCrosshair.prototype.initCrossHair = function () {\n        var container = this.getContainer();\n        var crosshairTpl = this.get('crosshairTpl');\n        var crosshairEl = createDom(crosshairTpl);\n        container.appendChild(crosshairEl);\n        this.applyStyle(CssConst.CROSSHAIR_LINE, crosshairEl);\n        this.set('crosshairEl', crosshairEl);\n    };\n    // 获取文本的位置\n    HtmlCrosshair.prototype.getTextPoint = function () {\n        var _a = this.getLocation(), start = _a.start, end = _a.end;\n        var _b = this.get('text'), position = _b.position, offset = _b.offset;\n        return getTextPoint(start, end, position, offset);\n    };\n    // 设置 text\n    HtmlCrosshair.prototype.resetText = function () {\n        var text = this.get('text');\n        var textEl = this.get('textEl');\n        if (text) {\n            var content = text.content;\n            if (!textEl) {\n                var container = this.getContainer();\n                var textTpl = substitute(this.get('textTpl'), text);\n                textEl = createDom(textTpl);\n                container.appendChild(textEl);\n                this.applyStyle(CssConst.CROSSHAIR_TEXT, textEl);\n                this.set('textEl', textEl);\n            }\n            textEl.innerHTML = content;\n        }\n        else if (textEl) {\n            textEl.remove();\n        }\n    };\n    // 是否垂直\n    HtmlCrosshair.prototype.isVertical = function (start, end) {\n        return start.x === end.x;\n    };\n    // 重新调整位置\n    HtmlCrosshair.prototype.resetPosition = function () {\n        var crosshairEl = this.get('crosshairEl');\n        if (!crosshairEl) {\n            this.initCrossHair();\n            crosshairEl = this.get('crosshairEl');\n        }\n        var start = this.get('start');\n        var end = this.get('end');\n        var minX = Math.min(start.x, end.x);\n        var minY = Math.min(start.y, end.y);\n        if (this.isVertical(start, end)) {\n            modifyCSS(crosshairEl, {\n                width: '1px',\n                height: toPx(Math.abs(end.y - start.y))\n            });\n        }\n        else {\n            modifyCSS(crosshairEl, {\n                height: '1px',\n                width: toPx(Math.abs(end.x - start.x))\n            });\n        }\n        modifyCSS(crosshairEl, {\n            top: toPx(minY),\n            left: toPx(minX)\n        });\n        this.alignText();\n    };\n    HtmlCrosshair.prototype.alignText = function () {\n        // 重新设置 text 位置\n        var textEl = this.get('textEl');\n        if (textEl) {\n            var align = this.get('text').align;\n            var clientWidth = textEl.clientWidth;\n            var point = this.getTextPoint();\n            switch (align) {\n                case 'center':\n                    point.x = point.x - clientWidth / 2;\n                    break;\n                case 'right':\n                    point.x = point.x - clientWidth;\n                case 'left':\n                    break;\n            }\n            modifyCSS(textEl, {\n                top: toPx(point.y),\n                left: toPx(point.x)\n            });\n        }\n    };\n    HtmlCrosshair.prototype.updateInner = function (cfg) {\n        if (hasKey(cfg, 'text')) {\n            this.resetText();\n        }\n        _super.prototype.updateInner.call(this, cfg);\n    };\n    return HtmlCrosshair;\n}(HtmlComponent));\nexport default HtmlCrosshair;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}