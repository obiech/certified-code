{"ast":null,"code":"import _asyncToGenerator from \"/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { TemplateRef } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { DisableServerGQL, UpdateConfigStatus, UpdateFirebaseGQL, UpdateMapsApiKeyGQL, UpdatePurchaseCodeGQL, UpdatePurchaseCodeStatus } from '@ridy/admin-panel/generated/graphql';\nimport { environment } from '@ridy/admin-panel/src/environments/environment';\nimport { NzMessageService } from 'ng-zorro-antd/message';\nimport { NzModalService } from 'ng-zorro-antd/modal';\nimport { firstValueFrom, map } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@ridy/admin-panel/generated/graphql\";\nimport * as i3 from \"ng-zorro-antd/modal\";\nimport * as i4 from \"ng-zorro-antd/message\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"ng-zorro-antd/alert\";\nimport * as i8 from \"ng-zorro-antd/input\";\nimport * as i9 from \"ng-zorro-antd/button\";\nimport * as i10 from \"ng-zorro-antd/core/transition-patch\";\nimport * as i11 from \"ng-zorro-antd/core/wave\";\nimport * as i12 from \"ng-zorro-antd/icon\";\nimport * as i13 from \"ng-zorro-antd/select\";\nimport * as i14 from \"ng-zorro-antd/upload\";\nimport * as i15 from \"ng-zorro-antd/steps\";\nimport * as i16 from \"ng-zorro-antd/result\";\nconst _c0 = [\"tplContent\"];\nconst _c1 = [\"tplFooter\"];\nfunction ConfigComponent_nz_steps_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"nz-steps\", 6);\n    i0.ɵɵelement(1, \"nz-step\", 7)(2, \"nz-step\", 8)(3, \"nz-step\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"nzCurrent\", ctx_r0.currentStep);\n  }\n}\nfunction ConfigComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function ConfigComponent_div_1_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.currentConfig.currentConfiguration.purchaseCode = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"input\", 12);\n    i0.ɵɵlistener(\"ngModelChange\", function ConfigComponent_div_1_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.email = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"nz-alert\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.currentConfig.currentConfiguration.purchaseCode);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.email);\n  }\n}\nfunction ConfigComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function ConfigComponent_div_2_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.currentConfig.currentConfiguration.backendMapsAPIKey = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function ConfigComponent_div_2_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.currentConfig.currentConfiguration.adminPanelAPIKey = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.currentConfig.currentConfiguration.backendMapsAPIKey);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.currentConfig.currentConfiguration.adminPanelAPIKey);\n  }\n}\nfunction ConfigComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"nz-upload\", 16);\n    i0.ɵɵlistener(\"nzChange\", function ConfigComponent_div_3_Template_nz_upload_nzChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.handleChange($event));\n    });\n    i0.ɵɵelementStart(2, \"p\", 17);\n    i0.ɵɵelement(3, \"i\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 19);\n    i0.ɵɵtext(5, \"Firebase Project Private Key\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 20);\n    i0.ɵɵtext(7, \" Upload private key json file received from firebase project under Service Account and by clicking on the `Generate Private Key` button. \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"nzAction\", ctx_r3.root + \"config/upload\");\n  }\n}\nfunction ConfigComponent_div_4_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function ConfigComponent_div_4_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r21.pre());\n    });\n    i0.ɵɵtext(1, \"Previous\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ConfigComponent_div_4_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function ConfigComponent_div_4_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r23.next());\n    });\n    i0.ɵɵtext(1, \"Next\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ConfigComponent_div_4_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function ConfigComponent_div_4_button_3_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r25 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r25.done());\n    });\n    i0.ɵɵtext(1, \"Done\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ConfigComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtemplate(1, ConfigComponent_div_4_button_1_Template, 2, 0, \"button\", 22)(2, ConfigComponent_div_4_button_2_Template, 2, 0, \"button\", 23)(3, ConfigComponent_div_4_button_3_Template, 2, 0, \"button\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.currentStep > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.currentStep < 2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.currentStep === 2);\n  }\n}\nfunction ConfigComponent_nz_result_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"nz-result\", 26)(1, \"div\", 27)(2, \"button\", 28);\n    i0.ɵɵtext(3, \"Go Login\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ConfigComponent_ng_template_6_nz_option_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"nz-option\", 31);\n  }\n  if (rf & 2) {\n    const client_r28 = ctx.$implicit;\n    i0.ɵɵproperty(\"nzValue\", client_r28)(\"nzLabel\", client_r28);\n  }\n}\nfunction ConfigComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"This purchase code seems to have been used by another server `in past`/`right now`. You can select to disable the previous server from below list and continue using on this server.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"nz-select\", 29);\n    i0.ɵɵlistener(\"ngModelChange\", function ConfigComponent_ng_template_6_Template_nz_select_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.selectedClient = $event);\n    });\n    i0.ɵɵtemplate(3, ConfigComponent_ng_template_6_nz_option_3_Template, 1, 2, \"nz-option\", 30);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r6.selectedClient);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r6.clients);\n  }\n}\nfunction ConfigComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function ConfigComponent_ng_template_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.disableServer());\n    });\n    i0.ɵɵtext(1, \" Disable Selected Server \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"nzLoading\", ctx_r8.tplModalButtonLoading)(\"disabled\", ctx_r8.selectedClient === null);\n  }\n}\nexport class ConfigComponent {\n  constructor(route, updatePurchaseGql, updateMapsGql, updateFirebaseGql, disableServerGql, modalService, msg) {\n    this.route = route;\n    this.updatePurchaseGql = updatePurchaseGql;\n    this.updateMapsGql = updateMapsGql;\n    this.updateFirebaseGql = updateFirebaseGql;\n    this.disableServerGql = disableServerGql;\n    this.modalService = modalService;\n    this.msg = msg;\n    this.currentStep = 0;\n    this.root = environment.root;\n    this.clients = [];\n    this.configed = false;\n    this.tplModalButtonLoading = false;\n  }\n  ngOnInit() {\n    this.remoteConfig = this.route.data.pipe(map(data => data.config));\n    this.configSubscription = this.remoteConfig.subscribe(data => this.currentConfig = data.data);\n  }\n  ngOnDestroy() {\n    this.configSubscription?.unsubscribe();\n  }\n  pre() {\n    this.currentStep -= 1;\n  }\n  next() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      switch (_this.currentStep) {\n        case 0:\n          {\n            if (_this.currentConfig.currentConfiguration.purchaseCode == null) {\n              _this.msg.error('Purchase code is invalid.');\n              return;\n            }\n            const result = yield firstValueFrom(_this.updatePurchaseGql.mutate({\n              code: _this.currentConfig.currentConfiguration.purchaseCode ?? '',\n              email: _this.email\n            }));\n            console.log(result);\n            if (result.data?.updatePurchaseCode.status == UpdatePurchaseCodeStatus.ClientFound) {\n              _this.clients = result.data?.updatePurchaseCode.clients?.map(client => client.ip) ?? [];\n              _this.createClientsModal();\n              return;\n            }\n            if (result.data?.updatePurchaseCode.status == UpdatePurchaseCodeStatus.Invalid) {\n              _this.msg.error(result.data.updatePurchaseCode.message ?? 'An unknown error occured, please contact through the customer panel at support@ridy.io for more information.');\n            }\n            if (result.data?.updatePurchaseCode.status == UpdatePurchaseCodeStatus.Ok) {\n              _this.currentStep += 1;\n            }\n            break;\n          }\n        case 1:\n          {\n            if (_this.currentConfig.currentConfiguration.adminPanelAPIKey == null || _this.currentConfig.currentConfiguration.adminPanelAPIKey.length < 10 || _this.currentConfig.currentConfiguration.backendMapsAPIKey == null || _this.currentConfig.currentConfiguration.backendMapsAPIKey.length < 10) {\n              _this.msg.error('Google Maps API Keys seems invalid.');\n              return;\n            }\n            const result = yield firstValueFrom(_this.updateMapsGql.mutate({\n              backend: _this.currentConfig.currentConfiguration.backendMapsAPIKey,\n              adminPanel: _this.currentConfig.currentConfiguration.adminPanelAPIKey\n            }));\n            if (result.data?.updateMapsAPIKey.status == UpdateConfigStatus.Ok) {\n              _this.currentStep += 1;\n            } else {\n              _this.msg.error(result.data?.updateMapsAPIKey.message ?? 'Unknown Error');\n            }\n            break;\n          }\n      }\n    })();\n  }\n  createClientsModal() {\n    this.tplModal = this.modalService.create({\n      nzTitle: 'License Verification',\n      nzContent: this.clientModalContent,\n      nzFooter: this.clientModalFooter,\n      nzMaskClosable: false,\n      nzClosable: false\n    });\n  }\n  disableServer() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.tplModalButtonLoading = true;\n      yield firstValueFrom(_this2.disableServerGql.mutate({\n        ip: _this2.selectedClient\n      }));\n      _this2.msg.success('Disable was successful.');\n      _this2.tplModal.close();\n    })();\n  }\n  done() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      if (_this3.currentConfig.currentConfiguration.firebaseProjectPrivateKey == null) {\n        _this3.msg.error('Firebase Project key seems invalid.');\n        return;\n      }\n      const result = yield firstValueFrom(_this3.updateFirebaseGql.mutate({\n        keyFileName: _this3.currentConfig.currentConfiguration.firebaseProjectPrivateKey\n      }));\n      if (result.data?.updateFirebase.status == UpdateConfigStatus.Ok) {\n        _this3.configed = true;\n      } else {\n        _this3.msg.error(result.data?.updateFirebase.message ?? 'Unknown error');\n      }\n    })();\n  }\n  handleChange(event) {\n    const status = event.file.status;\n    if (status !== 'uploading') {}\n    if (status === 'done') {\n      this.msg.success(`${event.file.name} file uploaded successfully.`);\n      this.currentConfig.currentConfiguration.firebaseProjectPrivateKey = event.file.name;\n    } else if (status === 'error') {\n      this.msg.error(`${event.file.name} file upload failed.`);\n    }\n  }\n  static {\n    this.ɵfac = function ConfigComponent_Factory(t) {\n      return new (t || ConfigComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.UpdatePurchaseCodeGQL), i0.ɵɵdirectiveInject(i2.UpdateMapsApiKeyGQL), i0.ɵɵdirectiveInject(i2.UpdateFirebaseGQL), i0.ɵɵdirectiveInject(i2.DisableServerGQL), i0.ɵɵdirectiveInject(i3.NzModalService), i0.ɵɵdirectiveInject(i4.NzMessageService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ConfigComponent,\n      selectors: [[\"app-config\"]],\n      viewQuery: function ConfigComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n          i0.ɵɵviewQuery(_c1, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.clientModalContent = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.clientModalFooter = _t.first);\n        }\n      },\n      decls: 10,\n      vars: 6,\n      consts: [[\"class\", \"m-8 w-auto\", 3, \"nzCurrent\", 4, \"ngIf\"], [\"class\", \"step-content\", 4, \"ngIf\"], [\"class\", \"steps-action\", 4, \"ngIf\"], [\"nzStatus\", \"success\", \"nzTitle\", \"Configuration Done!\", \"nzSubTitle\", \"Your configuration steps are done now! You will need to wait for around 30 seconds so system would set it up then you can go to login screen using button below.\", 4, \"ngIf\"], [\"tplContent\", \"\"], [\"tplFooter\", \"\"], [1, \"m-8\", \"w-auto\", 3, \"nzCurrent\"], [\"nzTitle\", \"Purchase Code\", \"nzDescription\", \"License Verification\"], [\"nzTitle\", \"Maps API\", \"nzDescription\", \"Google Maps API Keys\"], [\"nzTitle\", \"Firebase Admin SDK\", \"nzDescription\", \"Notification & Auth\"], [1, \"step-content\"], [\"nz-input\", \"\", \"placeholder\", \"Purchase Code\", 3, \"ngModel\", \"ngModelChange\"], [\"nz-input\", \"\", \"placeholder\", \"E-mail address\", 3, \"ngModel\", \"ngModelChange\"], [\"nzType\", \"info\", \"nzShowIcon\", \"\", \"nzMessage\", \"Important:\", \"nzDescription\", \"The email address you have provided will be used exclusively for important updates regarding your license inquiries, such as abuse reports, disablement notices, and other critical notifications.\", 1, \"m-4\"], [\"nz-input\", \"\", \"placeholder\", \"Backend Maps API key\", 3, \"ngModel\", \"ngModelChange\"], [\"nz-input\", \"\", \"placeholder\", \"Dashboard Maps API key\", 3, \"ngModel\", \"ngModelChange\"], [\"nzType\", \"drag\", \"nzAccept\", \".json,application/json\", 3, \"nzAction\", \"nzChange\"], [1, \"ant-upload-drag-icon\"], [\"nz-icon\", \"\", \"nzType\", \"inbox\"], [1, \"ant-upload-text\"], [1, \"ant-upload-hint\"], [1, \"steps-action\"], [\"nz-button\", \"\", \"nzType\", \"default\", 3, \"click\", 4, \"ngIf\"], [\"nz-button\", \"\", \"nzType\", \"primary\", 3, \"click\", 4, \"ngIf\"], [\"nz-button\", \"\", \"nzType\", \"default\", 3, \"click\"], [\"nz-button\", \"\", \"nzType\", \"primary\", 3, \"click\"], [\"nzStatus\", \"success\", \"nzTitle\", \"Configuration Done!\", \"nzSubTitle\", \"Your configuration steps are done now! You will need to wait for around 30 seconds so system would set it up then you can go to login screen using button below.\"], [\"nz-result-extra\", \"\"], [\"nz-button\", \"\", \"nzType\", \"primary\", \"routerLink\", \"../login\"], [\"nzAllowClear\", \"\", \"nzPlaceHolder\", \"Choose\", 2, \"width\", \"100%\", 3, \"ngModel\", \"ngModelChange\"], [3, \"nzValue\", \"nzLabel\", 4, \"ngFor\", \"ngForOf\"], [3, \"nzValue\", \"nzLabel\"], [\"nz-button\", \"\", \"nzType\", \"primary\", 3, \"nzLoading\", \"disabled\", \"click\"]],\n      template: function ConfigComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, ConfigComponent_nz_steps_0_Template, 4, 1, \"nz-steps\", 0)(1, ConfigComponent_div_1_Template, 4, 2, \"div\", 1)(2, ConfigComponent_div_2_Template, 3, 2, \"div\", 1)(3, ConfigComponent_div_3_Template, 8, 1, \"div\", 1)(4, ConfigComponent_div_4_Template, 4, 3, \"div\", 2)(5, ConfigComponent_nz_result_5_Template, 4, 0, \"nz-result\", 3)(6, ConfigComponent_ng_template_6_Template, 4, 2, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor)(8, ConfigComponent_ng_template_8_Template, 2, 2, \"ng-template\", null, 5, i0.ɵɵtemplateRefExtractor);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", !ctx.configed);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.currentStep === 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.currentStep === 1);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.currentStep === 2 && !ctx.configed);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.configed);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.configed);\n        }\n      },\n      dependencies: [i5.NgForOf, i5.NgIf, i1.RouterLink, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgModel, i7.NzAlertComponent, i8.NzInputDirective, i9.NzButtonComponent, i10.ɵNzTransitionPatchDirective, i11.NzWaveDirective, i12.NzIconDirective, i13.NzOptionComponent, i13.NzSelectComponent, i14.NzUploadComponent, i15.NzStepsComponent, i15.NzStepComponent, i16.NzResultComponent, i16.NzResultExtraDirective],\n      styles: [\".steps-action[_ngcontent-%COMP%] {\\n  display: block;\\n  margin-left: 10px;\\n  margin-top: 24px;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n  margin-right: 8px;\\n}\\n\\n.step-content[_ngcontent-%COMP%] {\\n  margin-left: 10px;\\n  margin-right: 10px;\\n  margin-top: 16px;\\n  border: 1px dashed #e9e9e9;\\n  border-radius: 6px;\\n}\\n\\n.step-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .step-content[_ngcontent-%COMP%]   nz-upload[_ngcontent-%COMP%] {\\n  width: 90%;\\n  display: block;\\n  margin: 50px auto;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBYztFQUNkLGlCQUFpQjtFQUNqQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQiwwQkFBMEI7RUFDMUIsa0JBQWtCO0FBQ3BCOztBQUVBOztFQUVFLFVBQVU7RUFDVixjQUFjO0VBQ2QsaUJBQWlCO0FBQ25CIiwiZmlsZSI6ImNvbmZpZy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnN0ZXBzLWFjdGlvbiB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMTBweDtcbiAgbWFyZ2luLXRvcDogMjRweDtcbn1cblxuYnV0dG9uIHtcbiAgbWFyZ2luLXJpZ2h0OiA4cHg7XG59XG5cbi5zdGVwLWNvbnRlbnQge1xuICBtYXJnaW4tbGVmdDogMTBweDtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICBtYXJnaW4tdG9wOiAxNnB4O1xuICBib3JkZXI6IDFweCBkYXNoZWQgI2U5ZTllOTtcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xufVxuXG4uc3RlcC1jb250ZW50IGlucHV0LFxuLnN0ZXAtY29udGVudCBuei11cGxvYWQge1xuICB3aWR0aDogOTAlO1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luOiA1MHB4IGF1dG87XG59XG4iXX0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL2FwcHMvYWRtaW4tcGFuZWwvc3JjL2FwcC9jb25maWcvY29uZmlnLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFjO0VBQ2QsaUJBQWlCO0VBQ2pCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLDBCQUEwQjtFQUMxQixrQkFBa0I7QUFDcEI7O0FBRUE7O0VBRUUsVUFBVTtFQUNWLGNBQWM7RUFDZCxpQkFBaUI7QUFDbkI7O0FBRUEsdzhCQUF3OEIiLCJzb3VyY2VzQ29udGVudCI6WyIuc3RlcHMtYWN0aW9uIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICBtYXJnaW4tdG9wOiAyNHB4O1xufVxuXG5idXR0b24ge1xuICBtYXJnaW4tcmlnaHQ6IDhweDtcbn1cblxuLnN0ZXAtY29udGVudCB7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gIG1hcmdpbi10b3A6IDE2cHg7XG4gIGJvcmRlcjogMXB4IGRhc2hlZCAjZTllOWU5O1xuICBib3JkZXItcmFkaXVzOiA2cHg7XG59XG5cbi5zdGVwLWNvbnRlbnQgaW5wdXQsXG4uc3RlcC1jb250ZW50IG56LXVwbG9hZCB7XG4gIHdpZHRoOiA5MCU7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW46IDUwcHggYXV0bztcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["TemplateRef","ActivatedRoute","DisableServerGQL","UpdateConfigStatus","UpdateFirebaseGQL","UpdateMapsApiKeyGQL","UpdatePurchaseCodeGQL","UpdatePurchaseCodeStatus","environment","NzMessageService","NzModalService","firstValueFrom","map","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵproperty","ctx_r0","currentStep","ɵɵlistener","ConfigComponent_div_1_Template_input_ngModelChange_1_listener","$event","ɵɵrestoreView","_r11","ctx_r10","ɵɵnextContext","ɵɵresetView","currentConfig","currentConfiguration","purchaseCode","ConfigComponent_div_1_Template_input_ngModelChange_2_listener","ctx_r12","email","ɵɵadvance","ctx_r1","ConfigComponent_div_2_Template_input_ngModelChange_1_listener","_r14","ctx_r13","backendMapsAPIKey","ConfigComponent_div_2_Template_input_ngModelChange_2_listener","ctx_r15","adminPanelAPIKey","ctx_r2","ConfigComponent_div_3_Template_nz_upload_nzChange_1_listener","_r17","ctx_r16","handleChange","ɵɵtext","ctx_r3","root","ConfigComponent_div_4_button_1_Template_button_click_0_listener","_r22","ctx_r21","pre","ConfigComponent_div_4_button_2_Template_button_click_0_listener","_r24","ctx_r23","next","ConfigComponent_div_4_button_3_Template_button_click_0_listener","_r26","ctx_r25","done","ɵɵtemplate","ConfigComponent_div_4_button_1_Template","ConfigComponent_div_4_button_2_Template","ConfigComponent_div_4_button_3_Template","ctx_r4","client_r28","ConfigComponent_ng_template_6_Template_nz_select_ngModelChange_2_listener","_r30","ctx_r29","selectedClient","ConfigComponent_ng_template_6_nz_option_3_Template","ctx_r6","clients","ConfigComponent_ng_template_8_Template_button_click_0_listener","_r32","ctx_r31","disableServer","ctx_r8","tplModalButtonLoading","ConfigComponent","constructor","route","updatePurchaseGql","updateMapsGql","updateFirebaseGql","disableServerGql","modalService","msg","configed","ngOnInit","remoteConfig","data","pipe","config","configSubscription","subscribe","ngOnDestroy","unsubscribe","_this","_asyncToGenerator","error","result","mutate","code","console","log","updatePurchaseCode","status","ClientFound","client","ip","createClientsModal","Invalid","message","Ok","length","backend","adminPanel","updateMapsAPIKey","tplModal","create","nzTitle","nzContent","clientModalContent","nzFooter","clientModalFooter","nzMaskClosable","nzClosable","_this2","success","close","_this3","firebaseProjectPrivateKey","keyFileName","updateFirebase","event","file","name","ɵɵdirectiveInject","i1","i2","i3","i4","selectors","viewQuery","ConfigComponent_Query","rf","ctx","ConfigComponent_nz_steps_0_Template","ConfigComponent_div_1_Template","ConfigComponent_div_2_Template","ConfigComponent_div_3_Template","ConfigComponent_div_4_Template","ConfigComponent_nz_result_5_Template","ConfigComponent_ng_template_6_Template","ɵɵtemplateRefExtractor","ConfigComponent_ng_template_8_Template"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/apps/admin-panel/src/app/config/config.component.ts","/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/apps/admin-panel/src/app/config/config.component.html"],"sourcesContent":["import {\n  Component,\n  OnDestroy,\n  OnInit,\n  TemplateRef,\n  ViewChild,\n} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ApolloQueryResult } from '@apollo/client/core';\nimport {\n  CurrentConfigurationQuery,\n  DisableServerGQL,\n  UpdateConfigStatus,\n  UpdateFirebaseGQL,\n  UpdateMapsApiKeyGQL,\n  UpdatePurchaseCodeGQL,\n  UpdatePurchaseCodeStatus,\n} from '@ridy/admin-panel/generated/graphql';\nimport { environment } from '@ridy/admin-panel/src/environments/environment';\nimport { NzMessageService } from 'ng-zorro-antd/message';\nimport { NzModalRef, NzModalService } from 'ng-zorro-antd/modal';\nimport { NzUploadChangeParam } from 'ng-zorro-antd/upload';\nimport { firstValueFrom, map, Observable, Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-config',\n  templateUrl: './config.component.html',\n  styleUrls: ['./config.component.css'],\n})\nexport class ConfigComponent implements OnInit, OnDestroy {\n  currentStep = 0;\n  tplModal!: NzModalRef;\n  remoteConfig!: Observable<ApolloQueryResult<CurrentConfigurationQuery>>;\n  currentConfig!: CurrentConfigurationQuery;\n  email?: string;\n  root = environment.root;\n  clients: string[] = [];\n  selectedClient!: string;\n  configed = false;\n  tplModalButtonLoading = false;\n  @ViewChild('tplContent') clientModalContent!: TemplateRef<HTMLElement>;\n  @ViewChild('tplFooter') clientModalFooter!: TemplateRef<HTMLElement>;\n\n  configSubscription?: Subscription;\n\n  constructor(\n    private route: ActivatedRoute,\n    private updatePurchaseGql: UpdatePurchaseCodeGQL,\n    private updateMapsGql: UpdateMapsApiKeyGQL,\n    private updateFirebaseGql: UpdateFirebaseGQL,\n    private disableServerGql: DisableServerGQL,\n    private modalService: NzModalService,\n    private msg: NzMessageService\n  ) {}\n\n  ngOnInit(): void {\n    this.remoteConfig = this.route.data.pipe(map((data) => data.config));\n    this.configSubscription = this.remoteConfig.subscribe(\n      (data) => (this.currentConfig = data.data)\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.configSubscription?.unsubscribe();\n  }\n\n  pre(): void {\n    this.currentStep -= 1;\n  }\n\n  async next() {\n    switch (this.currentStep) {\n      case 0: {\n        if (this.currentConfig.currentConfiguration.purchaseCode == null) {\n          this.msg.error('Purchase code is invalid.');\n          return;\n        }\n        const result = await firstValueFrom(\n          this.updatePurchaseGql.mutate({\n            code: this.currentConfig.currentConfiguration.purchaseCode ?? '',\n            email: this.email,\n          })\n        );\n        console.log(result);\n        if (\n          result.data?.updatePurchaseCode.status ==\n          UpdatePurchaseCodeStatus.ClientFound\n        ) {\n          this.clients =\n            result.data?.updatePurchaseCode.clients?.map(\n              (client) => client.ip\n            ) ?? [];\n          this.createClientsModal();\n          return;\n        }\n        if (\n          result.data?.updatePurchaseCode.status ==\n          UpdatePurchaseCodeStatus.Invalid\n        ) {\n          this.msg.error(\n            result.data.updatePurchaseCode.message ??\n              'An unknown error occured, please contact through the customer panel at support@ridy.io for more information.'\n          );\n        }\n        if (\n          result.data?.updatePurchaseCode.status == UpdatePurchaseCodeStatus.Ok\n        ) {\n          this.currentStep += 1;\n        }\n        break;\n      }\n\n      case 1: {\n        if (\n          this.currentConfig.currentConfiguration.adminPanelAPIKey == null ||\n          this.currentConfig.currentConfiguration.adminPanelAPIKey.length <\n            10 ||\n          this.currentConfig.currentConfiguration.backendMapsAPIKey == null ||\n          this.currentConfig.currentConfiguration.backendMapsAPIKey.length < 10\n        ) {\n          this.msg.error('Google Maps API Keys seems invalid.');\n          return;\n        }\n        const result = await firstValueFrom(\n          this.updateMapsGql.mutate({\n            backend: this.currentConfig.currentConfiguration.backendMapsAPIKey,\n            adminPanel:\n              this.currentConfig.currentConfiguration.adminPanelAPIKey,\n          })\n        );\n        if (result.data?.updateMapsAPIKey.status == UpdateConfigStatus.Ok) {\n          this.currentStep += 1;\n        } else {\n          this.msg.error(\n            result.data?.updateMapsAPIKey.message ?? 'Unknown Error'\n          );\n        }\n        break;\n      }\n    }\n  }\n\n  createClientsModal(): void {\n    this.tplModal = this.modalService.create({\n      nzTitle: 'License Verification',\n      nzContent: this.clientModalContent,\n      nzFooter: this.clientModalFooter,\n      nzMaskClosable: false,\n      nzClosable: false,\n    });\n  }\n\n  async disableServer() {\n    this.tplModalButtonLoading = true;\n    await firstValueFrom(\n      this.disableServerGql.mutate({ ip: this.selectedClient })\n    );\n    this.msg.success('Disable was successful.');\n    this.tplModal.close();\n  }\n\n  async done() {\n    if (\n      this.currentConfig.currentConfiguration.firebaseProjectPrivateKey == null\n    ) {\n      this.msg.error('Firebase Project key seems invalid.');\n      return;\n    }\n    const result = await firstValueFrom(\n      this.updateFirebaseGql.mutate({\n        keyFileName:\n          this.currentConfig.currentConfiguration.firebaseProjectPrivateKey,\n      })\n    );\n    if (result.data?.updateFirebase.status == UpdateConfigStatus.Ok) {\n      this.configed = true;\n    } else {\n      this.msg.error(result.data?.updateFirebase.message ?? 'Unknown error');\n    }\n  }\n\n  handleChange(event: NzUploadChangeParam): void {\n    const status = event.file.status;\n    if (status !== 'uploading') {\n    }\n    if (status === 'done') {\n      this.msg.success(`${event.file.name} file uploaded successfully.`);\n      this.currentConfig.currentConfiguration.firebaseProjectPrivateKey =\n        event.file.name;\n    } else if (status === 'error') {\n      this.msg.error(`${event.file.name} file upload failed.`);\n    }\n  }\n}\n","<nz-steps *ngIf=\"!configed\" [nzCurrent]=\"currentStep\" class=\"m-8 w-auto\">\n    <nz-step nzTitle=\"Purchase Code\" nzDescription=\"License Verification\"></nz-step>\n    <nz-step nzTitle=\"Maps API\" nzDescription=\"Google Maps API Keys\"></nz-step>\n    <nz-step nzTitle=\"Firebase Admin SDK\" nzDescription=\"Notification & Auth\"></nz-step>\n</nz-steps>\n<div class=\"step-content\" *ngIf=\"currentStep === 0\">\n    <input nz-input placeholder=\"Purchase Code\" [(ngModel)]=\"currentConfig.currentConfiguration.purchaseCode\" />\n    <input nz-input placeholder=\"E-mail address\" [(ngModel)]=\"email\" />\n    <nz-alert nzType=\"info\" class=\"m-4\" nzShowIcon nzMessage=\"Important:\"\n        nzDescription=\"The email address you have provided will be used exclusively for important updates regarding your license inquiries, such as abuse reports, disablement notices, and other critical notifications.\"></nz-alert>\n</div>\n<div class=\"step-content\" *ngIf=\"currentStep === 1\">\n    <input nz-input placeholder=\"Backend Maps API key\"\n        [(ngModel)]=\"currentConfig.currentConfiguration.backendMapsAPIKey\" />\n    <input nz-input placeholder=\"Dashboard Maps API key\"\n        [(ngModel)]=\"currentConfig.currentConfiguration.adminPanelAPIKey\" />\n</div>\n<div class=\"step-content\" *ngIf=\"currentStep === 2 && !configed\">\n    <nz-upload nzType=\"drag\" [nzAction]=\"root + 'config/upload'\" (nzChange)=\"handleChange($event)\"\n        nzAccept=\".json,application/json\">\n        <p class=\"ant-upload-drag-icon\">\n            <i nz-icon nzType=\"inbox\"></i>\n        </p>\n        <p class=\"ant-upload-text\">Firebase Project Private Key</p>\n        <p class=\"ant-upload-hint\">\n            Upload private key json file received from firebase project under Service Account and by\n            clicking on the `Generate Private Key` button.\n        </p>\n    </nz-upload>\n</div>\n<div class=\"steps-action\" *ngIf=\"!configed\">\n    <button nz-button nzType=\"default\" (click)=\"pre()\" *ngIf=\"currentStep > 0\">Previous</button>\n    <button nz-button nzType=\"primary\" (click)=\"next()\" *ngIf=\"currentStep < 2\">Next</button>\n    <button nz-button nzType=\"primary\" (click)=\"done()\" *ngIf=\"currentStep === 2\">Done</button>\n</div>\n<nz-result *ngIf=\"configed\" nzStatus=\"success\" nzTitle=\"Configuration Done!\"\n    nzSubTitle=\"Your configuration steps are done now! You will need to wait for around 30 seconds so system would set it up then you can go to login screen using button below.\">\n    <div nz-result-extra>\n        <button nz-button nzType=\"primary\" routerLink=\"../login\">Go Login</button>\n    </div>\n</nz-result>\n<ng-template #tplContent>\n    <p>This purchase code seems to have been used by another server `in past`/`right now`. You can select to disable the\n        previous server from below list and continue using on this server.</p>\n    <nz-select [(ngModel)]=\"selectedClient\" nzAllowClear nzPlaceHolder=\"Choose\" style=\"width: 100%;\">\n        <nz-option *ngFor=\"let client of clients\" [nzValue]=\"client\" [nzLabel]=\"client\"></nz-option>\n    </nz-select>\n</ng-template>\n<ng-template #tplFooter>\n    <button nz-button nzType=\"primary\" [nzLoading]=\"tplModalButtonLoading\" [disabled]=\"selectedClient === null\"\n        (click)=\"disableServer()\">\n        Disable Selected Server\n    </button>\n</ng-template>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}