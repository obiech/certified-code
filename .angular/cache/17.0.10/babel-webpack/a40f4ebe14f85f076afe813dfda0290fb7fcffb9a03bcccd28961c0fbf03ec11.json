{"ast":null,"code":"/**\n * @fileoverview Marker\n * @author dxq613@gmail.com\n */\nimport { __extends } from \"tslib\";\nimport { isNil } from '@antv/util';\nimport { path2Absolute } from '@antv/path-util';\nimport ShapeBase from './base';\nimport { isFunction } from '../util/util';\nimport { drawPath } from '../util/draw';\nvar Symbols = {\n  // 圆\n  circle: function (x, y, r) {\n    return [['M', x - r, y], ['A', r, r, 0, 1, 0, x + r, y], ['A', r, r, 0, 1, 0, x - r, y]];\n  },\n  // 正方形\n  square: function (x, y, r) {\n    return [['M', x - r, y - r], ['L', x + r, y - r], ['L', x + r, y + r], ['L', x - r, y + r], ['Z']];\n  },\n  // 菱形\n  diamond: function (x, y, r) {\n    return [['M', x - r, y], ['L', x, y - r], ['L', x + r, y], ['L', x, y + r], ['Z']];\n  },\n  // 三角形\n  triangle: function (x, y, r) {\n    var diffY = r * Math.sin(1 / 3 * Math.PI);\n    return [['M', x - r, y + diffY], ['L', x, y - diffY], ['L', x + r, y + diffY], ['Z']];\n  },\n  // 倒三角形\n  'triangle-down': function (x, y, r) {\n    var diffY = r * Math.sin(1 / 3 * Math.PI);\n    return [['M', x - r, y - diffY], ['L', x + r, y - diffY], ['L', x, y + diffY], ['Z']];\n  }\n};\nvar Marker = /** @class */function (_super) {\n  __extends(Marker, _super);\n  function Marker() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  Marker.prototype.initAttrs = function (attrs) {\n    this._resetParamsCache();\n  };\n  // 重置绘制 path 存储的缓存\n  Marker.prototype._resetParamsCache = function () {\n    // 为了加速 path 的绘制、拾取和计算，这个地方可以缓存很多东西\n    // 这些缓存都是第一次需要时计算和存储，虽然增加了复杂度，但是频繁调用的方法，性能有很大提升\n    this.set('paramsCache', {}); // 清理缓存\n  };\n  // 更新属性时，检测是否更改了 path\n  Marker.prototype.onAttrChange = function (name, value, originValue) {\n    _super.prototype.onAttrChange.call(this, name, value, originValue);\n    if (['symbol', 'x', 'y', 'r', 'radius'].indexOf(name) !== -1) {\n      // path 相关属性更改时，清理缓存\n      this._resetParamsCache();\n    }\n  };\n  // 仅仅使用包围盒检测来进行拾取\n  // 所以不需要复写 isInStrokeOrPath 的方法\n  Marker.prototype.isOnlyHitBox = function () {\n    return true;\n  };\n  Marker.prototype._getR = function (attrs) {\n    // 兼容 r 和 radius 两种写法，推荐使用 r\n    return isNil(attrs.r) ? attrs.radius : attrs.r;\n  };\n  Marker.prototype._getPath = function () {\n    var attrs = this.attr();\n    var x = attrs.x,\n      y = attrs.y;\n    var symbol = attrs.symbol || 'circle';\n    var r = this._getR(attrs);\n    var method;\n    var path;\n    if (isFunction(symbol)) {\n      method = symbol;\n      path = method(x, y, r);\n      // 将 path 转成绝对路径\n      path = path2Absolute(path);\n    } else {\n      // 内置 symbol 的 path 都是绝对路径，直接绘制即可，不需要对 path 进行特殊处理\n      method = Marker.Symbols[symbol];\n      if (!method) {\n        console.warn(symbol + \" marker is not supported.\");\n        return null;\n      }\n      path = method(x, y, r);\n    }\n    return path;\n  };\n  Marker.prototype.createPath = function (context) {\n    var path = this._getPath();\n    var paramsCache = this.get('paramsCache');\n    drawPath(this, context, {\n      path: path\n    }, paramsCache);\n  };\n  Marker.Symbols = Symbols;\n  return Marker;\n}(ShapeBase);\nexport default Marker;","map":{"version":3,"names":["__extends","isNil","path2Absolute","ShapeBase","isFunction","drawPath","Symbols","circle","x","y","r","square","diamond","triangle","diffY","Math","sin","PI","triangle-down","Marker","_super","apply","arguments","prototype","initAttrs","attrs","_resetParamsCache","set","onAttrChange","name","value","originValue","call","indexOf","isOnlyHitBox","_getR","radius","_getPath","attr","symbol","method","path","console","warn","createPath","context","paramsCache","get"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/node_modules/@antv/g-canvas/esm/shape/marker.js"],"sourcesContent":["/**\n * @fileoverview Marker\n * @author dxq613@gmail.com\n */\nimport { __extends } from \"tslib\";\nimport { isNil } from '@antv/util';\nimport { path2Absolute } from '@antv/path-util';\nimport ShapeBase from './base';\nimport { isFunction } from '../util/util';\nimport { drawPath } from '../util/draw';\nvar Symbols = {\n    // 圆\n    circle: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['A', r, r, 0, 1, 0, x + r, y],\n            ['A', r, r, 0, 1, 0, x - r, y],\n        ];\n    },\n    // 正方形\n    square: function (x, y, r) {\n        return [['M', x - r, y - r], ['L', x + r, y - r], ['L', x + r, y + r], ['L', x - r, y + r], ['Z']];\n    },\n    // 菱形\n    diamond: function (x, y, r) {\n        return [['M', x - r, y], ['L', x, y - r], ['L', x + r, y], ['L', x, y + r], ['Z']];\n    },\n    // 三角形\n    triangle: function (x, y, r) {\n        var diffY = r * Math.sin((1 / 3) * Math.PI);\n        return [['M', x - r, y + diffY], ['L', x, y - diffY], ['L', x + r, y + diffY], ['Z']];\n    },\n    // 倒三角形\n    'triangle-down': function (x, y, r) {\n        var diffY = r * Math.sin((1 / 3) * Math.PI);\n        return [['M', x - r, y - diffY], ['L', x + r, y - diffY], ['L', x, y + diffY], ['Z']];\n    },\n};\nvar Marker = /** @class */ (function (_super) {\n    __extends(Marker, _super);\n    function Marker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Marker.prototype.initAttrs = function (attrs) {\n        this._resetParamsCache();\n    };\n    // 重置绘制 path 存储的缓存\n    Marker.prototype._resetParamsCache = function () {\n        // 为了加速 path 的绘制、拾取和计算，这个地方可以缓存很多东西\n        // 这些缓存都是第一次需要时计算和存储，虽然增加了复杂度，但是频繁调用的方法，性能有很大提升\n        this.set('paramsCache', {}); // 清理缓存\n    };\n    // 更新属性时，检测是否更改了 path\n    Marker.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        if (['symbol', 'x', 'y', 'r', 'radius'].indexOf(name) !== -1) {\n            // path 相关属性更改时，清理缓存\n            this._resetParamsCache();\n        }\n    };\n    // 仅仅使用包围盒检测来进行拾取\n    // 所以不需要复写 isInStrokeOrPath 的方法\n    Marker.prototype.isOnlyHitBox = function () {\n        return true;\n    };\n    Marker.prototype._getR = function (attrs) {\n        // 兼容 r 和 radius 两种写法，推荐使用 r\n        return isNil(attrs.r) ? attrs.radius : attrs.r;\n    };\n    Marker.prototype._getPath = function () {\n        var attrs = this.attr();\n        var x = attrs.x, y = attrs.y;\n        var symbol = attrs.symbol || 'circle';\n        var r = this._getR(attrs);\n        var method;\n        var path;\n        if (isFunction(symbol)) {\n            method = symbol;\n            path = method(x, y, r);\n            // 将 path 转成绝对路径\n            path = path2Absolute(path);\n        }\n        else {\n            // 内置 symbol 的 path 都是绝对路径，直接绘制即可，不需要对 path 进行特殊处理\n            method = Marker.Symbols[symbol];\n            if (!method) {\n                console.warn(symbol + \" marker is not supported.\");\n                return null;\n            }\n            path = method(x, y, r);\n        }\n        return path;\n    };\n    Marker.prototype.createPath = function (context) {\n        var path = this._getPath();\n        var paramsCache = this.get('paramsCache');\n        drawPath(this, context, { path: path }, paramsCache);\n    };\n    Marker.Symbols = Symbols;\n    return Marker;\n}(ShapeBase));\nexport default Marker;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}