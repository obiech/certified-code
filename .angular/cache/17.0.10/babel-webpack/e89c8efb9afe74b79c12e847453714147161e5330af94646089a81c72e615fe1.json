{"ast":null,"code":"import { ext, vec2, vec3 } from '@antv/matrix-util';\nvar identityMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\nexport function getMatrixByAngle(point, angle, matrix) {\n  if (matrix === void 0) {\n    matrix = identityMatrix;\n  }\n  if (!angle) {\n    // 角度为 0 或者 null 时返回 null\n    return null;\n  }\n  var m = ext.transform(matrix, [['t', -point.x, -point.y], ['r', angle], ['t', point.x, point.y]]);\n  return m;\n}\nexport function getMatrixByTranslate(point, currentMatrix) {\n  if (!point.x && !point.y) {\n    // 0，0 或者 nan 的情况下返回 null\n    return null;\n  }\n  return ext.transform(currentMatrix || identityMatrix, [['t', point.x, point.y]]);\n}\n// 从矩阵获取旋转的角度\nexport function getAngleByMatrix(matrix) {\n  var xVector = [1, 0, 0];\n  var out = [0, 0, 0];\n  vec3.transformMat3(out, xVector, matrix);\n  return Math.atan2(out[1], out[0]);\n}\n// 矩阵 * 向量\nfunction multiplyVec2(matrix, v) {\n  var out = [0, 0];\n  vec2.transformMat3(out, v, matrix);\n  return out;\n}\nexport function applyMatrix2BBox(matrix, bbox) {\n  var topLeft = multiplyVec2(matrix, [bbox.minX, bbox.minY]);\n  var topRight = multiplyVec2(matrix, [bbox.maxX, bbox.minY]);\n  var bottomLeft = multiplyVec2(matrix, [bbox.minX, bbox.maxY]);\n  var bottomRight = multiplyVec2(matrix, [bbox.maxX, bbox.maxY]);\n  var minX = Math.min(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n  var maxX = Math.max(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n  var minY = Math.min(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);\n  var maxY = Math.max(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);\n  return {\n    x: minX,\n    y: minY,\n    minX: minX,\n    minY: minY,\n    maxX: maxX,\n    maxY: maxY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nexport function applyRotate(shape, rotate, x, y) {\n  if (rotate) {\n    var matrix = getMatrixByAngle({\n      x: x,\n      y: y\n    }, rotate, shape.getMatrix());\n    shape.setMatrix(matrix);\n  }\n}\nexport function applyTranslate(shape, x, y) {\n  var translateMatrix = getMatrixByTranslate({\n    x: x,\n    y: y\n  });\n  shape.attr('matrix', translateMatrix);\n}","map":{"version":3,"names":["ext","vec2","vec3","identityMatrix","getMatrixByAngle","point","angle","matrix","m","transform","x","y","getMatrixByTranslate","currentMatrix","getAngleByMatrix","xVector","out","transformMat3","Math","atan2","multiplyVec2","v","applyMatrix2BBox","bbox","topLeft","minX","minY","topRight","maxX","bottomLeft","maxY","bottomRight","min","max","width","height","applyRotate","shape","rotate","getMatrix","setMatrix","applyTranslate","translateMatrix","attr"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/node_modules/@antv/component/esm/util/matrix.js"],"sourcesContent":["import { ext, vec2, vec3 } from '@antv/matrix-util';\nvar identityMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\nexport function getMatrixByAngle(point, angle, matrix) {\n    if (matrix === void 0) { matrix = identityMatrix; }\n    if (!angle) {\n        // 角度为 0 或者 null 时返回 null\n        return null;\n    }\n    var m = ext.transform(matrix, [\n        ['t', -point.x, -point.y],\n        ['r', angle],\n        ['t', point.x, point.y],\n    ]);\n    return m;\n}\nexport function getMatrixByTranslate(point, currentMatrix) {\n    if (!point.x && !point.y) {\n        // 0，0 或者 nan 的情况下返回 null\n        return null;\n    }\n    return ext.transform(currentMatrix || identityMatrix, [['t', point.x, point.y]]);\n}\n// 从矩阵获取旋转的角度\nexport function getAngleByMatrix(matrix) {\n    var xVector = [1, 0, 0];\n    var out = [0, 0, 0];\n    vec3.transformMat3(out, xVector, matrix);\n    return Math.atan2(out[1], out[0]);\n}\n// 矩阵 * 向量\nfunction multiplyVec2(matrix, v) {\n    var out = [0, 0];\n    vec2.transformMat3(out, v, matrix);\n    return out;\n}\nexport function applyMatrix2BBox(matrix, bbox) {\n    var topLeft = multiplyVec2(matrix, [bbox.minX, bbox.minY]);\n    var topRight = multiplyVec2(matrix, [bbox.maxX, bbox.minY]);\n    var bottomLeft = multiplyVec2(matrix, [bbox.minX, bbox.maxY]);\n    var bottomRight = multiplyVec2(matrix, [bbox.maxX, bbox.maxY]);\n    var minX = Math.min(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n    var maxX = Math.max(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n    var minY = Math.min(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);\n    var maxY = Math.max(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);\n    return {\n        x: minX,\n        y: minY,\n        minX: minX,\n        minY: minY,\n        maxX: maxX,\n        maxY: maxY,\n        width: maxX - minX,\n        height: maxY - minY,\n    };\n}\nexport function applyRotate(shape, rotate, x, y) {\n    if (rotate) {\n        var matrix = getMatrixByAngle({ x: x, y: y }, rotate, shape.getMatrix());\n        shape.setMatrix(matrix);\n    }\n}\nexport function applyTranslate(shape, x, y) {\n    var translateMatrix = getMatrixByTranslate({ x: x, y: y });\n    shape.attr('matrix', translateMatrix);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}