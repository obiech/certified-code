{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport ListState from './list-state';\nimport { isEqual } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { HtmlTooltip } from '../../../dependents';\nvar STATUS_SHOW = 'showRadio';\nvar TIP_ID = 'legend-radio-tip';\nvar ListRadio = /** @class */function (_super) {\n  __extends(ListRadio, _super);\n  function ListRadio() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.timeStamp = 0;\n    return _this;\n  }\n  ListRadio.prototype.show = function () {\n    var triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo === null || triggerInfo === void 0 ? void 0 : triggerInfo.item) {\n      var list = triggerInfo.list,\n        item = triggerInfo.item;\n      list.setItemState(item, STATUS_SHOW, true);\n    }\n  };\n  ListRadio.prototype.hide = function () {\n    var triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo === null || triggerInfo === void 0 ? void 0 : triggerInfo.item) {\n      var list = triggerInfo.list,\n        item = triggerInfo.item;\n      list.setItemState(item, STATUS_SHOW, false);\n    }\n  };\n  ListRadio.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n    this.tooltip && this.tooltip.destroy();\n  };\n  /**\n   * 显示 Tooltip (展示在上方)\n   * @returns\n   */\n  ListRadio.prototype.showTip = function () {\n    var context = this.context;\n    var ev = context.event;\n    var lastTimeStamp = this.timeStamp;\n    var timeStamp = +new Date();\n    var target = this.context.event.target;\n    if (timeStamp - lastTimeStamp > 16 && target.get('name') === 'legend-item-radio') {\n      var preLoc = this.location;\n      var curLoc = {\n        x: ev.x,\n        y: ev.y\n      };\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n    }\n  };\n  /**\n   * 隐藏 Tooltip。\n   * @returns\n   */\n  ListRadio.prototype.hideTip = function () {\n    this.hideTooltip();\n    this.location = null;\n  };\n  ListRadio.prototype.showTooltip = function (curLoc) {\n    var context = this.context;\n    var ev = context.event;\n    var target = ev.target;\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // 延迟生成\n      }\n      // 展示 tooltip\n      var _a = context.view.getCanvas().get('el').getBoundingClientRect(),\n        offsetX = _a.x,\n        offsetY = _a.y;\n      this.tooltip.update(__assign(__assign({\n        title: target.get('tip')\n      }, curLoc), {\n        x: curLoc.x + offsetX,\n        y: curLoc.y + offsetY\n      }));\n      this.tooltip.show();\n    }\n  };\n  ListRadio.prototype.hideTooltip = function () {\n    this.tooltip && this.tooltip.hide();\n  };\n  ListRadio.prototype.renderTooltip = function () {\n    var _a;\n    var tooltipStyles = (_a = {}, _a[TOOLTIP_CSS_CONST.CONTAINER_CLASS] = {\n      padding: '6px 8px',\n      transform: 'translate(-50%, -80%)',\n      background: 'rgba(0,0,0,0.75)',\n      color: '#fff',\n      'border-radius': '2px',\n      // 避免遮挡，如果还不够的话，再考虑开放用户配置\n      'z-index': 100\n    }, _a[TOOLTIP_CSS_CONST.TITLE_CLASS] = {\n      'font-size': '12px',\n      'line-height': '14px',\n      'margin-bottom': 0,\n      'word-break': 'break-all'\n    }, _a);\n    if (document.getElementById(TIP_ID)) {\n      document.body.removeChild(document.getElementById(TIP_ID));\n    }\n    var tooltip = new HtmlTooltip({\n      parent: document.body,\n      // tooltip 限制的区域\n      region: null,\n      visible: false,\n      crosshairs: null,\n      domStyles: tooltipStyles,\n      containerId: TIP_ID\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // 不允许捕获事件\n    this.tooltip = tooltip;\n  };\n  return ListRadio;\n}(ListState);\nexport default ListRadio;","map":{"version":3,"names":["__assign","__extends","ListState","isEqual","TOOLTIP_CSS_CONST","HtmlTooltip","STATUS_SHOW","TIP_ID","ListRadio","_super","_this","apply","arguments","timeStamp","prototype","show","triggerInfo","getTriggerListInfo","item","list","setItemState","hide","destroy","call","tooltip","showTip","context","ev","event","lastTimeStamp","Date","target","get","preLoc","location","curLoc","x","y","showTooltip","hideTip","hideTooltip","renderTooltip","_a","view","getCanvas","getBoundingClientRect","offsetX","offsetY","update","title","tooltipStyles","CONTAINER_CLASS","padding","transform","background","color","TITLE_CLASS","document","getElementById","body","removeChild","parent","region","visible","crosshairs","domStyles","containerId","init","setCapture"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/node_modules/@antv/g2/esm/interaction/action/component/list-radio.js"],"sourcesContent":["import { __assign, __extends } from \"tslib\";\nimport ListState from './list-state';\nimport { isEqual } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { HtmlTooltip } from '../../../dependents';\nvar STATUS_SHOW = 'showRadio';\nvar TIP_ID = 'legend-radio-tip';\nvar ListRadio = /** @class */ (function (_super) {\n    __extends(ListRadio, _super);\n    function ListRadio() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.timeStamp = 0;\n        return _this;\n    }\n    ListRadio.prototype.show = function () {\n        var triggerInfo = this.getTriggerListInfo();\n        if (triggerInfo === null || triggerInfo === void 0 ? void 0 : triggerInfo.item) {\n            var list = triggerInfo.list, item = triggerInfo.item;\n            list.setItemState(item, STATUS_SHOW, true);\n        }\n    };\n    ListRadio.prototype.hide = function () {\n        var triggerInfo = this.getTriggerListInfo();\n        if (triggerInfo === null || triggerInfo === void 0 ? void 0 : triggerInfo.item) {\n            var list = triggerInfo.list, item = triggerInfo.item;\n            list.setItemState(item, STATUS_SHOW, false);\n        }\n    };\n    ListRadio.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.tooltip && this.tooltip.destroy();\n    };\n    /**\n     * 显示 Tooltip (展示在上方)\n     * @returns\n     */\n    ListRadio.prototype.showTip = function () {\n        var context = this.context;\n        var ev = context.event;\n        var lastTimeStamp = this.timeStamp;\n        var timeStamp = +new Date();\n        var target = this.context.event.target;\n        if (timeStamp - lastTimeStamp > 16 && target.get('name') === 'legend-item-radio') {\n            var preLoc = this.location;\n            var curLoc = { x: ev.x, y: ev.y };\n            this.timeStamp = timeStamp;\n            this.location = curLoc;\n            if (!preLoc || !isEqual(preLoc, curLoc)) {\n                this.showTooltip(curLoc);\n            }\n        }\n    };\n    /**\n     * 隐藏 Tooltip。\n     * @returns\n     */\n    ListRadio.prototype.hideTip = function () {\n        this.hideTooltip();\n        this.location = null;\n    };\n    ListRadio.prototype.showTooltip = function (curLoc) {\n        var context = this.context;\n        var ev = context.event;\n        var target = ev.target;\n        if (target && target.get('tip')) {\n            if (!this.tooltip) {\n                this.renderTooltip(); // 延迟生成\n            }\n            // 展示 tooltip\n            var _a = context.view.getCanvas().get('el').getBoundingClientRect(), offsetX = _a.x, offsetY = _a.y;\n            this.tooltip.update(__assign(__assign({ title: target.get('tip') }, curLoc), { x: curLoc.x + offsetX, y: curLoc.y + offsetY }));\n            this.tooltip.show();\n        }\n    };\n    ListRadio.prototype.hideTooltip = function () {\n        this.tooltip && this.tooltip.hide();\n    };\n    ListRadio.prototype.renderTooltip = function () {\n        var _a;\n        var tooltipStyles = (_a = {},\n            _a[TOOLTIP_CSS_CONST.CONTAINER_CLASS] = {\n                padding: '6px 8px',\n                transform: 'translate(-50%, -80%)',\n                background: 'rgba(0,0,0,0.75)',\n                color: '#fff',\n                'border-radius': '2px',\n                // 避免遮挡，如果还不够的话，再考虑开放用户配置\n                'z-index': 100,\n            },\n            _a[TOOLTIP_CSS_CONST.TITLE_CLASS] = {\n                'font-size': '12px',\n                'line-height': '14px',\n                'margin-bottom': 0,\n                'word-break': 'break-all',\n            },\n            _a);\n        if (document.getElementById(TIP_ID)) {\n            document.body.removeChild(document.getElementById(TIP_ID));\n        }\n        var tooltip = new HtmlTooltip({\n            parent: document.body,\n            // tooltip 限制的区域\n            region: null,\n            visible: false,\n            crosshairs: null,\n            domStyles: tooltipStyles,\n            containerId: TIP_ID,\n        });\n        tooltip.init();\n        tooltip.setCapture(false); // 不允许捕获事件\n        this.tooltip = tooltip;\n    };\n    return ListRadio;\n}(ListState));\nexport default ListRadio;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}