{"ast":null,"code":"import { getTextWidth, getTextHeight, assembleFont } from '../util/text';\nexport default function (shape) {\n  var attrs = shape.attr();\n  var x = attrs.x,\n    y = attrs.y,\n    text = attrs.text,\n    fontSize = attrs.fontSize,\n    lineHeight = attrs.lineHeight;\n  var font = attrs.font;\n  if (!font) {\n    // 如果未组装 font\n    font = assembleFont(attrs);\n  }\n  var width = getTextWidth(text, font);\n  var bbox;\n  if (!width) {\n    // 如果width不存在，四点共其实点\n    bbox = {\n      x: x,\n      y: y,\n      width: 0,\n      height: 0\n    };\n  } else {\n    var textAlign = attrs.textAlign,\n      textBaseline = attrs.textBaseline;\n    var height = getTextHeight(text, fontSize, lineHeight); // attrs.height\n    // 默认左右对齐：left, 默认上下对齐 bottom\n    var point = {\n      x: x,\n      y: y - height\n    };\n    if (textAlign) {\n      if (textAlign === 'end' || textAlign === 'right') {\n        point.x -= width;\n      } else if (textAlign === 'center') {\n        point.x -= width / 2;\n      }\n    }\n    if (textBaseline) {\n      if (textBaseline === 'top') {\n        point.y += height;\n      } else if (textBaseline === 'middle') {\n        point.y += height / 2;\n      }\n    }\n    bbox = {\n      x: point.x,\n      y: point.y,\n      width: width,\n      height: height\n    };\n  }\n  return bbox;\n}","map":{"version":3,"names":["getTextWidth","getTextHeight","assembleFont","shape","attrs","attr","x","y","text","fontSize","lineHeight","font","width","bbox","height","textAlign","textBaseline","point"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/node_modules/@antv/g-base/esm/bbox/text.js"],"sourcesContent":["import { getTextWidth, getTextHeight, assembleFont } from '../util/text';\nexport default function (shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, text = attrs.text, fontSize = attrs.fontSize, lineHeight = attrs.lineHeight;\n    var font = attrs.font;\n    if (!font) {\n        // 如果未组装 font\n        font = assembleFont(attrs);\n    }\n    var width = getTextWidth(text, font);\n    var bbox;\n    if (!width) {\n        // 如果width不存在，四点共其实点\n        bbox = {\n            x: x,\n            y: y,\n            width: 0,\n            height: 0,\n        };\n    }\n    else {\n        var textAlign = attrs.textAlign, textBaseline = attrs.textBaseline;\n        var height = getTextHeight(text, fontSize, lineHeight); // attrs.height\n        // 默认左右对齐：left, 默认上下对齐 bottom\n        var point = {\n            x: x,\n            y: y - height,\n        };\n        if (textAlign) {\n            if (textAlign === 'end' || textAlign === 'right') {\n                point.x -= width;\n            }\n            else if (textAlign === 'center') {\n                point.x -= width / 2;\n            }\n        }\n        if (textBaseline) {\n            if (textBaseline === 'top') {\n                point.y += height;\n            }\n            else if (textBaseline === 'middle') {\n                point.y += height / 2;\n            }\n        }\n        bbox = {\n            x: point.x,\n            y: point.y,\n            width: width,\n            height: height,\n        };\n    }\n    return bbox;\n}\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,aAAa,EAAEC,YAAY,QAAQ,cAAc;AACxE,eAAe,UAAUC,KAAK,EAAE;EAC5B,IAAIC,KAAK,GAAGD,KAAK,CAACE,IAAI,CAAC,CAAC;EACxB,IAAIC,CAAC,GAAGF,KAAK,CAACE,CAAC;IAAEC,CAAC,GAAGH,KAAK,CAACG,CAAC;IAAEC,IAAI,GAAGJ,KAAK,CAACI,IAAI;IAAEC,QAAQ,GAAGL,KAAK,CAACK,QAAQ;IAAEC,UAAU,GAAGN,KAAK,CAACM,UAAU;EACzG,IAAIC,IAAI,GAAGP,KAAK,CAACO,IAAI;EACrB,IAAI,CAACA,IAAI,EAAE;IACP;IACAA,IAAI,GAAGT,YAAY,CAACE,KAAK,CAAC;EAC9B;EACA,IAAIQ,KAAK,GAAGZ,YAAY,CAACQ,IAAI,EAAEG,IAAI,CAAC;EACpC,IAAIE,IAAI;EACR,IAAI,CAACD,KAAK,EAAE;IACR;IACAC,IAAI,GAAG;MACHP,CAAC,EAAEA,CAAC;MACJC,CAAC,EAAEA,CAAC;MACJK,KAAK,EAAE,CAAC;MACRE,MAAM,EAAE;IACZ,CAAC;EACL,CAAC,MACI;IACD,IAAIC,SAAS,GAAGX,KAAK,CAACW,SAAS;MAAEC,YAAY,GAAGZ,KAAK,CAACY,YAAY;IAClE,IAAIF,MAAM,GAAGb,aAAa,CAACO,IAAI,EAAEC,QAAQ,EAAEC,UAAU,CAAC,CAAC,CAAC;IACxD;IACA,IAAIO,KAAK,GAAG;MACRX,CAAC,EAAEA,CAAC;MACJC,CAAC,EAAEA,CAAC,GAAGO;IACX,CAAC;IACD,IAAIC,SAAS,EAAE;MACX,IAAIA,SAAS,KAAK,KAAK,IAAIA,SAAS,KAAK,OAAO,EAAE;QAC9CE,KAAK,CAACX,CAAC,IAAIM,KAAK;MACpB,CAAC,MACI,IAAIG,SAAS,KAAK,QAAQ,EAAE;QAC7BE,KAAK,CAACX,CAAC,IAAIM,KAAK,GAAG,CAAC;MACxB;IACJ;IACA,IAAII,YAAY,EAAE;MACd,IAAIA,YAAY,KAAK,KAAK,EAAE;QACxBC,KAAK,CAACV,CAAC,IAAIO,MAAM;MACrB,CAAC,MACI,IAAIE,YAAY,KAAK,QAAQ,EAAE;QAChCC,KAAK,CAACV,CAAC,IAAIO,MAAM,GAAG,CAAC;MACzB;IACJ;IACAD,IAAI,GAAG;MACHP,CAAC,EAAEW,KAAK,CAACX,CAAC;MACVC,CAAC,EAAEU,KAAK,CAACV,CAAC;MACVK,KAAK,EAAEA,KAAK;MACZE,MAAM,EAAEA;IACZ,CAAC;EACL;EACA,OAAOD,IAAI;AACf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}