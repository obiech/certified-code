{"ast":null,"code":"import { ActivatedRoute } from '@angular/router';\nimport { DriverOrdersQuery, OrderStatus } from '@ridy/admin-panel/generated/graphql';\nimport { TableService } from '@ridy/admin-panel/src/app/@services/table-service';\nimport { TagColorService } from '@ridy/admin-panel/src/app/@services/tag-color/tag-color.service';\nimport { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@ridy/admin-panel/src/app/@services/tag-color/tag-color.service\";\nimport * as i3 from \"@ridy/admin-panel/src/app/@services/table-service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"ng-zorro-antd/table\";\nimport * as i6 from \"ng-zorro-antd/tag\";\nimport * as i7 from \"ng-zorro-antd/tooltip\";\nimport * as i8 from \"@ngx-translate/core\";\nimport * as i9 from \"ngx-timeago\";\nfunction DriverProfileOrdersComponent_nz_table_0_tr_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 6);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"timeago\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 4);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\")(11, \"nz-tag\", 7);\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"translate\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"td\")(15, \"a\", 8);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const data_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"nz-tooltip\", i0.ɵɵpipeBind2(2, 9, data_r4.createdOn, \"short\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 12, data_r4.createdOn));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(data_r4.addresses[0]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 14, data_r4.costAfterCoupon, data_r4.currency));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"nzColor\", ctx_r3.tagColor.orderStatus(data_r4.status))(\"nzBordered\", false);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(13, 17, \"enum.request.\" + data_r4.status));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", \"/requests/view/\" + data_r4.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(17, 19, \"profile.view\"));\n  }\n}\nfunction DriverProfileOrdersComponent_nz_table_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"nz-table\", 1, 2);\n    i0.ɵɵlistener(\"nzQueryParams\", function DriverProfileOrdersComponent_nz_table_0_Template_nz_table_nzQueryParams_0_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.tableService.onTableQueryParamsChange($event));\n    });\n    i0.ɵɵelementStart(2, \"thead\")(3, \"tr\")(4, \"th\", 3);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\", 4);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\");\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"translate\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"tbody\");\n    i0.ɵɵtemplate(20, DriverProfileOrdersComponent_nz_table_0_tr_20_Template, 18, 21, \"tr\", 5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const orders_r1 = ctx.ngIf;\n    const _r2 = i0.ɵɵreference(1);\n    i0.ɵɵproperty(\"nzFrontPagination\", false)(\"nzData\", orders_r1);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"nzSortFn\", true);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(6, 9, \"profile.dateTime\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(9, 11, \"profile.locations\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(12, 13, \"profile.cost\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(15, 15, \"profile.status\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(18, 17, \"profile.actions\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", _r2.data);\n  }\n}\nexport class DriverProfileOrdersComponent {\n  constructor(route, tagColor, tableService) {\n    this.route = route;\n    this.tagColor = tagColor;\n    this.tableService = tableService;\n    this.statuses = Object.keys(OrderStatus).map(key => ({\n      text: key,\n      value: key\n    }));\n  }\n  ngOnInit() {\n    this.query = this.route.data.pipe(map(data => data.orders));\n  }\n  static {\n    this.ɵfac = function DriverProfileOrdersComponent_Factory(t) {\n      return new (t || DriverProfileOrdersComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.TagColorService), i0.ɵɵdirectiveInject(i3.TableService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DriverProfileOrdersComponent,\n      selectors: [[\"app-driver-profile-orders\"]],\n      decls: 2,\n      vars: 3,\n      consts: [[\"nzShowSizeChanger\", \"\", \"class\", \"mt-4\", \"nzBordered\", \"\", 3, \"nzFrontPagination\", \"nzData\", \"nzQueryParams\", 4, \"ngIf\"], [\"nzShowSizeChanger\", \"\", \"nzBordered\", \"\", 1, \"mt-4\", 3, \"nzFrontPagination\", \"nzData\", \"nzQueryParams\"], [\"table\", \"\"], [\"nzColumnKey\", \"createdOn\", 3, \"nzSortFn\"], [1, \"hidden\", \"lg:table-cell\"], [4, \"ngFor\", \"ngForOf\"], [3, \"nz-tooltip\"], [3, \"nzColor\", \"nzBordered\"], [3, \"routerLink\"]],\n      template: function DriverProfileOrdersComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, DriverProfileOrdersComponent_nz_table_0_Template, 21, 19, \"nz-table\", 0);\n          i0.ɵɵpipe(1, \"async\");\n        }\n        if (rf & 2) {\n          let tmp_0_0;\n          i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = i0.ɵɵpipeBind1(1, 1, ctx.query)) == null ? null : tmp_0_0.data == null ? null : tmp_0_0.data.driver == null ? null : tmp_0_0.data.driver.orders == null ? null : tmp_0_0.data.driver.orders.nodes);\n        }\n      },\n      dependencies: [i1.RouterLink, i4.NgForOf, i4.NgIf, i5.NzTableComponent, i5.NzThAddOnComponent, i5.NzTableCellDirective, i5.NzThMeasureDirective, i5.NzTheadComponent, i5.NzTbodyComponent, i5.NzTrDirective, i6.NzTagComponent, i7.NzTooltipDirective, i4.AsyncPipe, i4.CurrencyPipe, i4.DatePipe, i8.TranslatePipe, i9.TimeagoPipe],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["ActivatedRoute","DriverOrdersQuery","OrderStatus","TableService","TagColorService","map","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","ɵɵpipeBind2","data_r4","createdOn","ɵɵtextInterpolate","ɵɵpipeBind1","addresses","costAfterCoupon","currency","ctx_r3","tagColor","orderStatus","status","id","ɵɵlistener","DriverProfileOrdersComponent_nz_table_0_Template_nz_table_nzQueryParams_0_listener","$event","ɵɵrestoreView","_r6","ctx_r5","ɵɵnextContext","ɵɵresetView","tableService","onTableQueryParamsChange","ɵɵtemplate","DriverProfileOrdersComponent_nz_table_0_tr_20_Template","orders_r1","ɵɵtextInterpolate1","_r2","data","DriverProfileOrdersComponent","constructor","route","statuses","Object","keys","key","text","value","ngOnInit","query","pipe","orders","ɵɵdirectiveInject","i1","i2","i3","selectors","decls","vars","consts","template","DriverProfileOrdersComponent_Template","rf","ctx","DriverProfileOrdersComponent_nz_table_0_Template","tmp_0_0","driver","nodes"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/apps/admin-panel/src/app/cms/drivers/driver-profile/driver-profile-orders/driver-profile-orders.component.ts","/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/apps/admin-panel/src/app/cms/drivers/driver-profile/driver-profile-orders/driver-profile-orders.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ApolloQueryResult } from '@apollo/client/core';\nimport {\n  DriverOrdersQuery,\n  OrderStatus,\n  RiderOrdersQuery,\n} from '@ridy/admin-panel/generated/graphql';\nimport { TableService } from '@ridy/admin-panel/src/app/@services/table-service';\nimport { TagColorService } from '@ridy/admin-panel/src/app/@services/tag-color/tag-color.service';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-driver-profile-orders',\n  templateUrl: './driver-profile-orders.component.html',\n})\nexport class DriverProfileOrdersComponent implements OnInit {\n  query?: Observable<ApolloQueryResult<DriverOrdersQuery>>;\n  statuses = Object.keys(OrderStatus).map((key) => ({ text: key, value: key }));\n\n  constructor(\n    private route: ActivatedRoute,\n    public tagColor: TagColorService,\n    public tableService: TableService\n  ) {}\n\n  ngOnInit(): void {\n    this.query = this.route.data.pipe(map((data) => data.orders));\n  }\n}\n","<nz-table #table nzShowSizeChanger class=\"mt-4\" [nzFrontPagination]=\"false\"\n  *ngIf=\"(query | async)?.data?.driver?.orders?.nodes as orders\" [nzData]=\"orders\"\n  (nzQueryParams)=\"tableService.onTableQueryParamsChange($event)\" nzBordered>\n  <thead>\n    <tr>\n      <th [nzSortFn]=\"true\" nzColumnKey=\"createdOn\">\n        {{ 'profile.dateTime' | translate }}\n      </th>\n      <th class=\"hidden lg:table-cell\">\n        {{ 'profile.locations' | translate }}\n      </th>\n      <th>\n        {{ 'profile.cost' | translate }}\n      </th>\n      <th>\n        {{ 'profile.status' | translate }}\n      </th>\n      <th>{{ 'profile.actions' | translate }}</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let data of table.data\">\n      <td [nz-tooltip]=\"data.createdOn | date:'short'\">{{ data.createdOn | timeago }}</td>\n      <td class=\"hidden lg:table-cell\">{{ data.addresses[0] }}</td>\n      <td>{{ data.costAfterCoupon | currency: data.currency }}</td>\n      <td>\n        <nz-tag [nzColor]=\"tagColor.orderStatus(data.status)\" [nzBordered]=\"false\">{{('enum.request.' + data.status) |\n          translate }}</nz-tag>\n      </td>\n      <td>\n        <a [routerLink]=\"'/requests/view/' + data.id\">{{ 'profile.view' | translate }}</a>\n      </td>\n    </tr>\n  </tbody>\n</nz-table>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}