{"ast":null,"code":"import { getLogPositiveMin, log } from '../util/math';\n/**\n * 计算 log 的 ticks，考虑 min = 0 的场景\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\nexport default function calculateLogTicks(cfg) {\n  var base = cfg.base,\n    tickCount = cfg.tickCount,\n    min = cfg.min,\n    max = cfg.max,\n    values = cfg.values;\n  var minTick;\n  var maxTick = log(base, max);\n  if (min > 0) {\n    minTick = Math.floor(log(base, min));\n  } else {\n    var positiveMin = getLogPositiveMin(values, base, max);\n    minTick = Math.floor(log(base, positiveMin));\n  }\n  var count = maxTick - minTick;\n  var avg = Math.ceil(count / tickCount);\n  var ticks = [];\n  for (var i = minTick; i < maxTick + avg; i = i + avg) {\n    ticks.push(Math.pow(base, i));\n  }\n  if (min <= 0) {\n    // 最小值 <= 0 时显示 0\n    ticks.unshift(0);\n  }\n  return ticks;\n}","map":{"version":3,"names":["getLogPositiveMin","log","calculateLogTicks","cfg","base","tickCount","min","max","values","minTick","maxTick","Math","floor","positiveMin","count","avg","ceil","ticks","i","push","pow","unshift"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/node_modules/@antv/scale/esm/tick-method/log.js"],"sourcesContent":["import { getLogPositiveMin, log } from '../util/math';\n/**\n * 计算 log 的 ticks，考虑 min = 0 的场景\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\nexport default function calculateLogTicks(cfg) {\n    var base = cfg.base, tickCount = cfg.tickCount, min = cfg.min, max = cfg.max, values = cfg.values;\n    var minTick;\n    var maxTick = log(base, max);\n    if (min > 0) {\n        minTick = Math.floor(log(base, min));\n    }\n    else {\n        var positiveMin = getLogPositiveMin(values, base, max);\n        minTick = Math.floor(log(base, positiveMin));\n    }\n    var count = maxTick - minTick;\n    var avg = Math.ceil(count / tickCount);\n    var ticks = [];\n    for (var i = minTick; i < maxTick + avg; i = i + avg) {\n        ticks.push(Math.pow(base, i));\n    }\n    if (min <= 0) {\n        // 最小值 <= 0 时显示 0\n        ticks.unshift(0);\n    }\n    return ticks;\n}\n"],"mappings":"AAAA,SAASA,iBAAiB,EAAEC,GAAG,QAAQ,cAAc;AACrD;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,iBAAiBA,CAACC,GAAG,EAAE;EAC3C,IAAIC,IAAI,GAAGD,GAAG,CAACC,IAAI;IAAEC,SAAS,GAAGF,GAAG,CAACE,SAAS;IAAEC,GAAG,GAAGH,GAAG,CAACG,GAAG;IAAEC,GAAG,GAAGJ,GAAG,CAACI,GAAG;IAAEC,MAAM,GAAGL,GAAG,CAACK,MAAM;EACjG,IAAIC,OAAO;EACX,IAAIC,OAAO,GAAGT,GAAG,CAACG,IAAI,EAAEG,GAAG,CAAC;EAC5B,IAAID,GAAG,GAAG,CAAC,EAAE;IACTG,OAAO,GAAGE,IAAI,CAACC,KAAK,CAACX,GAAG,CAACG,IAAI,EAAEE,GAAG,CAAC,CAAC;EACxC,CAAC,MACI;IACD,IAAIO,WAAW,GAAGb,iBAAiB,CAACQ,MAAM,EAAEJ,IAAI,EAAEG,GAAG,CAAC;IACtDE,OAAO,GAAGE,IAAI,CAACC,KAAK,CAACX,GAAG,CAACG,IAAI,EAAES,WAAW,CAAC,CAAC;EAChD;EACA,IAAIC,KAAK,GAAGJ,OAAO,GAAGD,OAAO;EAC7B,IAAIM,GAAG,GAAGJ,IAAI,CAACK,IAAI,CAACF,KAAK,GAAGT,SAAS,CAAC;EACtC,IAAIY,KAAK,GAAG,EAAE;EACd,KAAK,IAAIC,CAAC,GAAGT,OAAO,EAAES,CAAC,GAAGR,OAAO,GAAGK,GAAG,EAAEG,CAAC,GAAGA,CAAC,GAAGH,GAAG,EAAE;IAClDE,KAAK,CAACE,IAAI,CAACR,IAAI,CAACS,GAAG,CAAChB,IAAI,EAAEc,CAAC,CAAC,CAAC;EACjC;EACA,IAAIZ,GAAG,IAAI,CAAC,EAAE;IACV;IACAW,KAAK,CAACI,OAAO,CAAC,CAAC,CAAC;EACpB;EACA,OAAOJ,KAAK;AAChB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}