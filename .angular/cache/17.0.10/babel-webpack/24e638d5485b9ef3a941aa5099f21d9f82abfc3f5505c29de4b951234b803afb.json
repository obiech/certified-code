{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { each } from '@antv/util';\nimport { registerShape } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLineMarker } from './util';\nvar interpolateCallback = function (point, nextPoint, shapeType) {\n  var x = point.x;\n  var y = point.y;\n  var nextX = nextPoint.x;\n  var nextY = nextPoint.y;\n  var result;\n  switch (shapeType) {\n    case 'hv':\n      result = [{\n        x: nextX,\n        y: y\n      }];\n      break;\n    case 'vh':\n      result = [{\n        x: x,\n        y: nextY\n      }];\n      break;\n    case 'hvh':\n      var middleX = (nextX + x) / 2;\n      result = [{\n        x: middleX,\n        y: y\n      }, {\n        x: middleX,\n        y: nextY\n      }];\n      break;\n    case 'vhv':\n      var middleY = (y + nextY) / 2;\n      result = [{\n        x: x,\n        y: middleY\n      }, {\n        x: nextX,\n        y: middleY\n      }];\n      break;\n    default:\n      break;\n  }\n  return result;\n};\nfunction getInterpolatePoints(points, shapeType) {\n  var result = [];\n  each(points, function (point, index) {\n    var nextPoint = points[index + 1];\n    result.push(point);\n    if (nextPoint) {\n      var interpolatePoint = interpolateCallback(point, nextPoint, shapeType);\n      result = result.concat(interpolatePoint);\n    }\n  });\n  return result;\n}\n// 插值的图形path，不考虑null\nfunction getInterpolatePath(points) {\n  return points.map(function (point, index) {\n    return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n  });\n}\n// 插值的图形\nfunction getInterpolateShapeAttrs(cfg, shapeType) {\n  var points = getPathPoints(cfg.points, cfg.connectNulls, cfg.showSinglePoint); // 根据 connectNulls 值处理 points\n  var path = [];\n  each(points, function (eachLinePoints) {\n    var interpolatePoints = getInterpolatePoints(eachLinePoints, shapeType);\n    path = path.concat(getInterpolatePath(interpolatePoints));\n  });\n  return __assign(__assign({}, getStyle(cfg, true, false, 'lineWidth')), {\n    path: path\n  });\n}\n// step line\neach(['hv', 'vh', 'hvh', 'vhv'], function (shapeType) {\n  registerShape('line', shapeType, {\n    draw: function (cfg, container) {\n      var attrs = getInterpolateShapeAttrs(cfg, shapeType);\n      var shape = container.addShape({\n        type: 'path',\n        attrs: attrs,\n        name: 'line'\n      });\n      return shape;\n    },\n    getMarker: function (markerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    }\n  });\n});","map":{"version":3,"names":["__assign","each","registerShape","getPathPoints","getStyle","getLineMarker","interpolateCallback","point","nextPoint","shapeType","x","y","nextX","nextY","result","middleX","middleY","getInterpolatePoints","points","index","push","interpolatePoint","concat","getInterpolatePath","map","getInterpolateShapeAttrs","cfg","connectNulls","showSinglePoint","path","eachLinePoints","interpolatePoints","draw","container","attrs","shape","addShape","type","name","getMarker","markerCfg"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/node_modules/@antv/g2/esm/geometry/shape/line/step.js"],"sourcesContent":["import { __assign } from \"tslib\";\nimport { each } from '@antv/util';\nimport { registerShape } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLineMarker } from './util';\nvar interpolateCallback = function (point, nextPoint, shapeType) {\n    var x = point.x;\n    var y = point.y;\n    var nextX = nextPoint.x;\n    var nextY = nextPoint.y;\n    var result;\n    switch (shapeType) {\n        case 'hv':\n            result = [{ x: nextX, y: y }];\n            break;\n        case 'vh':\n            result = [{ x: x, y: nextY }];\n            break;\n        case 'hvh':\n            var middleX = (nextX + x) / 2;\n            result = [\n                { x: middleX, y: y },\n                { x: middleX, y: nextY },\n            ];\n            break;\n        case 'vhv':\n            var middleY = (y + nextY) / 2;\n            result = [\n                { x: x, y: middleY },\n                { x: nextX, y: middleY },\n            ];\n            break;\n        default:\n            break;\n    }\n    return result;\n};\nfunction getInterpolatePoints(points, shapeType) {\n    var result = [];\n    each(points, function (point, index) {\n        var nextPoint = points[index + 1];\n        result.push(point);\n        if (nextPoint) {\n            var interpolatePoint = interpolateCallback(point, nextPoint, shapeType);\n            result = result.concat(interpolatePoint);\n        }\n    });\n    return result;\n}\n// 插值的图形path，不考虑null\nfunction getInterpolatePath(points) {\n    return points.map(function (point, index) {\n        return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n    });\n}\n// 插值的图形\nfunction getInterpolateShapeAttrs(cfg, shapeType) {\n    var points = getPathPoints(cfg.points, cfg.connectNulls, cfg.showSinglePoint); // 根据 connectNulls 值处理 points\n    var path = [];\n    each(points, function (eachLinePoints) {\n        var interpolatePoints = getInterpolatePoints(eachLinePoints, shapeType);\n        path = path.concat(getInterpolatePath(interpolatePoints));\n    });\n    return __assign(__assign({}, getStyle(cfg, true, false, 'lineWidth')), { path: path });\n}\n// step line\neach(['hv', 'vh', 'hvh', 'vhv'], function (shapeType) {\n    registerShape('line', shapeType, {\n        draw: function (cfg, container) {\n            var attrs = getInterpolateShapeAttrs(cfg, shapeType);\n            var shape = container.addShape({\n                type: 'path',\n                attrs: attrs,\n                name: 'line',\n            });\n            return shape;\n        },\n        getMarker: function (markerCfg) {\n            return getLineMarker(markerCfg, shapeType);\n        },\n    });\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}