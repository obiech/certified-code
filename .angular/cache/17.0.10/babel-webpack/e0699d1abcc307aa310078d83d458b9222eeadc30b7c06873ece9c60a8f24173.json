{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { filter, getRange, head, isNil, last } from '@antv/util';\nimport Base from '../base';\n/**\n * 连续度量的基类\n * @class\n */\nvar Continuous = /** @class */function (_super) {\n  __extends(Continuous, _super);\n  function Continuous() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.isContinuous = true;\n    return _this;\n  }\n  Continuous.prototype.scale = function (value) {\n    if (isNil(value)) {\n      return NaN;\n    }\n    var rangeMin = this.rangeMin();\n    var rangeMax = this.rangeMax();\n    var max = this.max;\n    var min = this.min;\n    if (max === min) {\n      return rangeMin;\n    }\n    var percent = this.getScalePercent(value);\n    return rangeMin + percent * (rangeMax - rangeMin);\n  };\n  Continuous.prototype.init = function () {\n    _super.prototype.init.call(this);\n    // init 完成后保证 min, max 包含 ticks 的范围\n    var ticks = this.ticks;\n    var firstTick = head(ticks);\n    var lastTick = last(ticks);\n    if (firstTick < this.min) {\n      this.min = firstTick;\n    }\n    if (lastTick > this.max) {\n      this.max = lastTick;\n    }\n    // strict-limit 方式\n    if (!isNil(this.minLimit)) {\n      this.min = firstTick;\n    }\n    if (!isNil(this.maxLimit)) {\n      this.max = lastTick;\n    }\n  };\n  Continuous.prototype.setDomain = function () {\n    var _a = getRange(this.values),\n      min = _a.min,\n      max = _a.max;\n    if (isNil(this.min)) {\n      this.min = min;\n    }\n    if (isNil(this.max)) {\n      this.max = max;\n    }\n    if (this.min > this.max) {\n      this.min = min;\n      this.max = max;\n    }\n  };\n  Continuous.prototype.calculateTicks = function () {\n    var _this = this;\n    var ticks = _super.prototype.calculateTicks.call(this);\n    if (!this.nice) {\n      ticks = filter(ticks, function (tick) {\n        return tick >= _this.min && tick <= _this.max;\n      });\n    }\n    return ticks;\n  };\n  // 计算原始值值占的百分比\n  Continuous.prototype.getScalePercent = function (value) {\n    var max = this.max;\n    var min = this.min;\n    return (value - min) / (max - min);\n  };\n  Continuous.prototype.getInvertPercent = function (value) {\n    return (value - this.rangeMin()) / (this.rangeMax() - this.rangeMin());\n  };\n  return Continuous;\n}(Base);\nexport default Continuous;","map":{"version":3,"names":["__extends","filter","getRange","head","isNil","last","Base","Continuous","_super","_this","apply","arguments","isContinuous","prototype","scale","value","NaN","rangeMin","rangeMax","max","min","percent","getScalePercent","init","call","ticks","firstTick","lastTick","minLimit","maxLimit","setDomain","_a","values","calculateTicks","nice","tick","getInvertPercent"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/node_modules/@antv/scale/esm/continuous/base.js"],"sourcesContent":["import { __extends } from \"tslib\";\nimport { filter, getRange, head, isNil, last } from '@antv/util';\nimport Base from '../base';\n/**\n * 连续度量的基类\n * @class\n */\nvar Continuous = /** @class */ (function (_super) {\n    __extends(Continuous, _super);\n    function Continuous() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isContinuous = true;\n        return _this;\n    }\n    Continuous.prototype.scale = function (value) {\n        if (isNil(value)) {\n            return NaN;\n        }\n        var rangeMin = this.rangeMin();\n        var rangeMax = this.rangeMax();\n        var max = this.max;\n        var min = this.min;\n        if (max === min) {\n            return rangeMin;\n        }\n        var percent = this.getScalePercent(value);\n        return rangeMin + percent * (rangeMax - rangeMin);\n    };\n    Continuous.prototype.init = function () {\n        _super.prototype.init.call(this);\n        // init 完成后保证 min, max 包含 ticks 的范围\n        var ticks = this.ticks;\n        var firstTick = head(ticks);\n        var lastTick = last(ticks);\n        if (firstTick < this.min) {\n            this.min = firstTick;\n        }\n        if (lastTick > this.max) {\n            this.max = lastTick;\n        }\n        // strict-limit 方式\n        if (!isNil(this.minLimit)) {\n            this.min = firstTick;\n        }\n        if (!isNil(this.maxLimit)) {\n            this.max = lastTick;\n        }\n    };\n    Continuous.prototype.setDomain = function () {\n        var _a = getRange(this.values), min = _a.min, max = _a.max;\n        if (isNil(this.min)) {\n            this.min = min;\n        }\n        if (isNil(this.max)) {\n            this.max = max;\n        }\n        if (this.min > this.max) {\n            this.min = min;\n            this.max = max;\n        }\n    };\n    Continuous.prototype.calculateTicks = function () {\n        var _this = this;\n        var ticks = _super.prototype.calculateTicks.call(this);\n        if (!this.nice) {\n            ticks = filter(ticks, function (tick) {\n                return tick >= _this.min && tick <= _this.max;\n            });\n        }\n        return ticks;\n    };\n    // 计算原始值值占的百分比\n    Continuous.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n        return (value - min) / (max - min);\n    };\n    Continuous.prototype.getInvertPercent = function (value) {\n        return (value - this.rangeMin()) / (this.rangeMax() - this.rangeMin());\n    };\n    return Continuous;\n}(Base));\nexport default Continuous;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}