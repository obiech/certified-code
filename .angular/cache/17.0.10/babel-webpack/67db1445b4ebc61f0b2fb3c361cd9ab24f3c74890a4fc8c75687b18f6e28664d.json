{"ast":null,"code":"import { ActivatedRoute, Router } from '@angular/router';\nimport { PayoutSessionStatus } from '@ridy/admin-panel/generated/graphql';\nimport { environment } from '@ridy/admin-panel/src/environments/environment';\nimport { map } from 'rxjs';\nimport { TableService } from '../../@services/table-service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../@services/table-service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"ng-zorro-antd/table\";\nimport * as i5 from \"ng-zorro-antd/menu\";\nimport * as i6 from \"ng-zorro-antd/dropdown\";\nimport * as i7 from \"ng-zorro-antd/button\";\nimport * as i8 from \"ng-zorro-antd/core/transition-patch\";\nimport * as i9 from \"ng-zorro-antd/core/wave\";\nimport * as i10 from \"ng-zorro-antd/icon\";\nimport * as i11 from \"ng-zorro-antd/grid\";\nimport * as i12 from \"ng-zorro-antd/tag\";\nimport * as i13 from \"ng-zorro-antd/page-header\";\nimport * as i14 from \"ng-zorro-antd/statistic\";\nimport * as i15 from \"../../@components/g2/nz-g2.directive\";\nimport * as i16 from \"@ngx-translate/core\";\nimport * as i17 from \"ngx-timeago\";\nfunction PayoutsComponent_nz_page_header_0_li_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 16);\n    i0.ɵɵlistener(\"click\", function PayoutsComponent_nz_page_header_0_li_13_Template_li_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const currency_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.changeCurrency(currency_r7));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const currency_r7 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", currency_r7, \" \");\n  }\n}\nconst _c0 = () => ({\n  height: 100,\n  width: 500\n});\nfunction PayoutsComponent_nz_page_header_0_ng_template_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵlistener(\"nzChartInitialized\", function PayoutsComponent_nz_page_header_0_ng_template_21_Template_div_nzChartInitialized_0_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.onChartPayoutMethodsInit($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"nzChartOptions\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\nfunction PayoutsComponent_nz_page_header_0_nz_table_23_tr_14_nz_tag_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"nz-tag\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r15 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"nzColor\", \"blue\")(\"nzBordered\", false);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(data_r15.status);\n  }\n}\nfunction PayoutsComponent_nz_page_header_0_nz_table_23_tr_14_nz_tag_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"nz-tag\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r15 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"nzColor\", \"green\")(\"nzBordered\", false);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(data_r15.status);\n  }\n}\nfunction PayoutsComponent_nz_page_header_0_nz_table_23_tr_14_nz_tag_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"nz-tag\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r15 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"nzColor\", \"red\")(\"nzBordered\", false);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(data_r15.status);\n  }\n}\nfunction PayoutsComponent_nz_page_header_0_nz_table_23_tr_14_nz_tag_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"nz-tag\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r15 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"nzColor\", \"default\")(\"nzBordered\", false);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(data_r15.status);\n  }\n}\nfunction PayoutsComponent_nz_page_header_0_nz_table_23_tr_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 21)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"timeago\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtemplate(8, PayoutsComponent_nz_page_header_0_nz_table_23_tr_14_nz_tag_8_Template, 2, 3, \"nz-tag\", 22)(9, PayoutsComponent_nz_page_header_0_nz_table_23_tr_14_nz_tag_9_Template, 2, 3, \"nz-tag\", 22)(10, PayoutsComponent_nz_page_header_0_nz_table_23_tr_14_nz_tag_10_Template, 2, 3, \"nz-tag\", 22)(11, PayoutsComponent_nz_page_header_0_nz_table_23_tr_14_nz_tag_11_Template, 2, 3, \"nz-tag\", 22);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const data_r15 = ctx.$implicit;\n    const ctx_r14 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"routerLink\", data_r15.id + \"/view\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 7, data_r15.createdAt), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(6, 9, data_r15.totalAmount, data_r15.currency), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", data_r15.status == ctx_r14.sessionStatus.Pending);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", data_r15.status == ctx_r14.sessionStatus.Paid);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", data_r15.status == ctx_r14.sessionStatus.Failed);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", data_r15.status == ctx_r14.sessionStatus.Cancelled);\n  }\n}\nfunction PayoutsComponent_nz_page_header_0_nz_table_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"nz-table\", 18, 19);\n    i0.ɵɵlistener(\"nzQueryParams\", function PayoutsComponent_nz_page_header_0_nz_table_23_Template_nz_table_nzQueryParams_0_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r24.tableService.onTableQueryParamsChange($event));\n    });\n    i0.ɵɵelementStart(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"translate\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"tbody\");\n    i0.ɵɵtemplate(14, PayoutsComponent_nz_page_header_0_nz_table_23_tr_14_Template, 12, 12, \"tr\", 20);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const sessions_r12 = ctx.ngIf;\n    const _r13 = i0.ɵɵreference(1);\n    i0.ɵɵproperty(\"nzFrontPagination\", false)(\"nzData\", sessions_r12.nodes)(\"nzTotal\", sessions_r12.totalCount);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(6, 7, \"profile.createdAt\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(9, 9, \"profile.totalAmount\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(12, 11, \"profile.status\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", _r13.data);\n  }\n}\nfunction PayoutsComponent_nz_page_header_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"nz-page-header\", 1)(1, \"nz-page-header-extra\")(2, \"span\", 2)(3, \"button\", 3);\n    i0.ɵɵtext(4, \"Actions\");\n    i0.ɵɵelement(5, \"span\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"nz-dropdown-menu\", null, 5)(8, \"ul\", 6)(9, \"li\", 7);\n    i0.ɵɵtext(10, \"New Payout Session\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"li\", 8)(12, \"ul\");\n    i0.ɵɵtemplate(13, PayoutsComponent_nz_page_header_0_li_13_Template, 2, 1, \"li\", 9);\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(14, \"nz-page-header-content\")(15, \"nz-row\", 10);\n    i0.ɵɵelement(16, \"nz-statistic\", 11);\n    i0.ɵɵpipe(17, \"currency\");\n    i0.ɵɵelement(18, \"nz-statistic\", 12);\n    i0.ɵɵpipe(19, \"currency\");\n    i0.ɵɵelement(20, \"nz-statistic\", 13);\n    i0.ɵɵtemplate(21, PayoutsComponent_nz_page_header_0_ng_template_21_Template, 1, 2, \"ng-template\", null, 14, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(23, PayoutsComponent_nz_page_header_0_nz_table_23_Template, 15, 13, \"nz-table\", 15);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const data_r1 = ctx.ngIf;\n    const _r2 = i0.ɵɵreference(7);\n    const _r5 = i0.ɵɵreference(22);\n    let tmp_4_0;\n    let tmp_5_0;\n    i0.ɵɵproperty(\"nzGhost\", false);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"nzDropdownMenu\", _r2)(\"nzPlacement\", \"bottomRight\");\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", data_r1.supportedCurrencies);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"nzValue\", (tmp_4_0 = i0.ɵɵpipeBind2(17, 8, data_r1.payoutStatistics.pendingAmount, data_r1.payoutStatistics.currency)) !== null && tmp_4_0 !== undefined ? tmp_4_0 : \"N/A\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"nzValue\", (tmp_5_0 = i0.ɵɵpipeBind2(19, 11, data_r1.payoutStatistics.lastPayoutAmount, data_r1.payoutStatistics.currency)) !== null && tmp_5_0 !== undefined ? tmp_5_0 : \"N/A\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"nzValueTemplate\", _r5);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", data_r1.payoutSessions);\n  }\n}\nexport class PayoutsComponent {\n  constructor(route, router, tableService) {\n    this.route = route;\n    this.router = router;\n    this.tableService = tableService;\n    this.serverUrl = environment.root;\n    this.sessionStatus = PayoutSessionStatus;\n  }\n  ngOnInit() {\n    this.query = this.route.data.pipe(map(data => data.payouts));\n  }\n  onChartPayoutMethodsInit(chartInstance) {\n    this.chartPayoutMethods = chartInstance;\n    this.query?.subscribe(result => {\n      const stats = result.data.payoutStatistics.usersDefaultPayoutMethodStats;\n      const mappedStats = stats.map(stat => {\n        return {\n          count: stat.totalCount,\n          name: stat.payoutMethod?.name ?? 'Without payout method'\n        };\n      });\n      this.chartPayoutMethods.data(mappedStats).interval().position('count').color('name').adjust('stack');\n      this.chartPayoutMethods.coordinate('rect').transpose();\n      this.chartPayoutMethods.render();\n    });\n  }\n  refreshPayoutsChart() {}\n  changeCurrency(currency) {\n    this.router.navigate([], {\n      queryParams: {\n        currency\n      },\n      queryParamsHandling: 'merge'\n    });\n  }\n  static {\n    this.ɵfac = function PayoutsComponent_Factory(t) {\n      return new (t || PayoutsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.TableService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: PayoutsComponent,\n      selectors: [[\"app-payouts\"]],\n      decls: 2,\n      vars: 3,\n      consts: [[\"nzBackIcon\", \"\", \"nzTitle\", \"Payouts\", \"nzSubtitle\", \"Manage and track payouts for service providers\", 3, \"nzGhost\", 4, \"ngIf\"], [\"nzBackIcon\", \"\", \"nzTitle\", \"Payouts\", \"nzSubtitle\", \"Manage and track payouts for service providers\", 3, \"nzGhost\"], [1, \"header-trigger\", 2, \"margin-right\", \"15px\"], [\"nz-button\", \"\", \"nz-dropdown\", \"\", 3, \"nzDropdownMenu\", \"nzPlacement\"], [\"nz-icon\", \"\", \"nzType\", \"down\"], [\"menu\", \"nzDropdownMenu\"], [\"nz-menu\", \"\"], [\"nz-menu-item\", \"\", \"routerLink\", \"./new\"], [\"nz-submenu\", \"\", \"nzTitle\", \"Change currency\"], [\"nz-menu-item\", \"\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"nzType\", \"flex\", 1, \"mb-4\"], [\"nzTitle\", \"Pending\", 3, \"nzValue\"], [\"nzTitle\", \"Last Payout\", 2, \"margin\", \"0 32px\", 3, \"nzValue\"], [\"nzTitle\", \"Payout Methods\", 2, \"margin\", \"0 32px\", 3, \"nzValueTemplate\"], [\"payoutMethodTemplate\", \"\"], [\"nzShowSizeChanger\", \"\", \"nzBordered\", \"\", 3, \"nzFrontPagination\", \"nzData\", \"nzTotal\", \"nzQueryParams\", 4, \"ngIf\"], [\"nz-menu-item\", \"\", 3, \"click\"], [\"nz-g2\", \"\", 3, \"nzChartOptions\", \"nzChartInitialized\"], [\"nzShowSizeChanger\", \"\", \"nzBordered\", \"\", 3, \"nzFrontPagination\", \"nzData\", \"nzTotal\", \"nzQueryParams\"], [\"table\", \"\"], [\"class\", \"group cursor-pointer\", 3, \"routerLink\", 4, \"ngFor\", \"ngForOf\"], [1, \"group\", \"cursor-pointer\", 3, \"routerLink\"], [3, \"nzColor\", \"nzBordered\", 4, \"ngIf\"], [3, \"nzColor\", \"nzBordered\"]],\n      template: function PayoutsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, PayoutsComponent_nz_page_header_0_Template, 24, 14, \"nz-page-header\", 0);\n          i0.ɵɵpipe(1, \"async\");\n        }\n        if (rf & 2) {\n          let tmp_0_0;\n          i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = i0.ɵɵpipeBind1(1, 1, ctx.query)) == null ? null : tmp_0_0.data);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i4.NzTableComponent, i4.NzTableCellDirective, i4.NzThMeasureDirective, i4.NzTheadComponent, i4.NzTbodyComponent, i4.NzTrDirective, i5.NzMenuDirective, i5.NzMenuItemComponent, i5.NzSubMenuComponent, i6.NzDropDownDirective, i6.NzDropdownMenuComponent, i6.NzDropdownButtonDirective, i7.NzButtonComponent, i8.ɵNzTransitionPatchDirective, i9.NzWaveDirective, i10.NzIconDirective, i11.NzRowDirective, i12.NzTagComponent, i13.NzPageHeaderComponent, i13.NzPageHeaderContentDirective, i13.NzPageHeaderExtraDirective, i14.NzStatisticComponent, i15.NzG2Directive, i1.RouterLink, i3.AsyncPipe, i3.CurrencyPipe, i16.TranslatePipe, i17.TimeagoPipe],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["ActivatedRoute","Router","PayoutSessionStatus","environment","map","TableService","i0","ɵɵelementStart","ɵɵlistener","PayoutsComponent_nz_page_header_0_li_13_Template_li_click_0_listener","restoredCtx","ɵɵrestoreView","_r9","currency_r7","$implicit","ctx_r8","ɵɵnextContext","ɵɵresetView","changeCurrency","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","PayoutsComponent_nz_page_header_0_ng_template_21_Template_div_nzChartInitialized_0_listener","$event","_r11","ctx_r10","onChartPayoutMethodsInit","ɵɵproperty","ɵɵpureFunction0","_c0","ɵɵtextInterpolate","data_r15","status","ɵɵtemplate","PayoutsComponent_nz_page_header_0_nz_table_23_tr_14_nz_tag_8_Template","PayoutsComponent_nz_page_header_0_nz_table_23_tr_14_nz_tag_9_Template","PayoutsComponent_nz_page_header_0_nz_table_23_tr_14_nz_tag_10_Template","PayoutsComponent_nz_page_header_0_nz_table_23_tr_14_nz_tag_11_Template","id","ɵɵpipeBind1","createdAt","ɵɵpipeBind2","totalAmount","currency","ctx_r14","sessionStatus","Pending","Paid","Failed","Cancelled","PayoutsComponent_nz_page_header_0_nz_table_23_Template_nz_table_nzQueryParams_0_listener","_r25","ctx_r24","tableService","onTableQueryParamsChange","PayoutsComponent_nz_page_header_0_nz_table_23_tr_14_Template","sessions_r12","nodes","totalCount","_r13","data","ɵɵelement","PayoutsComponent_nz_page_header_0_li_13_Template","PayoutsComponent_nz_page_header_0_ng_template_21_Template","ɵɵtemplateRefExtractor","PayoutsComponent_nz_page_header_0_nz_table_23_Template","_r2","data_r1","supportedCurrencies","tmp_4_0","payoutStatistics","pendingAmount","undefined","tmp_5_0","lastPayoutAmount","_r5","payoutSessions","PayoutsComponent","constructor","route","router","serverUrl","root","ngOnInit","query","pipe","payouts","chartInstance","chartPayoutMethods","subscribe","result","stats","usersDefaultPayoutMethodStats","mappedStats","stat","count","name","payoutMethod","interval","position","color","adjust","coordinate","transpose","render","refreshPayoutsChart","navigate","queryParams","queryParamsHandling","ɵɵdirectiveInject","i1","i2","selectors","decls","vars","consts","template","PayoutsComponent_Template","rf","ctx","PayoutsComponent_nz_page_header_0_Template","tmp_0_0"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/apps/admin-panel/src/app/cms/payouts/payouts.component.ts","/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/apps/admin-panel/src/app/cms/payouts/payouts.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ApolloQueryResult } from '@apollo/client/core';\nimport {\n  PayoutSessionStatus,\n  PayoutsQuery,\n} from '@ridy/admin-panel/generated/graphql';\nimport { environment } from '@ridy/admin-panel/src/environments/environment';\nimport { Observable, map } from 'rxjs';\nimport { TableService } from '../../@services/table-service';\nimport { Chart } from '@antv/g2';\n\n@Component({\n  selector: 'app-payouts',\n  templateUrl: './payouts.component.html',\n})\nexport class PayoutsComponent {\n  query?: Observable<ApolloQueryResult<PayoutsQuery>>;\n  serverUrl = environment.root;\n  sessionStatus = PayoutSessionStatus;\n  private chartPayoutMethods!: Chart;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    public tableService: TableService,\n  ) {}\n\n  ngOnInit(): void {\n    this.query = this.route.data.pipe(map((data) => data.payouts));\n  }\n\n  onChartPayoutMethodsInit(chartInstance: Chart) {\n    this.chartPayoutMethods = chartInstance;\n    this.query?.subscribe((result) => {\n      const stats = result.data.payoutStatistics.usersDefaultPayoutMethodStats;\n      const mappedStats = stats.map((stat) => {\n        return {\n          count: stat.totalCount,\n          name: stat.payoutMethod?.name ?? 'Without payout method',\n        };\n      });\n      this.chartPayoutMethods\n        .data(mappedStats)\n        .interval()\n        .position('count')\n        .color('name')\n        .adjust('stack');\n      this.chartPayoutMethods.coordinate('rect').transpose();\n      this.chartPayoutMethods.render();\n    });\n  }\n\n  refreshPayoutsChart() {}\n\n  changeCurrency(currency: string): void {\n    this.router.navigate([], {\n      queryParams: { currency },\n      queryParamsHandling: 'merge',\n    });\n  }\n}\n","<nz-page-header [nzGhost]=\"false\" nzBackIcon nzTitle=\"Payouts\"\n    nzSubtitle=\"Manage and track payouts for service providers\" *ngIf=\"(query | async)?.data as data\">\n    <nz-page-header-extra>\n        <span class=\"header-trigger\" style=\"margin-right: 15px;\">\n            <button nz-button nz-dropdown [nzDropdownMenu]=\"menu\" [nzPlacement]=\"'bottomRight'\">Actions<span nz-icon\n                    nzType=\"down\"></span></button>\n            <nz-dropdown-menu #menu=\"nzDropdownMenu\">\n                <ul nz-menu>\n                    <li nz-menu-item routerLink=\"./new\">New Payout Session</li>\n                    <li nz-submenu nzTitle=\"Change currency\">\n                        <ul>\n                            <li nz-menu-item *ngFor=\"let currency of data.supportedCurrencies\"\n                                (click)=\"changeCurrency(currency)\">\n                                {{ currency }}\n                            </li>\n                        </ul>\n                    </li>\n                </ul>\n            </nz-dropdown-menu>\n        </span>\n    </nz-page-header-extra>\n    <nz-page-header-content>\n        <nz-row nzType=\"flex\" class=\"mb-4\">\n            <nz-statistic nzTitle=\"Pending\"\n                [nzValue]=\"(data.payoutStatistics.pendingAmount | currency: data.payoutStatistics.currency) ?? 'N/A'\"></nz-statistic>\n            <nz-statistic nzTitle=\"Last Payout\"\n                [nzValue]=\"(data.payoutStatistics.lastPayoutAmount | currency: data.payoutStatistics.currency) ?? 'N/A'\"\n                style=\"margin: 0 32px\"></nz-statistic>\n            <nz-statistic nzTitle=\"Payout Methods\" [nzValueTemplate]=\"payoutMethodTemplate\"\n                style=\"margin: 0 32px\"></nz-statistic>\n\n            <ng-template #payoutMethodTemplate>\n                <div nz-g2 [nzChartOptions]=\"{ height: 100, width: 500 }\"\n                    (nzChartInitialized)=\"onChartPayoutMethodsInit($event)\">\n                </div>\n            </ng-template>\n        </nz-row>\n\n        <nz-table #table nzShowSizeChanger [nzFrontPagination]=\"false\" *ngIf=\"data.payoutSessions as sessions\"\n            [nzData]=\"sessions.nodes\" [nzTotal]=\"sessions.totalCount\"\n            (nzQueryParams)=\"tableService.onTableQueryParamsChange($event)\" nzBordered>\n            <thead>\n                <tr>\n                    <th>\n                        {{ 'profile.createdAt' | translate }}\n                    </th>\n                    <th>\n                        {{ 'profile.totalAmount' | translate }}\n                    </th>\n                    <th>\n                        {{ 'profile.status' | translate }}\n                    </th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr *ngFor=\"let data of table.data\" class=\"group cursor-pointer\" [routerLink]=\"data.id + '/view'\">\n                    <td>\n                        {{ data.createdAt | timeago }}\n                    </td>\n                    <td>\n                        {{ data.totalAmount | currency: data.currency }}\n                    </td>\n                    <td>\n                        <nz-tag *ngIf=\"data.status == sessionStatus.Pending\" [nzColor]=\"'blue'\" [nzBordered]=\"false\">{{\n                            data.status\n                            }}</nz-tag>\n                        <nz-tag *ngIf=\"data.status == sessionStatus.Paid\" [nzColor]=\"'green'\" [nzBordered]=\"false\">{{\n                            data.status\n                            }}</nz-tag>\n                        <nz-tag *ngIf=\"data.status == sessionStatus.Failed\" [nzColor]=\"'red'\" [nzBordered]=\"false\">{{\n                            data.status\n                            }}</nz-tag>\n                        <nz-tag *ngIf=\"data.status == sessionStatus.Cancelled\" [nzColor]=\"'default'\"\n                            [nzBordered]=\"false\">{{ data.status\n                            }}</nz-tag>\n                    </td>\n                </tr>\n            </tbody>\n        </nz-table>\n    </nz-page-header-content>\n</nz-page-header>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}