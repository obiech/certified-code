{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { get } from '@antv/util';\nimport { ellipsisLabel } from './label';\nimport { applyRotate, applyTranslate } from './matrix';\nimport { formatPadding } from './util';\nexport function renderTag(container, tagCfg) {\n  var x = tagCfg.x,\n    y = tagCfg.y,\n    content = tagCfg.content,\n    style = tagCfg.style,\n    id = tagCfg.id,\n    name = tagCfg.name,\n    rotate = tagCfg.rotate,\n    maxLength = tagCfg.maxLength,\n    autoEllipsis = tagCfg.autoEllipsis,\n    isVertical = tagCfg.isVertical,\n    ellipsisPosition = tagCfg.ellipsisPosition,\n    background = tagCfg.background;\n  var tagGroup = container.addGroup({\n    id: id + \"-group\",\n    name: name + \"-group\",\n    attrs: {\n      x: x,\n      y: y\n    }\n  });\n  // Text shape\n  var text = tagGroup.addShape({\n    type: 'text',\n    id: id,\n    name: name,\n    attrs: __assign({\n      x: 0,\n      y: 0,\n      text: content\n    }, style)\n  });\n  // maxLength 应包含 background 中的 padding 值\n  var padding = formatPadding(get(background, 'padding', 0));\n  if (maxLength && autoEllipsis) {\n    var maxTextLength = maxLength - (padding[1] + padding[3]);\n    // 超出自动省略\n    ellipsisLabel(!isVertical, text, maxTextLength, ellipsisPosition);\n  }\n  if (background) {\n    // 渲染文本背景\n    var backgroundStyle = get(background, 'style', {});\n    var _a = text.getCanvasBBox(),\n      minX = _a.minX,\n      minY = _a.minY,\n      width = _a.width,\n      height = _a.height;\n    var tagBg = tagGroup.addShape('rect', {\n      id: id + \"-bg\",\n      name: id + \"-bg\",\n      attrs: __assign({\n        x: minX - padding[3],\n        y: minY - padding[0],\n        width: width + padding[1] + padding[3],\n        height: height + padding[0] + padding[2]\n      }, backgroundStyle)\n    });\n    tagBg.toBack();\n  }\n  applyTranslate(tagGroup, x, y);\n  applyRotate(tagGroup, rotate, x, y);\n}","map":{"version":3,"names":["__assign","get","ellipsisLabel","applyRotate","applyTranslate","formatPadding","renderTag","container","tagCfg","x","y","content","style","id","name","rotate","maxLength","autoEllipsis","isVertical","ellipsisPosition","background","tagGroup","addGroup","attrs","text","addShape","type","padding","maxTextLength","backgroundStyle","_a","getCanvasBBox","minX","minY","width","height","tagBg","toBack"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/node_modules/@antv/component/esm/util/graphic.js"],"sourcesContent":["import { __assign } from \"tslib\";\nimport { get } from '@antv/util';\nimport { ellipsisLabel } from './label';\nimport { applyRotate, applyTranslate } from './matrix';\nimport { formatPadding } from './util';\nexport function renderTag(container, tagCfg) {\n    var x = tagCfg.x, y = tagCfg.y, content = tagCfg.content, style = tagCfg.style, id = tagCfg.id, name = tagCfg.name, rotate = tagCfg.rotate, maxLength = tagCfg.maxLength, autoEllipsis = tagCfg.autoEllipsis, isVertical = tagCfg.isVertical, ellipsisPosition = tagCfg.ellipsisPosition, background = tagCfg.background;\n    var tagGroup = container.addGroup({\n        id: id + \"-group\",\n        name: name + \"-group\",\n        attrs: {\n            x: x,\n            y: y,\n        }\n    });\n    // Text shape\n    var text = tagGroup.addShape({\n        type: 'text',\n        id: id,\n        name: name,\n        attrs: __assign({ x: 0, y: 0, text: content }, style),\n    });\n    // maxLength 应包含 background 中的 padding 值\n    var padding = formatPadding(get(background, 'padding', 0));\n    if (maxLength && autoEllipsis) {\n        var maxTextLength = maxLength - (padding[1] + padding[3]);\n        // 超出自动省略\n        ellipsisLabel(!isVertical, text, maxTextLength, ellipsisPosition);\n    }\n    if (background) {\n        // 渲染文本背景\n        var backgroundStyle = get(background, 'style', {});\n        var _a = text.getCanvasBBox(), minX = _a.minX, minY = _a.minY, width = _a.width, height = _a.height;\n        var tagBg = tagGroup.addShape('rect', {\n            id: id + \"-bg\",\n            name: id + \"-bg\",\n            attrs: __assign({ x: minX - padding[3], y: minY - padding[0], width: width + padding[1] + padding[3], height: height + padding[0] + padding[2] }, backgroundStyle),\n        });\n        tagBg.toBack();\n    }\n    applyTranslate(tagGroup, x, y);\n    applyRotate(tagGroup, rotate, x, y);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}