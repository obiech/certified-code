{"ast":null,"code":"import { ActivatedRoute } from '@angular/router';\nimport { map } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"ng-zorro-antd/comment\";\nimport * as i4 from \"ng-zorro-antd/avatar\";\nimport * as i5 from \"ng-zorro-antd/empty\";\nfunction RequestViewChatsComponent_div_0_nz_empty_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"nz-empty\", 3);\n  }\n}\nfunction RequestViewChatsComponent_div_0_nz_comment_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"nz-comment\", 4);\n    i0.ɵɵpipe(1, \"date\");\n    i0.ɵɵelement(2, \"nz-avatar\", 5);\n    i0.ɵɵelementStart(3, \"nz-comment-content\")(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const chat_r4 = ctx.$implicit;\n    const order_r1 = i0.ɵɵnextContext().ngIf;\n    let tmp_0_0;\n    let tmp_1_0;\n    let tmp_3_0;\n    i0.ɵɵproperty(\"nzAuthor\", !chat_r4.sentByDriver ? ((tmp_0_0 = order_r1.rider == null ? null : order_r1.rider.firstName) !== null && tmp_0_0 !== undefined ? tmp_0_0 : \"-\") + \" \" + ((tmp_0_0 = order_r1.rider == null ? null : order_r1.rider.lastName) !== null && tmp_0_0 !== undefined ? tmp_0_0 : \"-\") : ((tmp_0_0 = order_r1.driver == null ? null : order_r1.driver.firstName) !== null && tmp_0_0 !== undefined ? tmp_0_0 : \"-\") + \" \" + ((tmp_0_0 = order_r1.driver == null ? null : order_r1.driver.lastName) !== null && tmp_0_0 !== undefined ? tmp_0_0 : \"\"))(\"nzDatetime\", (tmp_1_0 = i0.ɵɵpipeBind2(1, 5, chat_r4.sentAt, \"short\")) !== null && tmp_1_0 !== undefined ? tmp_1_0 : \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"nzIcon\", !chat_r4.sentByDriver ? \"user\" : \"car\")(\"nzSrc\", !chat_r4.sentByDriver ? (tmp_3_0 = order_r1.rider == null ? null : order_r1.rider.media == null ? null : order_r1.rider.media.address) !== null && tmp_3_0 !== undefined ? tmp_3_0 : \"\" : (tmp_3_0 = order_r1.driver == null ? null : order_r1.driver.media == null ? null : order_r1.driver.media.address) !== null && tmp_3_0 !== undefined ? tmp_3_0 : \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", chat_r4.content, \" \");\n  }\n}\nfunction RequestViewChatsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, RequestViewChatsComponent_div_0_nz_empty_1_Template, 1, 0, \"nz-empty\", 1)(2, RequestViewChatsComponent_div_0_nz_comment_2_Template, 6, 8, \"nz-comment\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const order_r1 = ctx.ngIf;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", order_r1.conversations.length === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", order_r1.conversations);\n  }\n}\nexport class RequestViewChatsComponent {\n  constructor(route) {\n    this.route = route;\n  }\n  ngOnInit() {\n    this.query = this.route.parent?.data.pipe(map(data => data.order));\n  }\n  static {\n    this.ɵfac = function RequestViewChatsComponent_Factory(t) {\n      return new (t || RequestViewChatsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: RequestViewChatsComponent,\n      selectors: [[\"app-request-view-chats\"]],\n      decls: 2,\n      vars: 3,\n      consts: [[4, \"ngIf\"], [\"class\", \"empty-state\", 4, \"ngIf\"], [3, \"nzAuthor\", \"nzDatetime\", 4, \"ngFor\", \"ngForOf\"], [1, \"empty-state\"], [3, \"nzAuthor\", \"nzDatetime\"], [\"nz-comment-avatar\", \"\", 3, \"nzIcon\", \"nzSrc\"]],\n      template: function RequestViewChatsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, RequestViewChatsComponent_div_0_Template, 3, 2, \"div\", 0);\n          i0.ɵɵpipe(1, \"async\");\n        }\n        if (rf & 2) {\n          let tmp_0_0;\n          i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = i0.ɵɵpipeBind1(1, 1, ctx.query)) == null ? null : tmp_0_0.data == null ? null : tmp_0_0.data.order);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.NzCommentComponent, i3.NzCommentAvatarDirective, i3.NzCommentContentDirective, i4.NzAvatarComponent, i5.NzEmptyComponent, i2.AsyncPipe, i2.DatePipe],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["ActivatedRoute","map","i0","ɵɵelement","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","chat_r4","sentByDriver","tmp_0_0","order_r1","rider","firstName","undefined","lastName","driver","tmp_1_0","ɵɵpipeBind2","sentAt","ɵɵadvance","tmp_3_0","media","address","ɵɵtextInterpolate1","content","ɵɵtemplate","RequestViewChatsComponent_div_0_nz_empty_1_Template","RequestViewChatsComponent_div_0_nz_comment_2_Template","conversations","length","RequestViewChatsComponent","constructor","route","ngOnInit","query","parent","data","pipe","order","ɵɵdirectiveInject","i1","selectors","decls","vars","consts","template","RequestViewChatsComponent_Template","rf","ctx","RequestViewChatsComponent_div_0_Template","ɵɵpipeBind1"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/apps/admin-panel/src/app/cms/requests/request-view/request-view-chats/request-view-chats.component.ts","/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/apps/admin-panel/src/app/cms/requests/request-view/request-view-chats/request-view-chats.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ApolloQueryResult } from '@apollo/client/core';\nimport { ViewOrderQuery } from '@ridy/admin-panel/generated/graphql';\nimport { map, Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-request-view-chats',\n  templateUrl: './request-view-chats.component.html'\n})\nexport class RequestViewChatsComponent implements OnInit {\n  query?: Observable<ApolloQueryResult<ViewOrderQuery>>;\n\n  constructor(\n    private route: ActivatedRoute\n    ) { }\n\n  ngOnInit(): void {\n    this.query = this.route.parent?.data.pipe(map(data => data.order))\n  }\n}\n","\n<div *ngIf=\"(query | async)?.data?.order as order\">\n  <nz-empty *ngIf=\"order.conversations.length === 0\" class=\"empty-state\"></nz-empty>\n  <nz-comment [nzAuthor]=\"!chat.sentByDriver ? ((order.rider?.firstName ?? '-') + ' ' + (order.rider?.lastName ?? '-')) : ((order.driver?.firstName ?? '-') + ' ' + (order.driver?.lastName ?? ''))\" [nzDatetime]=\"((chat.sentAt | date: 'short') ?? '')\" *ngFor=\"let chat of order.conversations\">\n    <nz-avatar\n      nz-comment-avatar\n      [nzIcon]=\"!chat.sentByDriver ? 'user' : 'car'\"\n      [nzSrc]=\"!chat.sentByDriver ? (order.rider?.media?.address ?? '') : (order.driver?.media?.address ?? '')\"\n    ></nz-avatar>\n    <nz-comment-content>\n      <p>\n        {{chat.content}}\n      </p>\n    </nz-comment-content>\n  </nz-comment>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}