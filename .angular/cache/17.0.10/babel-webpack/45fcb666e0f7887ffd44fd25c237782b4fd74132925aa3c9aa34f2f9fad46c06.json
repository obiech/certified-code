{"ast":null,"code":"import { ActivatedRoute } from '@angular/router';\nimport { TableService } from '@ridy/admin-panel/src/app/@services/table-service';\nimport { TagColorService } from '@ridy/admin-panel/src/app/@services/tag-color/tag-color.service';\nimport { map } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ridy/admin-panel/src/app/@services/tag-color/tag-color.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ridy/admin-panel/src/app/@services/table-service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"ng-zorro-antd/table\";\nimport * as i7 from \"ng-zorro-antd/tag\";\nimport * as i8 from \"ng-zorro-antd/tooltip\";\nimport * as i9 from \"ng-zorro-antd/rate\";\nimport * as i10 from \"@ngx-translate/core\";\nimport * as i11 from \"ngx-timeago\";\nfunction DriverProfileFeedbacksComponent_nz_table_0_tr_19_nz_tag_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"nz-tag\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const parameter_r7 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"nzBordered\", false)(\"nzColor\", ctx_r5.tagColor.boolean(parameter_r7.isGood));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(parameter_r7.title);\n  }\n}\nfunction DriverProfileFeedbacksComponent_nz_table_0_tr_19_a_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"routerLink\", \"/requests/view/\" + data_r4.requestId);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 2, \"table.viewRequest\"));\n  }\n}\nfunction DriverProfileFeedbacksComponent_nz_table_0_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 8);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"timeago\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵelement(6, \"nz-rate\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 5);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 6);\n    i0.ɵɵtemplate(10, DriverProfileFeedbacksComponent_nz_table_0_tr_19_nz_tag_10_Template, 2, 3, \"nz-tag\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtemplate(12, DriverProfileFeedbacksComponent_nz_table_0_tr_19_a_12_Template, 3, 4, \"a\", 11);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const data_r4 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"nz-tooltip\", i0.ɵɵpipeBind2(2, 6, data_r4.reviewTimestamp, \"short\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 9, data_r4.reviewTimestamp));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", data_r4.score / 20);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r4.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", data_r4.parameters);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", data_r4.requestId !== null);\n  }\n}\nfunction DriverProfileFeedbacksComponent_nz_table_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"nz-table\", 1, 2);\n    i0.ɵɵlistener(\"nzQueryParams\", function DriverProfileFeedbacksComponent_nz_table_0_Template_nz_table_nzQueryParams_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.tableService.onTableQueryParamsChange);\n    });\n    i0.ɵɵelementStart(2, \"thead\")(3, \"tr\")(4, \"th\", 3);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\", 4);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 5);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\", 6);\n    i0.ɵɵtext(14, \"Parameters\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"translate\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(18, \"tbody\");\n    i0.ɵɵtemplate(19, DriverProfileFeedbacksComponent_nz_table_0_tr_19_Template, 13, 11, \"tr\", 7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const feedbacks_r1 = ctx.ngIf;\n    const _r2 = i0.ɵɵreference(1);\n    i0.ɵɵproperty(\"nzFrontPagination\", false)(\"nzData\", feedbacks_r1.nodes);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 7, \"profile.dateTime\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 9, \"profile.rating\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(12, 11, \"profile.review\"));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(17, 13, \"profile.actions\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", _r2.data);\n  }\n}\nexport class DriverProfileFeedbacksComponent {\n  constructor(tagColor, route, tableService) {\n    this.tagColor = tagColor;\n    this.route = route;\n    this.tableService = tableService;\n  }\n  ngOnInit() {\n    this.query = this.route.data.pipe(map(data => data.feedbacks));\n  }\n  static {\n    this.ɵfac = function DriverProfileFeedbacksComponent_Factory(t) {\n      return new (t || DriverProfileFeedbacksComponent)(i0.ɵɵdirectiveInject(i1.TagColorService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.TableService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DriverProfileFeedbacksComponent,\n      selectors: [[\"app-driver-profile-feedbacks\"]],\n      decls: 2,\n      vars: 3,\n      consts: [[\"nzShowSizeChanger\", \"\", \"nzBordered\", \"\", 3, \"nzFrontPagination\", \"nzData\", \"nzQueryParams\", 4, \"ngIf\"], [\"nzShowSizeChanger\", \"\", \"nzBordered\", \"\", 3, \"nzFrontPagination\", \"nzData\", \"nzQueryParams\"], [\"table\", \"\"], [\"nzShowSort\", \"\", \"nzColumnKey\", \"reviewTimestamp\"], [\"nzShowSort\", \"\", \"nzColumnKey\", \"score\"], [1, \"hidden\", \"md:table-cell\"], [1, \"hidden\", \"lg:table-cell\"], [4, \"ngFor\", \"ngForOf\"], [3, \"nz-tooltip\"], [\"nzDisabled\", \"\", \"nzAllowHalf\", \"\", 3, \"ngModel\"], [3, \"nzBordered\", \"nzColor\", 4, \"ngFor\", \"ngForOf\"], [3, \"routerLink\", 4, \"ngIf\"], [3, \"nzBordered\", \"nzColor\"], [3, \"routerLink\"]],\n      template: function DriverProfileFeedbacksComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, DriverProfileFeedbacksComponent_nz_table_0_Template, 20, 15, \"nz-table\", 0);\n          i0.ɵɵpipe(1, \"async\");\n        }\n        if (rf & 2) {\n          let tmp_0_0;\n          i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = i0.ɵɵpipeBind1(1, 1, ctx.query)) == null ? null : tmp_0_0.data == null ? null : tmp_0_0.data.feedbacks);\n        }\n      },\n      dependencies: [i2.RouterLink, i4.NgForOf, i4.NgIf, i5.NgControlStatus, i5.NgModel, i6.NzTableComponent, i6.NzThAddOnComponent, i6.NzTableCellDirective, i6.NzThMeasureDirective, i6.NzTheadComponent, i6.NzTbodyComponent, i6.NzTrDirective, i7.NzTagComponent, i8.NzTooltipDirective, i9.NzRateComponent, i4.AsyncPipe, i4.DatePipe, i10.TranslatePipe, i11.TimeagoPipe],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["ActivatedRoute","TableService","TagColorService","map","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ctx_r5","tagColor","boolean","parameter_r7","isGood","ɵɵadvance","ɵɵtextInterpolate","title","data_r4","requestId","ɵɵpipeBind1","ɵɵelement","ɵɵtemplate","DriverProfileFeedbacksComponent_nz_table_0_tr_19_nz_tag_10_Template","DriverProfileFeedbacksComponent_nz_table_0_tr_19_a_12_Template","ɵɵpipeBind2","reviewTimestamp","score","description","parameters","ɵɵlistener","DriverProfileFeedbacksComponent_nz_table_0_Template_nz_table_nzQueryParams_0_listener","ɵɵrestoreView","_r10","ctx_r9","ɵɵnextContext","ɵɵresetView","tableService","onTableQueryParamsChange","DriverProfileFeedbacksComponent_nz_table_0_tr_19_Template","feedbacks_r1","nodes","_r2","data","DriverProfileFeedbacksComponent","constructor","route","ngOnInit","query","pipe","feedbacks","ɵɵdirectiveInject","i1","i2","i3","selectors","decls","vars","consts","template","DriverProfileFeedbacksComponent_Template","rf","ctx","DriverProfileFeedbacksComponent_nz_table_0_Template","tmp_0_0"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/apps/admin-panel/src/app/cms/drivers/driver-profile/driver-profile-feedbacks/driver-profile-feedbacks.component.ts","/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/apps/admin-panel/src/app/cms/drivers/driver-profile/driver-profile-feedbacks/driver-profile-feedbacks.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ApolloQueryResult } from '@apollo/client/core';\nimport { DriverFeedbacksQuery } from '@ridy/admin-panel/generated/graphql';\nimport { TableService } from '@ridy/admin-panel/src/app/@services/table-service';\nimport { TagColorService } from '@ridy/admin-panel/src/app/@services/tag-color/tag-color.service';\nimport { map, Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-driver-profile-feedbacks',\n  templateUrl: './driver-profile-feedbacks.component.html'\n})\nexport class DriverProfileFeedbacksComponent implements OnInit {\n  query?: Observable<ApolloQueryResult<DriverFeedbacksQuery>>;\n\n  constructor(\n    public tagColor: TagColorService,\n    private route: ActivatedRoute,\n    public tableService: TableService\n\n    ) { }\n  ngOnInit(): void {\n    this.query = this.route.data.pipe(map(data => data.feedbacks));\n  }\n}\n","<nz-table #table nzShowSizeChanger [nzFrontPagination]=\"false\" *ngIf=\"(query | async)?.data?.feedbacks as feedbacks\"\n  [nzData]=\"feedbacks.nodes\" (nzQueryParams)=\"tableService.onTableQueryParamsChange\" nzBordered>\n  <thead>\n    <tr>\n      <th nzShowSort nzColumnKey=\"reviewTimestamp\">{{ 'profile.dateTime' | translate }}</th>\n      <th nzShowSort nzColumnKey=\"score\">{{ 'profile.rating' | translate }}</th>\n      <th class=\"hidden md:table-cell\">{{ 'profile.review' | translate }}</th>\n      <th class=\"hidden lg:table-cell\">Parameters</th>\n      <th>{{ 'profile.actions' | translate }}</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let data of table.data\">\n      <td [nz-tooltip]=\"data.reviewTimestamp | date:'short'\">{{ data.reviewTimestamp | timeago }}</td>\n      <td><nz-rate [ngModel]=\"data.score / 20\" nzDisabled nzAllowHalf></nz-rate></td>\n      <td class=\"hidden md:table-cell\">{{ data.description }}</td>\n      <td class=\"hidden lg:table-cell\">\n        <nz-tag *ngFor=\"let parameter of data.parameters\" [nzBordered]=\"false\"\n          [nzColor]=\"tagColor.boolean(parameter.isGood)\">{{parameter.title}}</nz-tag>\n      </td>\n      <td>\n        <a *ngIf=\"data.requestId !== null\" [routerLink]=\"'/requests/view/' + data.requestId\">{{ 'table.viewRequest' |\n          translate }}</a>\n      </td>\n    </tr>\n  </tbody>\n</nz-table>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}