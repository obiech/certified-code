{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport { clone, each } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { regionToBBox } from '../util/util';\nvar RegionFilterAnnotation = /** @class */function (_super) {\n  __extends(RegionFilterAnnotation, _super);\n  function RegionFilterAnnotation() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * 默认的配置项\n   * @returns {object} 默认的配置项\n   */\n  RegionFilterAnnotation.prototype.getDefaultCfg = function () {\n    var cfg = _super.prototype.getDefaultCfg.call(this);\n    return __assign(__assign({}, cfg), {\n      name: 'annotation',\n      type: 'regionFilter',\n      locationType: 'region',\n      start: null,\n      end: null,\n      color: null,\n      shape: []\n    });\n  };\n  RegionFilterAnnotation.prototype.renderInner = function (group) {\n    var _this = this;\n    var start = this.get('start');\n    var end = this.get('end');\n    // 1. add region layer\n    var layer = this.addGroup(group, {\n      id: this.getElementId('region-filter'),\n      capture: false\n    });\n    // 2. clone shape & color it\n    each(this.get('shapes'), function (shape, shapeIdx) {\n      var type = shape.get('type');\n      var attrs = clone(shape.attr());\n      _this.adjustShapeAttrs(attrs);\n      _this.addShape(layer, {\n        id: _this.getElementId(\"shape-\" + type + \"-\" + shapeIdx),\n        capture: false,\n        type: type,\n        attrs: attrs\n      });\n    });\n    // 3. clip\n    var clipBBox = regionToBBox({\n      start: start,\n      end: end\n    });\n    layer.setClip({\n      type: 'rect',\n      attrs: {\n        x: clipBBox.minX,\n        y: clipBBox.minY,\n        width: clipBBox.width,\n        height: clipBBox.height\n      }\n    });\n  };\n  RegionFilterAnnotation.prototype.adjustShapeAttrs = function (attr) {\n    var color = this.get('color');\n    if (attr.fill) {\n      attr.fill = attr.fillStyle = color;\n    }\n    attr.stroke = attr.strokeStyle = color;\n  };\n  return RegionFilterAnnotation;\n}(GroupComponent);\nexport default RegionFilterAnnotation;","map":{"version":3,"names":["__assign","__extends","clone","each","GroupComponent","regionToBBox","RegionFilterAnnotation","_super","apply","arguments","prototype","getDefaultCfg","cfg","call","name","type","locationType","start","end","color","shape","renderInner","group","_this","get","layer","addGroup","id","getElementId","capture","shapeIdx","attrs","attr","adjustShapeAttrs","addShape","clipBBox","setClip","x","minX","y","minY","width","height","fill","fillStyle","stroke","strokeStyle"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/node_modules/@antv/component/esm/annotation/region-filter.js"],"sourcesContent":["import { __assign, __extends } from \"tslib\";\nimport { clone, each } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { regionToBBox } from '../util/util';\nvar RegionFilterAnnotation = /** @class */ (function (_super) {\n    __extends(RegionFilterAnnotation, _super);\n    function RegionFilterAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    RegionFilterAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'regionFilter', locationType: 'region', start: null, end: null, color: null, shape: [] });\n    };\n    RegionFilterAnnotation.prototype.renderInner = function (group) {\n        var _this = this;\n        var start = this.get('start');\n        var end = this.get('end');\n        // 1. add region layer\n        var layer = this.addGroup(group, {\n            id: this.getElementId('region-filter'),\n            capture: false,\n        });\n        // 2. clone shape & color it\n        each(this.get('shapes'), function (shape, shapeIdx) {\n            var type = shape.get('type');\n            var attrs = clone(shape.attr());\n            _this.adjustShapeAttrs(attrs);\n            _this.addShape(layer, {\n                id: _this.getElementId(\"shape-\" + type + \"-\" + shapeIdx),\n                capture: false,\n                type: type,\n                attrs: attrs,\n            });\n        });\n        // 3. clip\n        var clipBBox = regionToBBox({ start: start, end: end });\n        layer.setClip({\n            type: 'rect',\n            attrs: {\n                x: clipBBox.minX,\n                y: clipBBox.minY,\n                width: clipBBox.width,\n                height: clipBBox.height,\n            },\n        });\n    };\n    RegionFilterAnnotation.prototype.adjustShapeAttrs = function (attr) {\n        var color = this.get('color');\n        if (attr.fill) {\n            attr.fill = attr.fillStyle = color;\n        }\n        attr.stroke = attr.strokeStyle = color;\n    };\n    return RegionFilterAnnotation;\n}(GroupComponent));\nexport default RegionFilterAnnotation;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}