{"ast":null,"code":"import { ActivatedRoute, Router } from '@angular/router';\nimport { ComplaintStatus } from '@ridy/admin-panel/generated/graphql';\nimport { TagColorService } from '@ridy/admin-panel/src/app/@services/tag-color/tag-color.service';\nimport { map } from 'rxjs';\nimport { TableService } from '../../../@services/table-service';\nimport { camelCase } from \"camel-case\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@ridy/admin-panel/src/app/@services/tag-color/tag-color.service\";\nimport * as i3 from \"../../../@services/table-service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"ng-zorro-antd/table\";\nimport * as i6 from \"ng-zorro-antd/tag\";\nimport * as i7 from \"ng-zorro-antd/page-header\";\nimport * as i8 from \"@ngx-translate/core\";\nimport * as i9 from \"ngx-timeago\";\nfunction ComplaintsListComponent_nz_table_2_tr_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 5)(1, \"td\")(2, \"div\", 6)(3, \"div\")(4, \"div\", 7);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 8);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"timeago\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(9, \"td\", 8);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"nz-tag\", 9);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const data_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", \"view/\" + data_r4.id);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", data_r4.subject, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Submitted on \", i0.ɵɵpipeBind1(8, 7, data_r4.inscriptionTimestamp), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(data_r4.content);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"nzColor\", ctx_r3.tagColor.complaintStatus(data_r4.status))(\"nzBordered\", false);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(14, 9, \"enum.complaintStatus.\" + ctx_r3.camelCase(data_r4.status)));\n  }\n}\nfunction ComplaintsListComponent_nz_table_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"nz-table\", 2, 3);\n    i0.ɵɵlistener(\"nzQueryParams\", function ComplaintsListComponent_nz_table_2_Template_nz_table_nzQueryParams_0_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.tableService.onTableQueryParamsChange($event));\n    });\n    i0.ɵɵelementStart(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"translate\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"tbody\");\n    i0.ɵɵtemplate(14, ComplaintsListComponent_nz_table_2_tr_14_Template, 15, 11, \"tr\", 4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const complaints_r1 = ctx.ngIf;\n    const _r2 = i0.ɵɵreference(1);\n    i0.ɵɵproperty(\"nzFrontPagination\", false)(\"nzData\", complaints_r1.nodes)(\"nzTotal\", complaints_r1.totalCount);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 7, \"profile.title\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 9, \"profile.content\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(12, 11, \"profile.status\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", _r2.data);\n  }\n}\nexport class ComplaintsListComponent {\n  constructor(route, router, tagColor, tableService) {\n    this.route = route;\n    this.router = router;\n    this.tagColor = tagColor;\n    this.tableService = tableService;\n    this.complaintStatus = ComplaintStatus;\n    this.camelCase = camelCase;\n  }\n  ngOnInit() {\n    this.query = this.route.data.pipe(map(data => data.complaints));\n  }\n  static {\n    this.ɵfac = function ComplaintsListComponent_Factory(t) {\n      return new (t || ComplaintsListComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.TagColorService), i0.ɵɵdirectiveInject(i3.TableService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ComplaintsListComponent,\n      selectors: [[\"app-complaints-list\"]],\n      decls: 4,\n      vars: 4,\n      consts: [[\"nzBackIcon\", \"\", \"nzTitle\", \"Complaints\", \"nzSubtitle\", \"Complaints submitted by riders/drivers\", 3, \"nzGhost\"], [\"nzShowSizeChanger\", \"\", \"nzBordered\", \"\", 3, \"nzFrontPagination\", \"nzData\", \"nzTotal\", \"nzQueryParams\", 4, \"ngIf\"], [\"nzShowSizeChanger\", \"\", \"nzBordered\", \"\", 3, \"nzFrontPagination\", \"nzData\", \"nzTotal\", \"nzQueryParams\"], [\"table\", \"\"], [\"class\", \"group cursor-pointer\", 4, \"ngFor\", \"ngForOf\"], [1, \"group\", \"cursor-pointer\"], [1, \"flex\", \"items-center\", \"ml-2\", 3, \"routerLink\"], [1, \"table-first-line\"], [1, \"table-second-line\"], [3, \"nzColor\", \"nzBordered\"]],\n      template: function ComplaintsListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"nz-page-header\", 0)(1, \"nz-page-header-content\");\n          i0.ɵɵtemplate(2, ComplaintsListComponent_nz_table_2_Template, 15, 13, \"nz-table\", 1);\n          i0.ɵɵpipe(3, \"async\");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          let tmp_1_0;\n          i0.ɵɵproperty(\"nzGhost\", false);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = i0.ɵɵpipeBind1(3, 2, ctx.query)) == null ? null : tmp_1_0.data == null ? null : tmp_1_0.data.complaints);\n        }\n      },\n      dependencies: [i4.NgForOf, i4.NgIf, i1.RouterLink, i5.NzTableComponent, i5.NzTableCellDirective, i5.NzThMeasureDirective, i5.NzTheadComponent, i5.NzTbodyComponent, i5.NzTrDirective, i6.NzTagComponent, i7.NzPageHeaderComponent, i7.NzPageHeaderContentDirective, i4.AsyncPipe, i8.TranslatePipe, i9.TimeagoPipe],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["ActivatedRoute","Router","ComplaintStatus","TagColorService","map","TableService","camelCase","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","data_r4","id","ɵɵtextInterpolate1","subject","ɵɵpipeBind1","inscriptionTimestamp","ɵɵtextInterpolate","content","ctx_r3","tagColor","complaintStatus","status","ɵɵlistener","ComplaintsListComponent_nz_table_2_Template_nz_table_nzQueryParams_0_listener","$event","ɵɵrestoreView","_r6","ctx_r5","ɵɵnextContext","ɵɵresetView","tableService","onTableQueryParamsChange","ɵɵtemplate","ComplaintsListComponent_nz_table_2_tr_14_Template","complaints_r1","nodes","totalCount","_r2","data","ComplaintsListComponent","constructor","route","router","ngOnInit","query","pipe","complaints","ɵɵdirectiveInject","i1","i2","i3","selectors","decls","vars","consts","template","ComplaintsListComponent_Template","rf","ctx","ComplaintsListComponent_nz_table_2_Template","tmp_1_0"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/apps/admin-panel/src/app/cms/complaints/complaints-list/complaints-list.component.ts","/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/apps/admin-panel/src/app/cms/complaints/complaints-list/complaints-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Params, ActivatedRoute, Router } from '@angular/router';\nimport { ApolloQueryResult } from '@apollo/client/core';\nimport { ComplaintsListQuery, ComplaintStatus } from '@ridy/admin-panel/generated/graphql';\nimport { TagColorService } from '@ridy/admin-panel/src/app/@services/tag-color/tag-color.service';\nimport { map, Observable } from 'rxjs';\nimport { TableService } from '../../../@services/table-service';\nimport { camelCase } from \"camel-case\";\n\n@Component({\n  selector: 'app-complaints-list',\n  templateUrl: './complaints-list.component.html'\n})\nexport class ComplaintsListComponent implements OnInit {\n  query?: Observable<ApolloQueryResult<ComplaintsListQuery>>;\n  public complaintStatus = ComplaintStatus;\n  public camelCase = camelCase;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    public tagColor: TagColorService,\n    public tableService: TableService) { }\n\n  ngOnInit(): void {\n    this.query = this.route.data.pipe(map(data => data.complaints));\n  }\n}\n","<nz-page-header [nzGhost]=\"false\" nzBackIcon nzTitle=\"Complaints\" nzSubtitle=\"Complaints submitted by riders/drivers\">\n  <nz-page-header-content>\n    <nz-table #table nzShowSizeChanger [nzFrontPagination]=\"false\"\n      *ngIf=\"(query | async)?.data?.complaints as complaints\" [nzData]=\"complaints.nodes\"\n      [nzTotal]=\"complaints.totalCount\" (nzQueryParams)=\"tableService.onTableQueryParamsChange($event)\" nzBordered>\n      <thead>\n        <tr>\n          <th>{{ 'profile.title' | translate }}</th>\n          <th>{{ 'profile.content' | translate }}</th>\n          <th>{{ 'profile.status' | translate }}</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let data of table.data\" class=\"group cursor-pointer\">\n          <td>\n            <div class=\"flex items-center ml-2\" [routerLink]=\"'view/' + data.id\">\n              <div>\n                <div class=\"table-first-line\">\n                  {{ data.subject }}\n                </div>\n                <div class=\"table-second-line\">\n                  Submitted on {{ data.inscriptionTimestamp | timeago }}\n                </div>\n              </div>\n            </div>\n          </td>\n          <td class=\"table-second-line\">{{ data.content }}</td>\n          <td>\n            <nz-tag [nzColor]=\"tagColor.complaintStatus(data.status)\" [nzBordered]=\"false\">{{ ('enum.complaintStatus.' +\n              camelCase(data.status)) | translate }}</nz-tag>\n          </td>\n        </tr>\n      </tbody>\n    </nz-table>\n  </nz-page-header-content>\n</nz-page-header>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}