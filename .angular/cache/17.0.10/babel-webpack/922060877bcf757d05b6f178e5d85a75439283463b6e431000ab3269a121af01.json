{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { getElements, getElementsByState } from '../util';\nimport { clearHighlight } from './highlight-util';\nimport StateAction from './state';\nimport { ELEMENT_STATE } from '../../../constant';\nexport var STATUS_UNACTIVE = ELEMENT_STATE.INACTIVE;\nexport var STATUS_ACTIVE = ELEMENT_STATE.ACTIVE;\n/**\n * @ignore\n * highlight，指定图形高亮，其他图形变暗\n */\nvar ElementHighlight = /** @class */function (_super) {\n  __extends(ElementHighlight, _super);\n  function ElementHighlight() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.stateName = STATUS_ACTIVE;\n    return _this;\n  }\n  // 多个元素设置、取消 highlight\n  ElementHighlight.prototype.setElementsStateByItem = function (elements, field, item, enable) {\n    var _this = this;\n    var callback = function (el) {\n      return _this.isMathItem(el, field, item);\n    };\n    this.setHighlightBy(elements, callback, enable);\n  };\n  // 设置元素的 highlight\n  ElementHighlight.prototype.setElementHighlight = function (el, callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else if (!el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_UNACTIVE, true);\n    }\n  };\n  ElementHighlight.prototype.setHighlightBy = function (elements, callback, enable) {\n    var _this = this;\n    if (enable) {\n      // 如果是设置 highlight ，则将匹配的 element 设置成 active，\n      // 其他如果不是 active，则设置成 unactive\n      each(elements, function (el) {\n        _this.setElementHighlight(el, callback);\n      });\n    } else {\n      // 如果取消 highlight，则要检测是否全部取消 highlight\n      var activeElements = getElementsByState(this.context.view, STATUS_ACTIVE);\n      var allCancel_1 = true;\n      // 检测所有 activeElements 都要取消 highlight\n      each(activeElements, function (el) {\n        if (!callback(el)) {\n          allCancel_1 = false;\n          return false;\n        }\n      });\n      if (allCancel_1) {\n        // 都要取消，则取消所有的 active，unactive 状态\n        this.clear();\n      } else {\n        // 如果不是都要取消 highlight, 则设置匹配的 element 的状态为 unactive\n        // 其他 element 状态不变\n        each(elements, function (el) {\n          if (callback(el)) {\n            if (el.hasState(STATUS_ACTIVE)) {\n              el.setState(STATUS_ACTIVE, false);\n            }\n            el.setState(STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  };\n  // 单个元素设置和取消 highlight\n  ElementHighlight.prototype.setElementState = function (element, enable) {\n    var view = this.context.view;\n    var elements = getElements(view);\n    this.setHighlightBy(elements, function (el) {\n      return element === el;\n    }, enable);\n  };\n  ElementHighlight.prototype.highlight = function () {\n    this.setState();\n  };\n  // 清理掉所有的 active， unactive 状态\n  ElementHighlight.prototype.clear = function () {\n    var view = this.context.view;\n    clearHighlight(view);\n  };\n  return ElementHighlight;\n}(StateAction);\nexport default ElementHighlight;","map":{"version":3,"names":["__extends","each","getElements","getElementsByState","clearHighlight","StateAction","ELEMENT_STATE","STATUS_UNACTIVE","INACTIVE","STATUS_ACTIVE","ACTIVE","ElementHighlight","_super","_this","apply","arguments","stateName","prototype","setElementsStateByItem","elements","field","item","enable","callback","el","isMathItem","setHighlightBy","setElementHighlight","hasState","setState","activeElements","context","view","allCancel_1","clear","setElementState","element","highlight"],"sources":["/Users/obiechina/Documents/ridy-flutter-full-taxi-solution 2/node_modules/@antv/g2/esm/interaction/action/element/highlight.js"],"sourcesContent":["import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { getElements, getElementsByState } from '../util';\nimport { clearHighlight } from './highlight-util';\nimport StateAction from './state';\nimport { ELEMENT_STATE } from '../../../constant';\nexport var STATUS_UNACTIVE = ELEMENT_STATE.INACTIVE;\nexport var STATUS_ACTIVE = ELEMENT_STATE.ACTIVE;\n/**\n * @ignore\n * highlight，指定图形高亮，其他图形变暗\n */\nvar ElementHighlight = /** @class */ (function (_super) {\n    __extends(ElementHighlight, _super);\n    function ElementHighlight() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = STATUS_ACTIVE;\n        return _this;\n    }\n    // 多个元素设置、取消 highlight\n    ElementHighlight.prototype.setElementsStateByItem = function (elements, field, item, enable) {\n        var _this = this;\n        var callback = function (el) { return _this.isMathItem(el, field, item); };\n        this.setHighlightBy(elements, callback, enable);\n    };\n    // 设置元素的 highlight\n    ElementHighlight.prototype.setElementHighlight = function (el, callback) {\n        if (callback(el)) {\n            if (el.hasState(STATUS_UNACTIVE)) {\n                el.setState(STATUS_UNACTIVE, false);\n            }\n            el.setState(STATUS_ACTIVE, true);\n        }\n        else if (!el.hasState(STATUS_ACTIVE)) {\n            el.setState(STATUS_UNACTIVE, true);\n        }\n    };\n    ElementHighlight.prototype.setHighlightBy = function (elements, callback, enable) {\n        var _this = this;\n        if (enable) {\n            // 如果是设置 highlight ，则将匹配的 element 设置成 active，\n            // 其他如果不是 active，则设置成 unactive\n            each(elements, function (el) {\n                _this.setElementHighlight(el, callback);\n            });\n        }\n        else {\n            // 如果取消 highlight，则要检测是否全部取消 highlight\n            var activeElements = getElementsByState(this.context.view, STATUS_ACTIVE);\n            var allCancel_1 = true;\n            // 检测所有 activeElements 都要取消 highlight\n            each(activeElements, function (el) {\n                if (!callback(el)) {\n                    allCancel_1 = false;\n                    return false;\n                }\n            });\n            if (allCancel_1) {\n                // 都要取消，则取消所有的 active，unactive 状态\n                this.clear();\n            }\n            else {\n                // 如果不是都要取消 highlight, 则设置匹配的 element 的状态为 unactive\n                // 其他 element 状态不变\n                each(elements, function (el) {\n                    if (callback(el)) {\n                        if (el.hasState(STATUS_ACTIVE)) {\n                            el.setState(STATUS_ACTIVE, false);\n                        }\n                        el.setState(STATUS_UNACTIVE, true);\n                    }\n                });\n            }\n        }\n    };\n    // 单个元素设置和取消 highlight\n    ElementHighlight.prototype.setElementState = function (element, enable) {\n        var view = this.context.view;\n        var elements = getElements(view);\n        this.setHighlightBy(elements, function (el) { return element === el; }, enable);\n    };\n    ElementHighlight.prototype.highlight = function () {\n        this.setState();\n    };\n    // 清理掉所有的 active， unactive 状态\n    ElementHighlight.prototype.clear = function () {\n        var view = this.context.view;\n        clearHighlight(view);\n    };\n    return ElementHighlight;\n}(StateAction));\nexport default ElementHighlight;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}